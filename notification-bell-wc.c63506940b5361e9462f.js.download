(self.webpackChunk_msnews_msnews_experiences=self.webpackChunk_msnews_msnews_experiences||[]).push([["notification-bell-wc","msnews/publishers-service-client","node_modules_fluentui_svg-icons_icons_news_20_regular_svg"],{78559:function(e,t,i){"use strict";i.r(t),i.d(t,{BingTelemetry:function(){return N},BingTelemetryActionType:function(){return D},NotificationBellWC:function(){return Ce},NotificationBellWCSSRStyles:function(){return Zt},NotificationBellWCStyles:function(){return Xt},NotificationBellWCTelemetry:function(){return R},NotificationBellWCTelemetryConstants:function(){return M},NotificationBellWCTemplate:function(){return Rt},ToolingInfo:function(){return ei}});var n=i(37627),o=i(63070),a=i(27535),r=i(94352),s=i(79896);var c,l,d,u,h,p,m=i(33940),g=i(34934),f=i(42729),v=i(32808),y=i(15598),b=i(57663);!function(e){e.BroadcastNews_BreakingNews="BroadcastNews_BreakingNews",e.BroadcastNews_DailyBrief="BroadcastNews_DailyBrief",e.BroadcastNews_TopStories="BroadcastNews_TopStories",e.Community_SocialAchievements="Community_SocialAchievements",e.Community_SocialAlerts="Community_SocialAlerts",e.Community_SocialFollowers="Community_SocialFollowers",e.Community_SocialReactions="Community_SocialReactions",e.Community_SocialReplies="Community_SocialReplies",e.Elections_Deadline="Elections_Deadline",e.Elections_PrimaryResults="Elections_PrimaryResults",e.Elections_ScheduleChange="Elections_ScheduleChange",e.EsportsTeam_MatchUpcoming="EsportsTeam_MatchUpcoming",e.Finance_StockChangeAtMarketClose="Finance_StockChangeAtMarketClose",e.Finance_Watchlist="Finance_Watchlist",e.Finance_PriceMovement="Finance_PriceMovement",e.Flight_Info="Flight_Info",e.Flight_Info_TimerBased="Flight_Info_TimerBased",e.HealthTeam_AskExpert="HealthTeam_AskExpert",e.HotelReservation_PriceDrop="HotelReservation_PriceDrop",e.Lottery_DrawHappened="Lottery_DrawHappened",e.MsnNews_DailyBriefCoronavirus="MsnNews_DailyBriefCoronavirus",e.QuizType_NewQuizAvailable="QuizType_NewQuizAvailable",e.RealEstateCategory_ListingsUpdated="RealEstateCategory_ListingsUpdated",e.RealEstateEntity_Updated="RealEstateEntity_Updated",e.Rebates_CashOutAvailable="Rebates_CashOutAvailable",e.Rebates_PurchaseCancelled="Rebates_PurchaseCancelled",e.Rebates_PurchaseConfirmed="Rebates_PurchaseConfirmed",e.Rewards_ConfirmationOfDonation="Rewards_ConfirmationOfDonation",e.Rewards_ReminderToRedeem="Rewards_ReminderToRedeem",e.SapphireClient_Recall="SapphireClient_Recall",e.Shopping_DealOfTheDay="Shopping_DealOfTheDay",e.Shopping_DealOfTheDay_2="Shopping_DealOfTheDay_2",e.Shopping_PriceDrop="Shopping_PriceDrop",e.Shopping_TopDeal="Shopping_TopDeal",e.Shopping_TopDealGeneric="Shopping_TopDealGeneric",e.SportsTeam_GameEnded="SportsTeam_GameEnded",e.SportsTeam_SportsTopStories="SportsTeam_SportsTopStories",e.Traffic_HighestImpactIncident="Traffic_HighestImpactIncident",e.Traffic_Commute="Traffic_Commute",e.Traffic_RoadClosure="Traffic_RoadClosure",e.Travel_DestinationHotelSuggestion="Travel_DestinationHotelSuggestion",e.Wallet_PersonalizedOffer="Wallet_PersonalizedOffer",e.Weather_SevereWeather="Weather_SevereWeather",e.Weather_Hurricane="Weather_Hurricane",e.Weather_Wildfire="Weather_Wildfire",e.Weather_WeatherOneLiner="Weather_WeatherOneLiner",e.News_BreakingNews="News_BreakingNews"}(c||(c={})),function(e){e.AllNotifications="AllNotifications",e.AllCommunityNotifications="AllCommunityNotifications",e.AllFinanceNotifications="AllFinanceNotifications",e.AllShoppingNotifications="AllShoppingNotifications",e.AllNewsNotifications="AllNewsNotifications",e.AllSportsNotifications="AllSportsNotifications",e.AllWalletNotifications="AllWalletNotifications",e.AllTravelNotifications="AllTravelNotifications",e.AllHealthNotifications="AllHealthNotifications",e.AllTrafficNotifications="AllTrafficNotifications",e.AllWeatherNotifications="AllWeatherNotifications",e.Community_SocialAchievements="Community_SocialAchievements",e.Community_SocialAlerts="Community_SocialAlerts",e.Community_SocialFollowers="Community_SocialFollowers",e.Community_SocialReactions="Community_SocialReactions",e.Community_SocialReplies="Community_SocialReplies",e.Finance_StockChangeAtMarketClose="Finance_StockChangeAtMarketClose",e.Finance_PriceMovement="Finance_PriceMovement",e.HealthTeam_AskExpert="HealthTeam_AskExpert",e.News_BreakingNews="News_BreakingNews",e.News_DailyBrief="News_DailyBrief",e.News_TopStories="News_TopStories",e.Shopping_DealOfTheDay="Shopping_DealOfTheDay",e.Shopping_TopDeal="Shopping_TopDeal",e.Shopping_TopDealGeneric="Shopping_TopDealGeneric",e.SportsTeam_GameEnded="SportsTeam_GameEnded",e.SportsTeam_SportsTopStories="SportsTeam_SportsTopStories",e.Traffic_HighestImpactIncident="Traffic_HighestImpactIncident",e.Traffic_Commute="Traffic_Commute",e.Traffic_RoadClosure="Traffic_RoadClosure",e.Travel_DestinationHotelSuggestion="Travel_DestinationHotelSuggestion",e.Wallet_PersonalizedOffer="Wallet_PersonalizedOffer",e.Weather_SevereWeather="Weather_SevereWeather",e.Weather_Hurricane="Weather_Hurricane",e.Weather_Wildfire="Weather_Wildfire",e.Weather_WeatherOneLiner="Weather_WeatherOneLiner"}(l||(l={})),function(e){e.New="New",e.Seen="Seen"}(d||(d={})),function(e){e.AddInterest="AddInterest",e.BlockInference="BlockInference",e.DisableFeatureConsumption="DisableFeatureConsumption"}(u||(u={})),function(e){e.Follow="Follow",e.NotInterested="NotInterested",e.Disable="Disable",e.StopNotifying="StopNotifying"}(h||(h={})),function(e){e.Post="Post"}(p||(p={}));var w=i(61303),k=i(59878),S=i(7733),C=i(24032),x=i(5302),T=i(44132),_=i(34833),P=i(93483);const A=new(i(45970).X),I="update";var $=i(81586);const M={headline:"Notification Bell",name:"NotificationBell",cardActionEllipsis:"CardActionEllipsis",destination:"destination",settingPage:"Settings",seen:"seen",unseen:"unseen",followInterests:"FollowInterests",socialJoin:"socialJoin",socialClose:"socialClose",TurnOffNotifications:"TurnOffNotifications",TurnOnNotifications:"TurnOnNotifications"};var D;!function(e){e[e.Undefined=-1]="Undefined",e[e.Send=0]="Send",e[e.Show=1]="Show",e[e.Click=2]="Click",e[e.OpenSettings=3]="OpenSettings",e[e.BingInterestAdd=4]="BingInterestAdd",e[e.BingInterestDelete=5]="BingInterestDelete",e[e.BingInferenceConfirm=6]="BingInferenceConfirm",e[e.BingInferenceDeny=7]="BingInferenceDeny",e[e.Dismiss=8]="Dismiss"}(D||(D={}));class N{constructor(){this.bingTelemetryURL="https://www.bing.com/pnp/inst"}getBingTelemetryHeaders(){const e={"X-PERSONALBING-CSRF":"1"},t=(0,b.Yq)().CurrentMarket;t&&(e["X-Search-UILang"]=t);const i=(0,_.ej)("at-bing");i&&(e["X-Search-RPSToken"]=i);const n=(0,_.jG)();return n&&(e["X-Search-ClientID"]=n),k.Al.CurrentFlights&&(e["X-PERSONALBING-FLIGHTS"]=k.Al.CurrentFlights),e}async fireBingTelemetry(e,t){try{const i={c:"anaheim_nc",a:e,...JSON.parse(t),ts:(new Date).getTime()},n=await fetch(this.bingTelemetryURL,{credentials:"same-origin",headers:this.getBingTelemetryHeaders(),method:"POST",body:JSON.stringify(i)});n.ok||console.error(n.statusText)}catch(e){return void T.M0.sendAppErrorEvent(x.Kuw)}}}const E=e=>e.type===c.Wallet_PersonalizedOffer?$.uH.CashbackOffer:$.uH.Article;class R{constructor(e,t){this.telemetryObject=e,this.notificationContainerViewObject=this.telemetryObject.addOrUpdateChild({name:M.name})}bellContentView(e){return this.notificationContainerViewObject.addOrUpdateChild({name:`${M.name}${e||""}`,content:{headline:M.headline,type:$.uH.Notification}})}bellClick(){return this.notificationContainerViewObject.addOrUpdateChild({name:M.name,action:$.Aw.Click,destinationUrl:"",content:{headline:M.headline,type:$.uH.Notification}})}notificationItemContentView(e){return this.notificationContainerViewObject.addOrUpdateChild({name:e.type,content:{headline:e.body,id:e.id,type:E(e)}})}notificationItemClick(e){return this.notificationItemContentView(e).addOrUpdateChild({name:M.destination,action:$.Aw.Click,content:{headline:e.body,id:e.id,type:E(e)}})}notificationActionMenuIconClick(e){return this.notificationItemContentView(e).addOrUpdateChild({name:M.cardActionEllipsis,action:$.Aw.Click,behavior:$.wu.More,content:{headline:e.body,id:e.id,type:E(e)}})}notificationActionClick(e,t){const i=t.iconName.includes("Stop"),n=i?"Stop":"Disable",o=e.type.split("_")[i?1:0];return this.notificationActionMenuIconClick(e).addOrUpdateChild({name:`${n}${o}Notification`,action:$.Aw.Click,behavior:$.wu.TurnOff,content:{headline:e.body,id:e.id,type:E(e)}})}notificationSettingPage(){return this.notificationContainerViewObject.addOrUpdateChild({name:M.settingPage,action:$.Aw.Click,behavior:$.wu.Navigate,type:$.c9.ActionButton})}notificationSettingOpenCloseControlPanel(e){return this.notificationContainerViewObject.addOrUpdateChild({name:M.settingPage,action:$.Aw.Click,behavior:e?$.wu.Open:$.wu.Close,type:$.c9.ActionButton,content:{headline:M.settingPage,type:$.uH.Notification}})}notificationFollowInterest(){return this.notificationContainerViewObject.addOrUpdateChild({name:M.followInterests,action:$.Aw.Click,behavior:$.wu.Navigate})}socialNotificationJoin(){return this.notificationContainerViewObject.addOrUpdateChild({name:M.socialJoin,action:$.Aw.Click,behavior:$.wu.Navigate})}socialNotificationClose(){return this.notificationContainerViewObject.addOrUpdateChild({name:M.socialClose,action:$.Aw.Click,behavior:$.wu.Close})}toggleAllNotification(e){return this.notificationContainerViewObject.addOrUpdateChild({name:e?M.TurnOnNotifications:M.TurnOffNotifications,action:$.Aw.Click,behavior:e?$.wu.TurnOn:$.wu.TurnOff})}}var O=i(32982),L=i(82718),H=i(43261),B=i(25941),F=i(75059),U=i(27026),j=i(44887),G=i(17841),W=i(523),V=i(70041),z=i(62907),q=i(31699),K=i(49218),J=i(99452),Y=i(43225),Q=i(242),Z=i(29363),X=i(88685),ee=i(11514),te=i(98604),ie=i(26197);const ne=new class{constructor(){this.notificationHost="https://www.bing.com",this.notificationHostCN="https://cn.bing.com",this.getNotificationSettingClientPath="pnp/api/v1/notifications/settings/read",this.updateNotificationSettingClientPath="profile/interestmanager/update",this.getNotificationCountClientPath="bnc/notifications/count",this.getNotificationListClientPath="bnc/notifications",(0,b.Yq)().IsChinaCompliance&&(this.notificationHost=this.notificationHostCN)}getNotificationHeaders(){const e={"X-PERSONALBING-CSRF":"1"},t=(0,b.Yq)().CurrentMarket;t&&(e["X-Search-UILang"]=t);const i=(0,y.$o)().getItem(P.I0);i&&(e["X-Search-RPSToken"]=i);const n=(0,_.jG)();return n&&(e["X-Search-ClientID"]=n),k.Al.CurrentFlights&&(e["X-PERSONALBING-FLIGHTS"]=k.Al.CurrentFlights),e}async getNotificationSetting(){const e={service:"Anaheim"},t=new S.h;for(const i in e)t.set(i,e[i]);const i=new URL(this.getNotificationSettingClientPath,this.notificationHost);let n;i.search=t.toString();try{const e=await fetch(i.href,{credentials:"same-origin",headers:this.getNotificationHeaders()});if(!e.ok)throw Error(e.statusText);n=await e.json()}catch(e){return void T.M0.sendAppErrorEvent({...x.eE5,message:"Error while fetching notifications",pb:{...x.eE5.pb,customMessage:`Error: ${e}`}})}if(n)return n;T.M0.sendAppErrorEvent({...x.g52,message:"Didn't get valid JSON from notifications response."})}async updateNotificationSetting(e){const t=new URL(this.updateNotificationSettingClientPath,this.notificationHost),i=[];let n,o={};try{if("string"==typeof e){o[JSON.parse(JSON.parse(e)[0].ParametersJson).FeatureName]=!1}else o=e}catch(e){return void T.M0.sendAppErrorEvent({...x.Ub$,message:"Error while updating notification settings",pb:{...x.Ub$.pb,customMessage:`Error: ${e}`}})}for(const t in o)i.push({Partner:"Platform",Name:"SetIsConsumptionAllowedAllUp",ParametersJson:JSON.stringify({InterestConsumingService:"Anaheim",FeatureName:t,NewIsConsumptionAllowed:e[t]})});if(i.length){try{const e=await fetch(t.href,{credentials:"same-origin",headers:this.getNotificationHeaders(),method:"POST",body:JSON.stringify(i)});if(!e.ok)throw Error(e.statusText);n=await e.json()}catch(e){return void T.M0.sendAppErrorEvent({...x.Ub$,message:"Error while updating notification settings",pb:{...x.Ub$.pb,customMessage:`Error: ${e}`}})}return n}}getRequestQueryParamsString(){const e=new S.h,{pagetype:t}=k.Al.ClientSettings||{},[i,n]=(0,w.EQ)({pagetype:t}).with({pagetype:w.P.when((e=>["ntp","dhp"].includes(e)))},(()=>["anaheim","ntp"])).with({pagetype:w.P.when((e=>["windowshp","community::profile","community::activity"].includes(e)))},(()=>["anaheim","winfullpage"])).with({pagetype:"hp"},(()=>["msn","msnhp"])).with({pagetype:w.P.when((e=>e.includes("news")))},(()=>["verticalNews","news"===t?"news":t.split("::")[1]])).with({pagetype:"shoppinglivedetails"},(()=>["verticalShopping","shopping"])).otherwise((()=>{const e=t.split("::")[0];return["vertical"+e.replace(/^\S/,(e=>e.toUpperCase())),e]}));return e.set("app",i),e.set("pageId",n),e.set("ocid",(0,C.L)().get("ocid")),e.toString()}async getNotificationCount(){const e=new URL(this.getNotificationCountClientPath,this.notificationHost);e.search=this.getRequestQueryParamsString();let t=null;try{const i=await fetch(e.href,{credentials:"same-origin",headers:this.getNotificationHeaders()});if(!i.ok)throw Error(i.statusText);t=await i.json()}catch(e){return void T.M0.sendAppErrorEvent({...x.eE5,message:"Error while fetching notification count",pb:{...x.eE5.pb,customMessage:`Error: ${e}`}})}if(t)return t;T.M0.sendAppErrorEvent({...x.g52,message:"Didn't get valid JSON from notification count response."})}async getNotificationList(){const e=new URL(this.getNotificationListClientPath,this.notificationHost);let t;e.search=this.getRequestQueryParamsString();try{const i=await fetch(e.href,{credentials:"same-origin",headers:this.getNotificationHeaders()});if(!i.ok)throw Error(i.statusText);t=await i.json()}catch(e){return void T.M0.sendAppErrorEvent({...x.gTq,message:"Error while fetching notification settings",pb:{...x.gTq.pb,customMessage:`Error: ${e}`}})}if(t)return t;T.M0.sendAppErrorEvent({...x.g52,message:"Didn't get valid JSON from notification settings response."})}};async function oe(e){try{const[t]=JSON.parse(e),i=JSON.parse(t.ParametersJson);await ne.updateNotificationSetting({[i.FeatureName]:i.NewIsConsumptionAllowed})}catch(t){console.error(t,"Notification action payload is unavaliable, the paylod is: ",e)}}var ae=i(5884),re=i(75938),se=i(61149),ce=i(84964),le=i(21215),de=i(74604),ue=i(22691),he=i(15675),pe=i(33779),me=i(60804);const ge=new class{constructor(){this.localStorage=new Map,this.wpoTreatmentTypeMap=new Map,this.isLoaded=new Map}getWpoTreatments(e){const t=(0,me._)(b.jG.AppType,b.jG.CurrentRequestTargetScope);if(!this.isLoaded.get(t)||e){this.wpoTreatmentTypeMap.set(t,new Map);const e=this.wpoTreatmentTypeMap.get(t);for(const t in he._h)if(isNaN(Number(t))){const i=he._h[t];null==e||e.set(i,[])}const{treatments:o}=(0,y.$o)().getObject(t)||{};if(this.localStorage.set(t,o||[]),o)for(let t=0;t<o.length;t++){var i;const a=null===(i=o[t])||void 0===i?void 0:i.type;var n;if(a)null==e||null===(n=e.get(a))||void 0===n||n.push(o[t])}this.isLoaded.set(t,!0)}return this.localStorage.get(t)}getWpoTreatmentsWithType(e,t){var i;const n=(0,me._)(b.jG.AppType,b.jG.CurrentRequestTargetScope);return this.isLoaded.get(n)&&!t||this.getWpoTreatments(t),null===(i=this.wpoTreatmentTypeMap.get(n))||void 0===i?void 0:i.get(e)}};var fe=i(94537),ve=i(65518),ye=i(82928),be=i(25513),we=i(17813),ke=i(17395);const Se="NOTIFICATION_CACHE_LS_KEY";class Ce extends ce.l{constructor(){super(...arguments),this.currMenuId=-1,this.count=0,this.notifications=[],this.isOpen=!1,this.isLoading=!1,this.enabledInSettings=!1,this.pagetype="",this.icontype="",this.currRewardsClickedId=-1,this.isNotificationControlFlyoutOpen=!1,this.isAllNotificationsTurnedOn=!1,this.showFullPageBlur=!1,this.needDarkThemeIcons=!1,this.notificationCacheTime=1,this.cachedData={notificationLastRequestTimestamp:{count:0,notifications:0},notificationBellCacheData:{count:0,notifications:[]}},this.onFlyoutEvent=(e,t)=>{this.isOpen&&e!==g.tk.notificationBell&&t&&this.handleClose()},this.handleClose=()=>{this.isOpen&&(this.handleCardActionClose(),this.closeNotificationControlFlyout(),this.notifications=[],this.isOpen=!1,document.removeEventListener("mousedown",this.handleClick,!1),document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("scroll",this.handleScroll,!1),(0,g.Gg)(g.tk.notificationBell,!1))},this.handleScroll=(0,f.k)((()=>{this.handleClose()}),0)}experienceConnected(){if((0,le.N)()){const e=[(0,we.lr)()];window.isSSREnabled&&e.push((0,be.F_)()),Promise.all(e).then((()=>{this.populateUnreadCount()})),this.loadCachedDataFromLocalStorage(),(0,g.WW)(this.onFlyoutEvent),this.notificationBellRefPromise=new Promise((e=>this.notificationBellRefPromiseResolver=e))}else{const e="off"!==(0,ye.K0)(W.z.ChromiumPageSettings).getCurrentState().currentBackgroundImageType;this.isOnImage=e}(0,de.Bn)().subscribe(this.handleClose),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleScroll=this.handleScroll.bind(this),this.notificationBellWCTelemetry=new R(this.telemetryObject,this.config),this.bingTelemetry=new N,this.pagetype=k.Al.ClientSettings.pagetype,this.icontype||(this.icontype=this.isAnaheim()?"anaheim":"common"),(0,v.N6)("backgroundImage",(e=>{const t="displayed"===e;q.S.queueUpdate((()=>this.isOnImage=t))}))}disconnectedCallback(){super.disconnectedCallback(),(0,g.St)(this.onFlyoutEvent),(0,de.Bn)().unsubscribe(this.handleClose)}shadowDomPopulated(){(0,le.N)()&&(0,Y.c)((()=>{const e=(0,Q.Ou)()[Z.nz+this.getExperienceType()];this.markVisuallyReady(e,!e)}))}notificationBellRefChanged(e,t){t&&((0,te.FY)(ie._.notificationBell,t),this.notificationBellRefPromiseResolver(t))}async updateAllNotificationSettingStatus(e){await async function(e){const t=e.checked;await ne.updateNotificationSetting({AllNotifications:t})}(e.target),this.isAllNotificationsTurnedOn?this.isAllNotificationsTurnedOn=!1:(this.isAllNotificationsTurnedOn=!0,this.populateNotificationFromService())}getExperienceType(){return V.x.notificationBellWC}loadCachedDataFromLocalStorage(){if(!(0,y.$o)().supported)return;const e=(0,y.$o)().getObject(Se,{notificationLastRequestTimestamp:{count:0,notifications:0},notificationBellCacheData:{count:0,notifications:[]}});this.cachedData=e}canUseCachedData(e){return this.cachedData.notificationLastRequestTimestamp[e]&&(new Date).getTime()-this.cachedData.notificationLastRequestTimestamp[e]<this.notificationCacheTime}saveCahedDataInLS(){(0,y.$o)().setObject(Se,this.cachedData)}async populateUnreadCount(){if(this.config.disableBellOnVerticalPages&&!["ntp","dhp","windowshp"].includes(this.pagetype))return void this.hideBellIcon();if(await this.prepareSocialNotifications(),this.canUseCachedData("count"))return this.count=this.cachedData.notificationBellCacheData.count,void this.revealBellIcon();const e=await ne.getNotificationCount();if(!e)return void this.hideBellIcon();if(this.enabledInSettings=e.nce,!this.enabledInSettings&&!this.config.alwaysShowNotificationBell)return void this.hideBellIcon();let t=e.c;this.socialNotificationItem&&(t+=1),this.count=t,this.revealBellIcon(),this.cachedData.notificationBellCacheData.count=t,this.cachedData.notificationLastRequestTimestamp.count=(new Date).getTime(),this.saveCahedDataInLS(),this.isAllNotificationsTurnedOn=e.nce;let i=0!==this.count&&this.config.enableCoachMark;if(this.config.readCoachMarkDataFromWpo){const e=function(){try{var e,t;const i=ge.getWpoTreatmentsWithType(he._h.bellCoachMark),n=(null==i?void 0:i.length)>0&&(null===(e=i[0])||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.showCoachMark);if(n)return{showCoachMark:n}}catch(e){const t="Error in getting notification bell promotion data";(0,pe.H)(x.Od5,t,`error:${e}`)}return null}();T.M0.addOrUpdateTmplProperty("wpotrmtdbg3",e?"1":"0"),i=i&&(null==e?void 0:e.showCoachMark)}i&&this.triggerCoachMark()}async triggerCoachMark(){if(await this.notificationBellRefPromise,this.config.useNurturingFramework){var e;const{coachMarkContent:t}=this.config.localizedStrings,i=this.config.overrideCoachMarkContent||{};let n=(null==i?void 0:i.body)||(null==t?void 0:t.body)||"Select {BellIcon} to view them";const o=`${(0,b.Yq)().StaticsUrl}/staticsb/statics/latest/icons-wc/icons/notification-bell-wc/NotificationBell.svg`,a=await fetch(o);if(a.ok){const e=await a.text();n=K.dy`<div>${K.dy.partial(n.replace("{BellIcon}",`</div>${e}<div>`))}</div>`}const r={id:this.config.coachMarkKey,group:O.V.Functional,placementSource:O.m.Internal,surfaceModel:{surfaceType:L.U.Coachmark,size:j.dm.Medium,position:{coachmarkAnchor:this.notificationBellRef,anchoringPosition:j.RC.Below,hasPointer:!0,pointerPosition:j.Jt.Opposite}},contentModel:{title:(null==i?void 0:i.head)||(null==t?void 0:t.head)||"You have new notifications",description:n,contentType:H.J.CallToAction,engageContentAction:{label:(null==i?void 0:i.engageBtn)||(null==t?void 0:t.engageBtn)||"Open it now",actionDelegate:()=>{this.isOpen||this.handleOpen()}},dismissContentAction:{label:(null==i?void 0:i.dismissBtn)||(null==t?void 0:t.dismissBtn)||"No thanks",actionDelegate:()=>{}}}},s=6048e5,c=3,l=(0,B.H)(F.p.Viewed,s),d=(0,U.l)(F.p.Viewed,c);null===(e=(0,re.$0)())||void 0===e||e.sendInternalPlacement(r,[l,d])}else await(0,te.h_)(ie._.superCoachMark),G.W.getInstance().registerItemAnchorElement(this.config.coachMarkKey,this.notificationBellRef),G.W.getInstance().registerItemTriggerMessage(this.config.coachMarkKey,!0)}async populateNotificationFromService(){var e;if(!(0,le.N)())return;let t;this.isLoading=!0,t=this.canUseCachedData("notifications")&&this.cachedData.notificationBellCacheData.notifications.length?{notifications:this.cachedData.notificationBellCacheData.notifications}:await ne.getNotificationList();const i=(null===(e=t)||void 0===e?void 0:e.notifications)||[];if(this.isLoading=!1,i.length){const e=i.filter((e=>(T.M0.addOrUpdateTmplProperty(`Notification_${e.type}_${e.id}`,"1"),this.config.disabledNotificatonType?!Object.keys(this.config.disabledNotificatonType).includes(e.type):e)));this.notifications=e,this.cachedData.notificationLastRequestTimestamp.notifications=(new Date).getTime(),this.cachedData.notificationBellCacheData.notifications=this.notifications.map((e=>({...e,state:d.Seen}))),this.cachedData.notificationBellCacheData.count=0,this.saveCahedDataInLS()}}handleOpen(){this.populateNotificationFromService(),this.count=0,this.isOpen=!0,document.addEventListener("mousedown",this.handleClick,!1),document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("scroll",this.handleScroll,!1),(0,g.Gg)(g.tk.notificationBell,!0),this.config.socialNotificationExperimentInfo&&T.M0.addOrUpdateTmplProperty("SocialNotification","1")}handleCardActionClose(){this.currMenuId=-1}handleClickIcon(e){this.isOpen?(this.handleClose(),e&&T.M0.sendActionEvent(e.currentTarget,$.Aw.Click,$.wu.Close)):(this.handleOpen(),e&&T.M0.sendActionEvent(e.currentTarget,$.Aw.Click,$.wu.Open))}handleClick(e){!function(e){if(!e)return!1;return e.composedPath().some((e=>"NOTIFICATION-BELL"===e.tagName))}(e)?this.handleClose():function(e){if(!e)return!1;return e.composedPath().some((e=>"notification-control-flyout"===e.className))}(e)||function(e){if(!e)return!1;return e.composedPath().some((e=>"setting-button"===e.id))}(e)||this.closeNotificationControlFlyout()}handleKeyDown(e){if(e.key===fe.CX)this.isOpen&&-1!==this.currMenuId?this.handleCardActionClose():this.isOpen&&-1===this.currMenuId&&this.handleClose()}toggleCardActionMenu(e){this.currMenuId!==e?this.currMenuId=e:this.handleCardActionClose()}clickPointBadge(e){-1===this.currRewardsClickedId&&(this.currRewardsClickedId=e)}async handleClickActions(e){this.handleCardActionClose();const{payload:t,successDisplayText:i}=e.actionData,[n,o,a]=/(.*){{(.*)}}/g.exec(i);await oe(t),A.publish(I,{}),X.h.renderToast({id:"7",toastType:ee.p.DisableNotification,inputText:this.strings.disableToastText||o,buttonText:this.strings.undoBtn||a||"Undo",expirationInMs:3e3,onClick:async()=>{try{const e=JSON.parse(t),i=JSON.parse(e[0].ParametersJson),n=JSON.stringify([{Partner:"Platform",Name:"SetIsConsumptionAllowedAllUp",ParametersJson:JSON.stringify({InterestConsumingService:i.InterestConsumingService,FeatureName:i.FeatureName,NewIsConsumptionAllowed:!0})}]);await oe(n),A.publish(I,{}),X.h.renderToast({id:"7",toastType:ee.p.DisableNotification,inputText:this.strings.undoText,expirationInMs:3e3})}catch(e){T.M0.sendAppErrorEvent(x.g52)}}})}switchToSettingPage(e,t){const{moreSettings:i,pivotsNavInstanceId:n,navigationConfig:o,interestsWCConfigRefType:a}=this.config;if(t&&T.M0.sendActionEvent(t.currentTarget),o&&(e?ve.Nd.navigate("personalize"):ve.Nd.navigate(o.navigationId,o.context),"windowshp"!==this.pagetype&&location.reload(),this.handleClose()),i){const t=(0,ae.Eo)(a);t&&(i.configIndexRef=t),(0,ue.l)(n).switchPivot({...i,...e?{context:null}:null}),this.handleClose()}}openNotificationControlFlyout(){this.isNotificationControlFlyoutOpen=!0}closeNotificationControlFlyout(){this.isNotificationControlFlyoutOpen=!1}toggleNotificationControlFlyout(){this.isNotificationControlFlyoutOpen=!this.isNotificationControlFlyoutOpen}renderCount(e){return this.config.noCountNumber||this.config.alwaysShowNotificationBell&&!this.isAllNotificationsTurnedOn?"":this.config.countNumber3Plus&&e>3?"3+":e.toString()}async prepareSocialNotifications(){const{socialNotificationExperimentInfo:e}=this.config;if(!e)return;if(T.M0.addOrUpdateTmplProperty("SocialNotificationPreOpen","1"),"control"===e)return;const t=`socialNotificationDismiss-${b.jG.UserId}`;if(!(0,y.$o)().getItem(t))try{const i=await(0,ke.rr)()===z.Hy.SignedIn;let n=!1;i&&(n=(await se.VK.fetchMe(!1)).isSocialUser);const o=`${b.jG.NavTargetUrlWithLocale}/community/profile/me`,a=()=>{(0,y.$o)().setItem(t,(new Date).toISOString()),this.socialNotificationItem=void 0};i||"nonMSA"!==e||(this.socialNotificationItem={title:this.strings.socialNonMsaNotificationTitle,body:this.strings.socialNonMsaNotificationBody,clickThroughUrl:o,onCloseClick:a}),n||"nonSocial"!==e||(this.socialNotificationItem={title:this.strings.socialMsaNonSocialNotificationTitle,body:this.strings.socialMsaNonSocialNotificationBody,clickThroughUrl:o,onCloseClick:a})}catch(e){}}onImageLoadError(e){T.M0.sendAppErrorEvent({...x.apB,message:`Notification Bell failed to load image with url ${e}`})}isAnaheim(){return["ntp","dhp"].includes(this.pagetype)}hideBellIcon(){this.classList.add("hidden"),T.M0.addOrUpdateTmplProperty("NotificationBell_visible","0")}revealBellIcon(){T.M0.addOrUpdateTmplProperty("NotificationBell_unread",String(this.count)),this.classList.remove("hidden"),T.M0.addOrUpdateTmplProperty("NotificationBell_visible","1")}}(0,m.gn)([J.LO],Ce.prototype,"notificationBellWCTelemetry",void 0),(0,m.gn)([J.LO],Ce.prototype,"currMenuId",void 0),(0,m.gn)([J.LO],Ce.prototype,"count",void 0),(0,m.gn)([J.LO],Ce.prototype,"notifications",void 0),(0,m.gn)([J.LO],Ce.prototype,"isOpen",void 0),(0,m.gn)([J.LO],Ce.prototype,"isLoading",void 0),(0,m.gn)([J.LO],Ce.prototype,"isOnImage",void 0),(0,m.gn)([J.LO],Ce.prototype,"enabledInSettings",void 0),(0,m.gn)([J.LO],Ce.prototype,"pagetype",void 0),(0,m.gn)([J.LO],Ce.prototype,"socialNotificationItem",void 0),(0,m.gn)([J.LO],Ce.prototype,"icontype",void 0),(0,m.gn)([J.LO],Ce.prototype,"currRewardsClickedId",void 0),(0,m.gn)([J.LO],Ce.prototype,"isNotificationControlFlyoutOpen",void 0),(0,m.gn)([J.LO],Ce.prototype,"isAllNotificationsTurnedOn",void 0),(0,m.gn)([J.LO],Ce.prototype,"showFullPageBlur",void 0),(0,m.gn)([J.LO],Ce.prototype,"needDarkThemeIcons",void 0),(0,m.gn)([J.LO],Ce.prototype,"notificationBellRef",void 0);var xe=i(93703),Te=i(89150),_e=i(44644),Pe=i.n(_e),Ae=i(25168),Ie=i.n(Ae),$e=i(41472),Me=i(11310),De=i.n(Me),Ne=i(38686),Ee=i.n(Ne),Re=i(56933),Oe=i.n(Re);K.dy`${K.dy.partial(De())}`;const Le=K.dy`<span slot="start" class="nfr-svg-icon flex-icon">${K.dy.partial(Ee())}</span>`,He=K.dy`
<svg width="11.5" height="14" viewBox="0 0 18 22" fill="var(--neutral-foreground-rest)" xmlns="http://www.w3.org/2000/svg"><path d="m15.94 15.523-.225.107.226-.107c-.797-1.668-.971-4.044-.971-5.772v-.027c-.011-2.333-1.39-4.349-3.378-5.302V3.228c0-1.369-1.123-2.478-2.499-2.478h-.186C7.53.75 6.408 1.86 6.408 3.228v1.194C4.412 5.379 3.03 7.407 3.03 9.75c0 1.728-.174 4.104-.97 5.772l.225.107-.226-.107c-.395.828-.78 1.125-.853 1.175a.818.818 0 0 0-.436.918c.085.4.454.656.838.656h4.105c.15 1.67 1.569 2.979 3.287 2.979s3.136-1.31 3.287-2.978h4.105c.384 0 .753-.257.838-.655a.818.818 0 0 0-.436-.919c-.072-.05-.458-.347-.854-1.175ZM8.093 3.228V3.22a.81.81 0 0 1 .814-.796h.186a.81.81 0 0 1 .814.804v.675a6.038 6.038 0 0 0-1.814 0v-.675Zm-4.695 13.37c.031-.056.062-.115.093-.175.82-1.599 1.224-3.85 1.224-6.672 0-2.337 1.92-4.243 4.285-4.243 2.364 0 4.284 1.906 4.284 4.245a.78.78 0 0 0 0 .026c.004 2.808.408 5.05 1.225 6.644.03.06.062.119.093.175H3.399ZM9 19.576c-.79 0-1.448-.564-1.588-1.304h3.176A1.614 1.614 0 0 1 9 19.576Z"/></svg>`,Be=K.dy`<span slot="start" class="nfr-svg-icon flex-icon">${K.dy.partial(Oe())}</span>`,Fe={[h.StopNotifying]:Le,[h.Follow]:He,[h.NotInterested]:Be,[h.Disable]:Be},Ue=K.dy`
    <fluent-menu class="notification-menu-container" id="notification-menu-container">
        ${(0,Te.rx)((e=>e.actions),K.dy`
            <fluent-menu-item
                tabindex="0"
                role="menuitem"
                @click="${(e,t)=>{var i,n;return null==t||null===(i=t.parentContext)||void 0===i||null===(n=i.parent)||void 0===n?void 0:n.handleClickActions(e)}}"
                @keydown="${(e,t)=>{var i,n;return null==t||null===(i=t.parentContext)||void 0===i||null===(n=i.parent)||void 0===n?void 0:n.handleKeyDownActions(e,t.event)}}"
                data-t="${(e,t)=>t.parentContext.parent.notificationBellWCTelemetry.notificationActionClick(t.parent,e).getMetadataTag()}"
            >
                ${e=>Fe[e.iconName]}
                ${e=>e.displayText}
            </fluent-menu-item>
        `)}
    </fluent-menu>
`;var je=i(50338),Ge=i.n(je),We=i(3893),Ve=i.n(We),ze=i(20367),qe=i.n(ze),Ke=i(78923),Je=i(28904),Ye=i(42590);const Qe=K.dy`
    <div class="personalized-offer_wrapper"
        role="timer"
        aria-live="polite"
        aria-atomic="true"
        aria-busy=${e=>!e.shouldAnnounceTimerUpdate}
    >
        ${e=>e.title}
        <span class="personalized-offer_countdown">${e=>e.countdownText}</span>
    </div>
`,Ze=Ke.i`
.personalized-offer_countdown {
    color: #D80101;
}

@media (forced-colors: active) {
    .personalized-offer_countdown {
        forced-color-adjust: none;
    }
}
`;let Xe=class extends Je.H{constructor(){super(...arguments),this.hasFocus=!1}setCountdownText(){let e=1e3*parseInt(this.expirationTime)-(new Date).getTime();e<0&&(e=0);const t=new Date(e),i=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),a=[i,n,o].map((e=>e.toLocaleString(void 0,{minimumIntegerDigits:2}))).join(":");let r;this.countdownText=this.countdownTemplate.replace("{{countdown}}",a),r=0!==i||n>20?o%20==0:n>5?o%60==0:n>1?o%20==0:o%10==0,this.shouldAnnounceTimerUpdate=this.hasFocus&&r}connectedCallback(){super.connectedCallback(),this.setCountdownText(),this.focusCallback(),this.countdownHandlerId=window.setInterval((()=>{this.setCountdownText()}),1e3)}disconnectedCallback(){super.disconnectedCallback(),this.countdownHandlerId&&(window.clearInterval(this.countdownHandlerId),this.countdownHandlerId=null)}focusCallback(){var e,t;null===(e=this.notificationItemRef)||void 0===e||e.addEventListener("focus",(()=>{this.hasFocus=!0})),null===(t=this.notificationItemRef)||void 0===t||t.addEventListener("focusout",(e=>{var t;this.hasFocus=null===(t=e.currentTarget)||void 0===t?void 0:t.contains(e.relatedTarget)}))}};(0,m.gn)([Ye.Lj],Xe.prototype,"expirationTime",void 0),(0,m.gn)([Ye.Lj],Xe.prototype,"countdownTemplate",void 0),(0,m.gn)([Ye.Lj],Xe.prototype,"countdownText",void 0),(0,m.gn)([Ye.Lj],Xe.prototype,"title",void 0),(0,m.gn)([J.LO],Xe.prototype,"shouldAnnounceTimerUpdate",void 0),(0,m.gn)([J.LO],Xe.prototype,"hasFocus",void 0),(0,m.gn)([J.LO],Xe.prototype,"notificationItemRef",void 0),Xe=(0,m.gn)([(0,Je.M)({name:"notification-title-personalized-offer",styles:Ze,template:Qe})],Xe);var et=i(7981),tt=i.n(et);const it=K.dy`<svg width="16" height="16" viewBox="0 0 16 16" fill="var(--neutral-foreground-hint)" xmlns="http://www.w3.org/2000/svg"><path d="M15.754 4.013a.877.877 0 0 0-1.17 0L13.211 5.3a.507.507 0 0 1-.687 0L7.794.773C7.095.117 5.938.117 5.24.773L3.166 2.714a.749.749 0 0 0 0 1.096.877.877 0 0 0 1.17 0l2.06-1.93c.063-.059.165-.059.216 0l1.424 1.335-1.399 1.298a1.313 1.313 0 0 0 0 1.942c.28.262.661.405 1.03.405s.75-.131 1.03-.405l1.373-1.287 1.272 1.216c.42.393.966.583 1.513.583.546 0 1.093-.19 1.513-.583l1.373-1.287a.708.708 0 0 0 .013-1.084ZM5.709 6.54a.919.919 0 0 0-.98-.166.82.82 0 0 0-.533.786l.076 3.765H.89c-.496 0-.89.37-.89.834 0 .464.394.834.89.834h3.75a1.52 1.52 0 0 0 1.018-.393 1.32 1.32 0 0 0 .407-.954l-.05-2.072 2.44 2.251-3.37 3.157a.804.804 0 0 0 0 1.18.907.907 0 0 0 .624.238.941.941 0 0 0 .623-.239l4.005-3.752a.823.823 0 0 0 .267-.596.822.822 0 0 0-.267-.595L5.71 6.54Z"/><path d="M11.865 3.264a1.631 1.631 0 1 0-.002-3.262 1.631 1.631 0 0 0 .002 3.262Z"/></svg>`,nt=K.dy`
<svg width="16" height="16" viewBox="0 0 16 16" fill="var(--neutral-foreground-hint)" xmlns="http://www.w3.org/2000/svg">
<path d="M5.16992 6.45312L1.61035 9.57324L7.41113 12.4736L15.875 7.18262V8.39551L7.46387 13.6514L1.25 10.5488V14.7588H15.875V15.8838H0.125V0.133789H1.25V8.50977L5.22266 5.0293L7.4375 7.27051L13.625 1.08301L15.875 3.33301V4.79199L13.625 2.54199L7.4375 8.72949L5.16992 6.45312Z" />
</svg>
`;var ot=i(50443),at=i.n(ot);const rt=K.dy`
<svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.922 16c-.266 0-.516-.052-.75-.156a1.965 1.965 0 0 1-.617-.43 2.265 2.265 0 0 1-.43-.625 1.752 1.752 0 0 1-.164-.75v-.164a3.794 3.794 0 0 1-1.086-.46 4.223 4.223 0 0 1-.89-.743 3.66 3.66 0 0 1-.633-.969A4.934 4.934 0 0 1 0 10.57v-.062a.49.49 0 0 1 .14-.36A.514.514 0 0 1 .5 10h2.46v-.125a3.792 3.792 0 0 1-1.085-.46 4.22 4.22 0 0 1-.89-.743 3.66 3.66 0 0 1-.633-.969A4.935 4.935 0 0 1 0 6.57v-.062a.49.49 0 0 1 .14-.36A.514.514 0 0 1 .5 6h2.46v-.125a3.792 3.792 0 0 1-1.085-.46 4.22 4.22 0 0 1-.89-.743 3.66 3.66 0 0 1-.633-.969A4.935 4.935 0 0 1 0 2.57v-.062a.49.49 0 0 1 .14-.36A.514.514 0 0 1 .5 2h2.46v-.04c0-.26.053-.507.157-.741a2.06 2.06 0 0 1 .43-.625 2.06 2.06 0 0 1 .625-.43A1.92 1.92 0 0 1 4.922 0H9c.255 0 .5.052.734.156.235.104.443.245.625.422.183.177.329.386.438.625.11.24.164.484.164.734V2h2.46c.147 0 .267.047.36.14.094.094.14.217.14.368v.062a4.113 4.113 0 0 1-.343 1.125 4.01 4.01 0 0 1-.64.97c-.26.29-.555.54-.883.75a3.66 3.66 0 0 1-1.094.46V6h2.46c.147 0 .267.047.36.14.094.094.14.217.14.368v.062a4.113 4.113 0 0 1-.343 1.125 4.01 4.01 0 0 1-.64.97c-.26.29-.555.54-.883.75a3.66 3.66 0 0 1-1.094.46V10h2.46c.147 0 .267.047.36.14.094.094.14.217.14.368v.062a4.113 4.113 0 0 1-.343 1.125 4.01 4.01 0 0 1-.64.97 4.19 4.19 0 0 1-.883.75 3.662 3.662 0 0 1-1.094.46v.164c0 .26-.052.508-.156.742a2.06 2.06 0 0 1-.43.625c-.182.182-.39.326-.625.43A1.92 1.92 0 0 1 9 16H4.922Zm4.039-1a.969.969 0 0 0 .703-.29 1.09 1.09 0 0 0 .219-.32.847.847 0 0 0 .078-.39V2a.95.95 0 0 0-.078-.383 1.103 1.103 0 0 0-.211-.32.923.923 0 0 0-.32-.219A1.006 1.006 0 0 0 8.96 1h-4a.97.97 0 0 0-.703.29 1.09 1.09 0 0 0-.219.32.847.847 0 0 0-.078.39v12c0 .14.026.27.078.39.052.12.122.227.211.32a.852.852 0 0 0 .313.212c.12.047.252.073.398.078h4Zm-4-11v-.04c0-.27.055-.522.164-.757.11-.234.255-.443.438-.625a1.93 1.93 0 0 1 .632-.422c.24-.099.495-.15.766-.156a1.955 1.955 0 0 1 1.406.586c.177.182.32.396.43.64.11.245.164.503.164.774 0 .276-.052.534-.156.773A2.033 2.033 0 0 1 6.96 6c-.276 0-.534-.052-.774-.156A2.033 2.033 0 0 1 4.962 4Zm-2-1H1.133c.073.214.17.414.289.602.12.187.258.359.414.515.156.156.33.294.523.414s.394.219.602.297V3Zm5 1a.95.95 0 0 0-.078-.383 1.103 1.103 0 0 0-.211-.32.923.923 0 0 0-.32-.219 1.006 1.006 0 0 0-1.313.531.847.847 0 0 0-.078.391c0 .14.026.27.078.39.052.12.122.227.211.32a.852.852 0 0 0 .313.212c.12.047.252.073.398.078a.97.97 0 0 0 .703-.29 1.09 1.09 0 0 0 .219-.32A.847.847 0 0 0 7.96 4Zm3 .828c.213-.073.414-.17.601-.289a2.907 2.907 0 0 0 .93-.938A3.4 3.4 0 0 0 12.79 3h-1.828v1.828ZM4.96 8v-.04c0-.27.055-.522.164-.757.11-.234.255-.443.438-.625a1.93 1.93 0 0 1 .632-.422c.24-.099.495-.15.766-.156a1.955 1.955 0 0 1 1.406.586c.177.182.32.396.43.64.11.245.164.503.164.774 0 .276-.052.534-.156.773A2.033 2.033 0 0 1 6.96 10c-.276 0-.534-.052-.774-.156A2.033 2.033 0 0 1 4.962 8Zm-2-1H1.133c.073.214.17.414.289.602.12.187.258.359.414.515.156.156.33.294.523.414s.394.219.602.297V7Zm5 1a.95.95 0 0 0-.078-.383 1.103 1.103 0 0 0-.211-.32.923.923 0 0 0-.32-.219 1.006 1.006 0 0 0-1.313.531A.847.847 0 0 0 5.96 8c0 .14.026.27.078.39.052.12.122.227.211.32a.852.852 0 0 0 .313.212c.12.047.252.073.398.078a.97.97 0 0 0 .703-.29 1.09 1.09 0 0 0 .219-.32A.847.847 0 0 0 7.96 8Zm3 .828c.213-.073.414-.17.601-.289a2.907 2.907 0 0 0 .93-.937A3.4 3.4 0 0 0 12.79 7h-1.828v1.828ZM4.96 12v-.04c0-.27.055-.523.164-.757.11-.234.255-.443.438-.625a1.93 1.93 0 0 1 .632-.422c.24-.099.495-.15.766-.156a1.956 1.956 0 0 1 1.406.586c.177.182.32.396.43.64.11.245.164.503.164.774 0 .276-.052.534-.156.773A2.031 2.031 0 0 1 6.96 14a1.92 1.92 0 0 1-.774-.156A2.033 2.033 0 0 1 4.962 12Zm-2-1H1.133c.073.213.17.414.289.602.12.187.258.359.414.515.156.156.33.294.523.414s.394.219.602.297V11Zm5 1a.95.95 0 0 0-.078-.383 1.103 1.103 0 0 0-.211-.32.922.922 0 0 0-.32-.219 1.006 1.006 0 0 0-1.313.531.847.847 0 0 0-.078.391c0 .14.026.27.078.39.052.12.122.227.211.32a.852.852 0 0 0 .313.212c.12.047.252.073.398.078a.969.969 0 0 0 .703-.29 1.09 1.09 0 0 0 .219-.32.847.847 0 0 0 .078-.39Zm3 .828c.213-.073.414-.17.601-.289.188-.12.36-.258.516-.414.156-.156.294-.33.414-.523s.219-.394.297-.602H10.96v1.828Z"/></svg>
`;var st=i(98467),ct=i.n(st),lt=i(46298),dt=i.n(lt),ut=i(62223),ht=i(68178),pt=i(62512),mt=i(84812),gt=i.n(mt);const ft=K.dy`
<div class="notification-item_content notification-item_content_3col">${e=>e.body}</div>
`,vt=K.dy`
<div class="notification-item_content notification-item_content_2col">${e=>e.body}</div>
`,yt=K.dy`
<div class="notification-item_content">${e=>e.body}</div>
${(0,xe.g)((e=>e.scenarioSpecificParameters),(()=>K.dy`<div class="notification-item_content_stock_data">
    <span class="notification-item_content_stock_price">${e=>e.scenarioSpecificParameters.Price}</span>
    <span class="notification-item_content_stock_change" style="color: ${e=>+e.scenarioSpecificParameters.PriceChange>0?"#19C453":"#D83B01"}">
        ${(0,xe.g)((e=>+e.scenarioSpecificParameters.PriceChange>0),K.dy`<svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 0L10.2631 8.25L0.73686 8.25L5.5 0Z" fill="#19C453"/></svg>`)}
        ${(0,xe.g)((e=>+e.scenarioSpecificParameters.PriceChange<0),K.dy`<svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 9L0.736861 0.749999L10.2631 0.75L5.5 9Z" fill="#D80101"/></svg>`)}
        ${e=>e.scenarioSpecificParameters.PriceChange}
        ${(0,xe.g)((e=>e.scenarioSpecificParameters.PriceChangePercent),K.dy`<span class="notification-item_content_stock_changePercent">(${e=>e.scenarioSpecificParameters.PriceChangePercent})
    </span>`)}
</div>`))}
`,bt=K.dy`
<div class="notification-item_content">
    <div class="notification-item_content_shopping_deal_body">
        <div class="notification-item_content_shopping_deal_icon">
            ${ct()}
        </div>
            ${e=>e.body}
    </div>
</div>
${(0,xe.g)((e=>e.scenarioSpecificParameters),(()=>K.dy`<div class="notification-item_content_shopping_deal_data">
    <span class="notification-item_content_shopping_deal_price">${e=>e.scenarioSpecificParameters.NewPrice}</span>
    <span class="notification-item_content_shopping_deal_oldPrice">${e=>e.scenarioSpecificParameters.OldPrice}</span>
</div>`))}`,wt=/([^<]*)(<strong>.*?<\/strong>)([^<]*)/g,kt=e=>{switch(e.type){case c.Finance_StockChangeAtMarketClose:case c.Finance_Watchlist:return yt;case c.Shopping_TopDeal:case c.Shopping_TopDealGeneric:return(e=>e.scenarioSpecificParameters&&"PriceDrop"===e.scenarioSpecificParameters.DealType?K.dy`<div class="notification-item_content">
            <div class="notification-item_content_shopping_deal_body">
                ${K.dy.partial(gt())} <span class="notification-item_content_shopping_top_deal_value">${e=>e.scenarioSpecificParameters.DiscountValue}</span> ${e=>e.body}
            </div>
        </div>
        ${(0,xe.g)((e=>e.scenarioSpecificParameters.NewPrice),(()=>K.dy`<div class="notification-item_content_shopping_deal_data">
            <span class="notification-item_content_shopping_top_deal_price">${e=>e.scenarioSpecificParameters.NewPrice}</span>
            <span class="notification-item_content_shopping_deal_oldPrice">${e=>e.scenarioSpecificParameters.OldPrice}</span>
        </div>`))}`:e.scenarioSpecificParameters&&"Coupon"===e.scenarioSpecificParameters.DealType?K.dy`<div class="notification-item_content">
            <div class="notification-item_content_shopping_deal_body">
            ${(0,xe.g)((e=>e.scenarioSpecificParameters.Prefix),(()=>K.dy`<span>${e=>e.scenarioSpecificParameters.Prefix}</span>`))}
            <span class="notification-item_content_shopping_top_deal_value">${e=>e.scenarioSpecificParameters.DiscountValue}</span>
            ${e=>e.body} ${(0,xe.g)((e=>e.scenarioSpecificParameters.Domain),(()=>K.dy`<strong>${e=>e.scenarioSpecificParameters.Domain}</strong>`))}
            </div>
        </div>
        ${(0,xe.g)((e=>e.scenarioSpecificParameters.NewPrice),(()=>K.dy`<div class="notification-item_content_shopping_deal_data">
            <span class="notification-item_content_shopping_top_deal_price">${e=>e.scenarioSpecificParameters.NewPrice}</span>
            <span class="notification-item_content_shopping_deal_oldPrice">${e=>e.scenarioSpecificParameters.OldPrice}</span>
        </div>`))}`:K.dy`
        <div class="notification-item_content">
            <div class="notification-item_content_shopping_deal_body">
                ${e=>e.body}
            </div>
        </div>`)(e);case c.Shopping_DealOfTheDay:return bt;case c.SportsTeam_GameEnded:return vt;case c.Wallet_PersonalizedOffer:return(e=>{const t=[];let i=wt.exec(e.body);for(;null!=i;)i.forEach(((e,i)=>{e&&i&&t.push(e)})),i=wt.exec(e.body);return K.dy`
    <div class="notification-item_content notification-item_content_wallet_personalized_offer" >
        <div class="notification-item_content_3col" >
            ${(0,Te.rx)((e=>t),K.dy`
                    ${(0,xe.g)((e=>-1===e.indexOf("<")),K.dy`${e=>e}`)}
                    ${(0,xe.g)((e=>e.indexOf("<")>-1),K.dy`
                        <strong>${e=>e.replace(/<\/?strong>/g,"")}</strong>
                    `)}
                `)}
        </div>
        <div class="notification-item_content_wallet_personalized_offer-buy_now">
            ${e=>e.scenarioSpecificParameters.ButtonLabel}
        </div>
    </div>`})(e);default:return ft}},St=K.dy`
    <notification-title-personalized-offer
        expirationTime = ${e=>e.scenarioSpecificParameters.ExpirationUtcTime}
        countdownTemplate = ${e=>e.scenarioSpecificParameters.CountdownTemplate}
        :notificationItemRef = ${e=>e.notificationItemRef}
        title = ${e=>e.title}></notification-title-personalized-offer>`,Ct=(e,t)=>{const i=e.scenarioSpecificParameters?e.scenarioSpecificParameters.ProviderName:null,n=((e,t)=>(0,ut.fh)(e,k.Al.Locale,{JustNow:t.JustNow,NumberDayAgo:t.NumberDayAgo,NumberDaysAgo:t.NumberDaysAgo,NumberHourAgo:t.NumberHourAgo,NumberHoursAgo:t.NumberHoursAgo,NumberMinuteAgo:t.NumberMinuteAgo,NumberMinutesAgo:t.NumberMinutesAgo},1)??"")(new Date(e.sentTime),t.parent.strings);return(0,pt.TF)(i)||(0,pt.TF)(n)?(0,pt.TF)(n)?i??"":n:`${i} · ${n}`},xt=K.dy`
<div class="notification-item_container" data-t="${(e,t)=>t.parent.notificationBellWCTelemetry.notificationItemContentView(e).getMetadataTag()}">
    <a
        ${(0,$e.i)("notificationItemRef")}
        :classList="notification-item ${(e,t)=>t.parent.config.disableDarkMode?"disable-dk":""}"
        href="${e=>e.clickThroughUrl}"
        target="_blank"
        rel="noopener"
        data-t="${(e,t)=>t.parent.notificationBellWCTelemetry.notificationItemClick(e).getMetadataTag()}"
        @mousedown="${(e,t)=>t.parent.bingTelemetry.fireBingTelemetry(D.Click,e.clickTrackingPayload)}"
    >
        <div class="notification-item_start">
            ${e=>K.dy`${(e=>{let t;switch(e){case c.BroadcastNews_BreakingNews:case c.BroadcastNews_DailyBrief:case c.BroadcastNews_TopStories:case c.MsnNews_DailyBriefCoronavirus:case c.News_BreakingNews:t=qe();break;case c.SportsTeam_GameEnded:case c.SportsTeam_SportsTopStories:t=it;break;case c.Finance_StockChangeAtMarketClose:case c.Finance_Watchlist:case c.Finance_PriceMovement:t=nt;break;case c.Shopping_PriceDrop:case c.Shopping_DealOfTheDay:case c.Shopping_DealOfTheDay_2:case c.Shopping_TopDeal:case c.Shopping_TopDealGeneric:t=at();break;case c.Wallet_PersonalizedOffer:t=dt();break;case c.Community_SocialAchievements:case c.Community_SocialAlerts:case c.Community_SocialFollowers:case c.Community_SocialReactions:case c.Community_SocialReplies:case c.QuizType_NewQuizAvailable:t=tt();break;case c.Traffic_HighestImpactIncident:case c.Traffic_Commute:case c.Traffic_RoadClosure:t=rt;break;case c.HealthTeam_AskExpert:t=Ge();break;case c.Weather_Hurricane:case c.Weather_SevereWeather:case c.Weather_Wildfire:case c.Weather_WeatherOneLiner:t='<svg width="16" height="16" viewBox="0 0 16 14"><path d="M13.76 8.1c.33.09.63.23.9.42A2.95 2.95 0 0 1 16 11a2.94 2.94 0 0 1-.88 2.13A3.01 3.01 0 0 1 13 14H4.5a3.45 3.45 0 0 1-2.48-1.02A3.54 3.54 0 0 1 1 10.5a3.4 3.4 0 0 1 .57-1.91 3.47 3.47 0 0 1 1.52-1.3 3.39 3.39 0 0 1 .18-2.16 3.51 3.51 0 0 1 4.2-1.99A3.3 3.3 0 0 1 9.1 4.18c.24.24.42.52.56.82a4.38 4.38 0 0 1 2.54.9 4.43 4.43 0 0 1 1.57 2.2ZM6.5 4a2.54 2.54 0 0 0-2.3 1.53 2.42 2.42 0 0 0-.14 1.5 4.1 4.1 0 0 1 1.03.02c.19.03.38.08.56.15a3.92 3.92 0 0 1 1.23-1.35 4.34 4.34 0 0 1 1.67-.75 2.4 2.4 0 0 0-.89-.8A2.4 2.4 0 0 0 6.5 4Zm6.5 9a2 2 0 0 0 1.84-2.8c-.1-.24-.25-.45-.44-.63s-.4-.31-.66-.41c-.25-.1-.51-.16-.8-.16a3.44 3.44 0 0 0-1.16-2.14A3.35 3.35 0 0 0 9.5 6a3.39 3.39 0 0 0-2.13.73 3.56 3.56 0 0 0-1.25 1.89 2.5 2.5 0 0 0-3.4.11A2.48 2.48 0 0 0 2 10.5 2.48 2.48 0 0 0 4.5 13H13ZM2 7H0V6h2v1Zm.96-3.33L1.55 2.26l.7-.71 1.42 1.41-.7.71ZM7 2H6V0h1v2Zm3.04 1.67-.71-.7 1.41-1.42.71.7-1.41 1.42Z"/></svg>';break;default:t=tt()}return"string"==typeof t?K.dy.partial(t):t})(e.type)}`}
        </div>
        <div class="notification-item_middle">
            <div
                :classList="notification-item_middle_title ${e=>e.state===d.New?"notification-item_middle_title_unread":""}"
                style="${(e,t)=>((e,t)=>e.type===c.BroadcastNews_BreakingNews?(0,ht.Y)()&&!t.parent.config.disableDarkMode?"color: #EB9191;":"color: #D80101;":"")(e,t)}"
            >${e=>(e=>{switch(e.type){case c.Community_SocialAlerts:return"Alert";case c.Community_SocialAchievements:return"Badge";case c.Community_SocialFollowers:return"Follower";case c.Community_SocialReactions:return"Reaction";case c.Community_SocialReplies:return"Reply";case c.Wallet_PersonalizedOffer:return St;default:return e.title}})(e)}</div>
            <div class="notification-item-link">
                ${e=>kt(e)}
            </div>
            <div class="notification-item_bottom">
                ${(e,t)=>Ct(e,t)}
            </div>
        </div>
        ${(0,xe.g)(((e,t)=>!t.parent.config.disableInterestAction),K.dy`
            <div class="notification-item_end">
                <div class="notification-item_end_head">
                ${(0,xe.g)((e=>{var t;return(null===(t=e.actions)||void 0===t?void 0:t.length)>0}),K.dy`
                    <fluent-button
                        appearance="stealth"
                        class="notification-item_end_icon"
                        role="button"
                        aria-label="${(e,t)=>t.parent.strings.cardAction}"
                        aria-expanded="${(e,t)=>t.parent.currMenuId===t.index}"
                        title="${(e,t)=>t.parent.strings.cardAction}"
                        @click="${(e,t)=>t.parent.toggleCardActionMenu(t.index)}"
                        data-t="${(e,t)=>t.parent.notificationBellWCTelemetry.notificationActionMenuIconClick(e).getMetadataTag()}"
                    >
                        <span>${K.dy.partial(Ve())}</span>
                    </fluent-button>
                `)}
                </div>
                ${(0,xe.g)(((e,t)=>t.index===t.parent.currMenuId),Ue)}
                ${(0,xe.g)((e=>e.imageUrl),K.dy`
                    <img 
                        class="notification-item_end_img" 
                        src="${e=>{return(t=e.imageUrl).startsWith("/")?`//bing.com${t}`:t;var t}}" 
                        alt=""
                        @error="${(e,t)=>t.parent.onImageLoadError(e.imageUrl)}"
                    />
                `)}
            </div>
        `)}
    </a>
</div>
`,Tt=K.dy`
<div class="notification-off-page">
    <img src="${"https://assets.msn.com/staticsb/statics/pr-4021755/icons-wc/icons/notification-bell-wc/NotificationOff.svg"}" alt="notification is turned off image" aria-hidden="true"/>
    <strong class="title">${e=>e.strings.notificationIsOff}</strong>
</div>
`,_t=K.dy`
<div class="notification-null-page">
    <img src="${"https://assets.msn.com/staticsb/statics/pr-4021755/icons-wc/icons/notification-bell-wc/NotificationNull.svg"}" alt="all caught up image" aria-hidden="true"/>
    <strong class="title">${e=>e.strings.nullCardTitle}</strong>
    ${(0,xe.g)((e=>!e.config.enableSingleSettingForNotification),K.dy`
        <div class="subtitle">
            <span class="action-text" tabindex="0" @click="${(e,t)=>e.switchToSettingPage(!0,t.event)}" data-customhandled="true"
                data-t="${e=>e.notificationBellWCTelemetry.notificationFollowInterest().getMetadataTag()}">
                ${e=>e.strings.nullCardActionText}
            </span>
            ${e=>e.strings.nullCardSubtitle}
        </div>
    `)}
</div>
`;var Pt=i(55096),At=i.n(Pt);const It=K.dy`<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m.089.216.057-.07A.5.5 0 0 1 .784.09l.07.057L4 3.293 7.146.146a.5.5 0 1 1 .708.708L4.707 4l3.147 3.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L4 4.707.854 7.854a.5.5 0 1 1-.708-.708L3.293 4 .146.854A.5.5 0 0 1 .09.216l.057-.07-.057.07Z" fill="#7A7A7A"/></svg>`,$t=K.dy`
    ${(0,xe.g)((e=>!!e.socialNotificationItem),K.dy`
        <div class="notification-social-item_container">
            <div class="notification-social-item_left">
                <div class="notification-social-item_title">${e=>e.socialNotificationItem.title}</div>
                <div class="notification-social-item_body">
                    ${e=>e.socialNotificationItem.body}
                    <a
                        href="${e=>e.socialNotificationItem.clickThroughUrl}"
                        target="_blank"
                        data-t="${e=>e.notificationBellWCTelemetry.socialNotificationJoin().getMetadataTag()}"
                    >
                        ${e=>e.strings.socialJoinNow}
                    </a>
                </div>
            </div>
            <div class="notification-social-item_icon"></div>
            <fluent-button
                class="notification-social-item_close_button"
                aria-label=${e=>e.strings.socialCloseButtonAriaLabel}
                role="button"
                @click=${e=>e.socialNotificationItem.onCloseClick()}
                data-t="${e=>e.notificationBellWCTelemetry.socialNotificationClose().getMetadataTag()}"
            >
                ${It}
            </fluent-button>
        </div>
    `)}
`;const Mt=(0,i(72685).a)("TTSR.NotificationBellWC"),Dt=K.dy`<div class="notification-control-flyout"><span class="control-text">${e=>e.strings.getAllNotifications}</span><fluent-switch id="AllNotification" aria-label=${e=>e.strings.getAllNotifications} title=${e=>e.strings.getAllNotifications} class="notification-switch" checked=${e=>e.isAllNotificationsTurnedOn} @change=${(e,t)=>e.updateAllNotificationSettingStatus(t.event)} data-t="${e=>e.notificationBellWCTelemetry.toggleAllNotification(!e.isAllNotificationsTurnedOn).getMetadataTag()}">${e=>e.isAllNotificationsTurnedOn?e.strings.statusOn:e.strings.statusOff}</fluent-switch></div>`,Nt=K.dy`<div class="notification-icon-placeholder ${e=>e.isOnImage&&!e.showFullPageBlur?" placeholder-img":""}" id="notification-icon">${K.dy.partial(Pe())}</div>${(0,xe.g)((()=>!(0,le.N)()),Mt)}
`,Et=K.dy`<div class="notificationbell-container ${e=>e.icontype}" id="notificationBell" data-t="${e=>e.notificationBellWCTelemetry.bellContentView(e.count).getMetadataTag()}" ${(0,$e.i)("notificationBellRef")}><fluent-button appearance="stealth" :classList=" notification-bell ${e=>e.isOnImage&&!e.showFullPageBlur?"image-enable":""} ${e=>e.icontype} " id="notificationBellIcon" @click="${(e,t)=>e.handleClickIcon(t.event)}" data-customhandled="true" data-t="${e=>e.notificationBellWCTelemetry.bellClick().getMetadataTag()}" aria-expanded="${e=>e.isOpen&&!e.isLoading}" aria-label="${e=>e.strings.title}" part="notification-bell-button" title="${e=>e.strings.title}">${(0,xe.g)((e=>"anaheim"===e.icontype),K.dy`<span class="${e=>e.isOnImage&&!e.showFullPageBlur?"white-svg-icon":"nfr-svg-icon"} ${e=>e.needDarkThemeIcons?"dark-theme-svg-icon":""}">${K.dy.partial(Pe())}</span>`)} ${(0,xe.g)((e=>"anaheim"!==e.icontype),K.dy`<span class="${e=>e.isOnImage&&!e.showFullPageBlur?"white-svg-icon":"nfr-svg-icon"} ${e=>e.needDarkThemeIcons?"dark-theme-svg-icon":""}">${K.dy.partial(Ie())}</span>`)} ${(0,xe.g)((e=>e.count),K.dy`<span class="notification-count ${e=>e.icontype} shrink ${e=>e.config.noCountNumber?"no-count":""}">${e=>e.renderCount(e.count)}</span>`)}</fluent-button>${(0,xe.g)((()=>!(0,le.N)()),Mt)} ${(0,xe.g)((e=>e.isOpen&&(!e.isLoading||e.isNotificationControlFlyoutOpen)),K.dy`<div :classList=" notification-content ${e=>"hp"===e.pagetype?"msnhp-style":""} "><div class="notification-header"><div class="notification-header-title">${e=>e.strings.title}</div>${(0,xe.g)((e=>e.config.moreSettings||e.config.navigationConfig&&e.config.navigationConfig.moreSettings),K.dy`<fluent-button appearance="stealth" class="notification-header-settings" @click=${e=>e.switchToSettingPage()} aria-label="${e=>e.strings.settings}" title="${e=>e.strings.settings}" id="setting-button" data-t="${e=>e.notificationBellWCTelemetry.notificationSettingPage().getMetadataTag()}"><span slot="start" class="notification-header-settings-icon">${K.dy.partial(At())}</span><span>${e=>e.strings.settings}</span></fluent-button>`)} ${(0,xe.g)((e=>e.config.enableSingleSettingForNotification),K.dy`<fluent-button appearance="stealth" class="notification-header-settings" @click=${e=>e.toggleNotificationControlFlyout()} aria-label="${e=>e.strings.settings}" title="${e=>e.strings.settings}" id="setting-button" data-t="${e=>e.notificationBellWCTelemetry.notificationSettingOpenCloseControlPanel(!e.isNotificationControlFlyoutOpen).getMetadataTag()}"><span>${e=>e.strings.settings}</span></fluent-button>`)} ${(0,xe.g)((e=>e.isNotificationControlFlyoutOpen),Dt)}</div>${$t} ${(0,xe.g)((e=>{var t;return(null===(t=e.notifications)||void 0===t?void 0:t.length)>0&&e.isAllNotificationsTurnedOn}),K.dy`<div class="notification-list"><div class="notification-list-inner">${(0,Te.rx)((e=>e.notifications),xt,{positioning:!0})}</div></div>`)} ${(0,xe.g)((e=>{var t;return(null===(t=e.notifications)||void 0===t?void 0:t.length)<1&&e.isAllNotificationsTurnedOn}),_t)} ${(0,xe.g)((e=>!e.isAllNotificationsTurnedOn),Tt)}</div>`)}</div>`,Rt=K.dy` ${(0,xe.g)((e=>!(0,le.N)()),Nt)} ${(0,xe.g)((e=>(0,le.N)()),Et)}
`;var Ot=i(42689),Lt=i(35680),Ht=i(27460),Bt=i(62734),Ft=i(71942),Ut=i(26738),jt=i(28632),Gt=i(74449),Wt=i(22674),Vt=i(29717),zt=i(54675);const qt="48px",Kt=`${i(80986).K.Dialog}`,Jt=Ke.i` .notification-content,.notification-item .notification-item_end > .notification-menu-container{right:0}.notification-control-flyout{right:16px}`,Yt=Ke.i` .notification-content,.notification-item .notification-item_end > .notification-menu-container{left:0}.notification-control-flyout{left:16px}`,Qt=Ke.i` .notification-bell .white-svg-icon svg,.notification-bell .nfr-svg-icon svg{fill:currentColor}.notification-bell:hover .notification-count{color:${zt.YP.selectedBackground};
    }
`,Zt=Ke.i`
:host(.hidden){display:none}.notificationbell-container{height:40px;width:40px;display:flex;justify-content:center;align-items:center;position:relative}.notificationbell-container.common{height:32px;width:32px}.notification-bell{height:40px;min-width:40px;width:40px;cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;border-radius:4px;background:transparent;transition-property:background,border,color;transition-duration:100ms;transition-timing-function:cubic-bezier(0.33,0,0.67,1)}.notification-bell.common{height:32px;min-width:32px;width:32px;border-radius:2px}.notification-bell::part(control){padding:0px 5px}.notification-bell::part(content),.notification-bell svg{width:24px;height:24px}.notification-bell.common::part(content),.notification-bell.common svg{width:17px;height:17px}.notification-bell .white-svg-icon svg{fill:white}.notification-bell .nfr-svg-icon svg{fill:${Ot.C}}.notification-bell .dark-theme-svg-icon svg{fill:black}.notification-bell.image-enable:hover{background:rgba(255,255,255,6.05%)}.notification-bell:hover{background:var(--subtle-background-hover,${Lt.wF})}@media screen and (-ms-high-contrast:active){.notification-bell svg{fill:currentColor}}.notification-icon-placeholder{height:40px;width:40px;display:flex;justify-content:center;align-items:center;position:relative;fill:${Ot.C}}.notification-icon-placeholder svg{height:24px;width:24px}.placeholder-img{fill:white}`.withBehaviors((0,Vt.vF)(Qt)),Xt=Ke.i`
${Zt} .notification-count{position:absolute;top:4px;left:20px;right:unset;background:#D83B01;border:1px solid #FF9349;box-sizing:border-box;box-shadow:0px 3.2px 7.2px rgba(0,0,0,0.13),0px 0.6px 1.8px rgba(0,0,0,0.11);border-radius:16px;width:16px;height:16px;color:#fff;display:flex;justify-content:center;align-items:center;font-size:10px;padding-bottom:2px;z-index:1}.notification-count.shrink{font-size:9px}.notification-count.common{position:absolute;top:0;left:unset;right:0px;background:#D83B01;border:1px solid #FF9349;box-sizing:border-box;box-shadow:0px 3.2px 7.2px rgba(0,0,0,0.13),0px 0.6px 1.8px rgba(0,0,0,0.11);border-radius:16px;width:12px;height:12px;color:#fff;display:flex;justify-content:center;align-items:center;padding-bottom:0px;font-size:8px}.notification-count.common.shrink{font-size:7px}.notification-count.no-count{left:22px;width:8px;height:8px;top:8px}.notification-content{--elevation:11;background:${Ht.s};
    width: 360px;
    border-radius: 5px;
    position: absolute;
    top: 40px;
    font-size: 14px;
    line-height: 20px;
    color: ${Ot.C};
    filter: drop-shadow(0px 12.8px 28.8px rgba(0, 0, 0, 0.13)), drop-shadow(0px 0px 9.2px rgba(0, 0, 0, 0.11));
    ${Bt.XC};
    border: 1px solid transparent;
    z-index: ${Kt}}.notification-content.msnhp-style{top:32px;z-index:1}.notification-header{height:${qt};
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 16px;
    box-shadow: 0px 1px 2px ${Ft.dt}}.notification-header-title{font-weight:600;font-size:16px;line-height:24px;color:${Ot.C}}.notification-header-settings{font-size:14px;background:transparent;color:${Ut.go}}.notification-header-settings::part(control){padding-left:0;padding-right:0}.notification-header-settings-icon{width:20px;height:20px}.notification-list{max-height:calc(${"600px"} - ${qt});overflow-x:auto}.notification-list::-webkit-scrollbar-track{background-color:transparent}.notification-list::-webkit-scrollbar-thumb{border-radius:3px;background-color:${jt.c1};border:1px dashed transparent;background-clip:padding-box;transition:all 0.3s ease 0s}.notification-list::-webkit-scrollbar{width:8px}.notification-list-inner{max-height:calc(100vh - 120px)}.notification-item{min-height:111px;padding:12px 16px;border-top:solid 1px ${Ft.dt};box-sizing:border-box;display:flex}.notification-item > .notification-item_start{flex-basis:28px}.notification-item > .notification-item_start svg{fill:var(--neutral-foreground-hint)}.notification-item > .notification-item_middle{flex:1;position:relative}.notification-item > .notification-item_middle .notification-item_middle_title{font-size:12px;line-height:16px;min-height:16px;color:${Gt.Q};margin-bottom:6px}.notification-item > .notification-item_middle .notification-item_middle_title_unread:after{content:"";margin:0 6px;height:6px;width:6px;border-radius:4px;background:#D80101;display:inline-block;position:absolute;top:5px}.notification-item > .notification-item_middle .notification-item-link{text-decoration:none}.notification-item > .notification-item_middle .notification-item_content{margin:0 0 6px;font-size:14px;line-height:20px;color:${Ot.C};word-break:break-word;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.notification-item:hover > .notification-item_middle .notification-item_content{text-decoration:underline}.notification-item > .notification-item_middle .notification-item_content_3col{-webkit-line-clamp:3}.notification-item > .notification-item_middle .notification-item_content_2col{-webkit-line-clamp:2}.notification-item > .notification-item_middle .notification-item_bottom{font-size:12px;line-height:16px;color:${Gt.Q}}.notification-item .notification-item_end > notification-item_end_head > .notification-item_end_icon svg{height:10px;width:10px;fill:${Gt.Q}}.notification-item > .notification-item_middle .notification-item_content_stock_data{margin-bottom:8px}.notification-item > .notification-item_middle .notification-item_content_stock_price{font-size:20px;line-height:28px;color:${Ot.C};margin-right:4px;font-weight:bold}.notification-item > .notification-item_middle .notification-item_content_stock_change{font-size:14px;line-height:20px}.notification-item_content_shopping_deal_icon{display:inline-block;margin-inline-end:4px}.notification-item_content_shopping_deal_data{margin:6px 0px 6px}.notification-item_content_shopping_deal_price{color:#D80101;font-size:20px;line-height:28px;letter-spacing:0em;text-align:center}.notification-item_content_shopping_top_deal_price{color:${Ot.C};font-size:20px;font-weight:bold;line-height:28px;letter-spacing:0em;text-align:center}.notification-item_content_shopping_top_deal_value{color:${"#008A21"}}.notification-item_content_shopping_deal_data .notification-item_content_shopping_deal_oldPrice{color:${Gt.Q};text-decoration:line-through;margin-inline-start:8px;font-size:14px;line-height:20px;letter-spacing:0em}.notification-item_content_shopping_deal_body{margin-left:3px;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;display:-webkit-box;font-size:14px;line-height:20px;letter-spacing:0em}.notification-item_content_shopping_deal_body svg{filter:invert(26%) sepia(88%) saturate(3759%) hue-rotate(135deg) brightness(92%) contrast(103%)}.notification-item_content_wallet_personalized_offer > div{-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.notification-item_content_wallet_personalized_offer > button{width:86px;height:24px;background:#0078D4;border-radius:20px;color:#FFFFFF;cursor:inherit;margin:9px 0;font-family:Segoe UI;font-size:12px}div.notification-item_content_wallet_personalized_offer-buy_now{width:86px;height:24px;background:#0078D4;border-radius:20px;color:#FFFFFF;display:inline-block;margin:9px 0;font-family:Segoe UI;font-size:12px;text-align:center}@media (forced-colors:active){div.notification-item_content_wallet_personalized_offer-buy_now{border-width:2px;border-style:solid}}.notification-item .notification-item_end{position:relative;padding-inline-start:12px;display:flex;flex-direction:column;align-items:flex-end}.notification-item .notification-item_end > .notification-item_end_head > .notification-item_end_icon{height:20px;width:20px;min-width:20px;text-align:center;line-height:20px;margin-bottom:1px;background:transparent}.notification-item .notification-item_end > .notification-item_end_head >.notification-item_end_icon::part(control){padding:0px;line-height:0}.notification-item .notification-item_end > .notification-item_end_head > .notification-item_end_icon:hover{background:${Lt.Xi}}.notification-item .notification-item_end > .notification-item_end_head > .notification-item_end_icon svg{height:10px;width:10px;fill:var(--neutral-foreground-hint)}.notification-item .notification-item_end > .notification-item_end_head > .notification-item_end_icon > span > svg{height:16px;width:16px}.notification-item .notification-item_end > .notification-item_end_img{display:block;width:64px;height:64px;border-radius:2px}.notification-item .notification-item_end > .notification-menu-container{position:absolute;top:20px;width:211px;z-index:1}.notification-item .notification-item_end > .notification-menu-container fluent-menu-item::part(content){font-size:12px;line-height:16px;width:155px}.flex-icon{display:flex}.notificationbell-container .notification-null-page,.notificationbell-container .notification-off-page{height:222px;display:flex;justify-content:center;align-items:center;font-size:14px;line-height:20px;flex-direction:column}.notificationbell-container .notification-null-page > img,.notificationbell-container .notification-off-page > img{padding:10px}.notificationbell-container .notification-null-page > .subtitle{width:274px;text-align:center;margin:16px 0 34px}.notificationbell-container .notification-null-page .action-text{color:#0078D4;cursor:pointer}.notification-item > .notification-item_middle > .notification-item_middle_head,.notification-item > .notification-item_middle > .notification-item-link > .notification-item_middle_content{display:flex}.notification-item > .notification-item_middle > .notification-item_middle_head > .notification-item_end,.notification-item > .notification-item_middle > .notification-item-link > .notification-item_middle_content > .notification-item_end{margin-left:auto}.notification-rewards-banner{height:66px;background:linear-gradient(90deg,rgba(63,200,102,0.1) 9.31%,rgba(0,187,232,0.1) 52.23%,rgba(0,75,140,0.1) 88.75%),#FFFFFF;display:flex;align-items:center;position:relative}.notification-rewards-banner-content{position:absolute;width:100%;height:100%;display:flex}.notification-rewards-banner-mask{position:absolute;width:100%;height:100%}.notification-rewards-banner-mask > .notification-rewards-banner-close-button{display:none}.notification-rewards-banner-mask:hover > .notification-rewards-banner-close-button{display:inline-block;position:relative;left:335px;background:transparent;min-width:22px}.notification-rewards-banner-mask:hover > .notification-rewards-banner-close-button > svg{fill:#717171}.notification-rewards-banner-text{display:flex;flex-direction:column;justify-content:center;padding:0px 0px 0px 16px;color:${Ot.C}}.notification-rewards-banner-title{font-style:normal;font-weight:600;font-size:14px;line-height:20px;color:${Ot.C}}.notification-item > .notification-item_end > .notification-item_end_head{display:flex}.notification-item > .notification-item_end > .notification-item_end_head > .rewards-point-badge{display:flex;align-items:center;height:20px;width:20px;padding:0px 6px 4px;background:transparent}.notification-item > .notification-item_end > .notification-item_end_head > .rewards-point-badge svg{height:14px;width:28px}.notification-rewards-banner-illustration{display:flex;align-items:center;padding:5px}.notification-item_container a{text-decoration:none}.msn-hp-notification-setting-btn{display:flex;align-items:center}@media(max-width:460px){.notification-bell.anaheim .notification-content{right:-75px!important}}@media(max-width:380px){.notification-bell.anaheim .notification-content{width:calc(100vw - 20px)}}.notification-social-item_container{position:relative;box-sizing:border-box;height:82px;display:flex;justify-content:space-between;align-items:center;padding:12px 19px 12px 16px;background:linear-gradient(44.24deg,#DFFFFD 0%,rgba(234,245,245,0.6) 100%)}.notification-social-item_left{display:flex;flex-direction:column;flex:1;justify-content:space-between;height:100%}.notification-social-item_title{font-size:14px;font-weight:600;line-height:20px;color:#111111}.notification-social-item_body{font-size:12px;font-weight:400;line-height:16px;color:#111111}.notification-social-item_icon{background:url(https://assets.msn.com/staticsb/statics/latest/community/img/notification/handshake.svg);height:100%;aspect-ratio:1}.notification-social-item_close_button{width:8px;min-width:unset;height:8px;position:absolute;top:10px;right:13px;background:transparent}.notification-social-item_close_button svg{width:8px;height:8px}.notification-control-flyout{display:flex;justify-content:space-between;position:absolute;width:260px;background:white;padding:10px;border:1px solid #E5E5E5;box-shadow:0px 16px 32px rgb(0 0 0 / 14%);top:40px;z-index:1}.notification-control-flyout .control-text{display:flex;align-self:center}`.withBehaviors(new Wt.O(Jt,Yt),(0,Vt.Uu)(Ke.i` .notification-header{box-shadow:0px 1px 2px rgba(255,255,255,0.08)}.notification-item{border-top:solid 1px rgba(255,255,255,0.08)}.notification-item:not(.disable-dk) > .notification-item_middle .notification-item_middle_title_unread:after{background:#EB9191}.notification-item:not(.disable-dk) > .notification-item_middle .notification-item_middle_title,.notification-item:not(.disable-dk) > .notification-item_middle .notification-item_bottom{color:#DBDBDB}.notification-item:not(.disable-dk) > .notification-item_start > svg,.notification-item:not(.disable-dk) .notification-item_end > .notification-item_end_head > .notification-item_end_icon svg{fill:#DBDBDB}.notification-rewards-banner{background:linear-gradient(90deg,#0A7E59 9.31%,#0C6D74 48.31%,#0E6483 69.15%,#0F5C91 88.75%)}.notification-rewards-banner-mask:hover > .notification-rewards-banner-close-button > svg{fill:#52A3E2}.notification-list::-webkit-scrollbar-track{background-color:#424242}.notification-list::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.54)}`),(0,Vt.vF)(Qt)),ei={experienceConfigSchema:undefined};n.D.define(o.H.registry),a.D.define(o.H.registry),r.D.define(o.H.registry),s.D.define(o.H.registry)},44887:function(e,t,i){"use strict";var n,o,a,r,s,c;function l(e){switch(e){case a.Mini:return 228;case a.Small:return 256;case a.Medium:return 288;case a.Large:return 312;default:return 288}}i.d(t,{Jt:function(){return s},RC:function(){return n},dm:function(){return a},gz:function(){return r},no:function(){return l}}),function(e){e.Above="Above",e.Below="Below",e.Left="Left",e.Right="Right"}(n||(n={})),function(e){e.TopStart="TopStart",e.TopEnd="TopEnd",e.BottomStart="BottomStart",e.BottomEnd="BottomEnd"}(o||(o={})),function(e){e.Mini="Mini",e.Small="Small",e.Medium="Medium",e.Large="Large"}(a||(a={})),function(e){e.AccountLinkPromoENTP="accountLinkPromoENTP",e.BinaryReactionPromotion="binaryReactionPromotion",e.BinaryReactionControl="binaryReactionControl",e.BingIntlUpsellPromotion="bingIntlUpsellPromotion",e.ChinaLanguageMismatch="chinaLanguageMismatch",e.bingChatDallePromotion="bingChatDallePromotion",e.FollowingFeedPromotion="followingFeedPromotion",e.PersonalizeManageText="personalizeManageText",e.PersonalizeManageImage="personalizeManageImage",e.GamingFeedPromotion="gamingFeedPromotion",e.LayoutPromotion="layoutPromotion",e.LocationAccuracyRevIP="locationAccuracyRevIP",e.MarketLanguage="marketLanguage",e.multiLocationsCarousel="multiLocationsCarousel",e.multiLocationsCarouselV2="multiLocationsCarouselV2",e.NotificationBellPromotion="notificationBellPromotion",e.NotificationBellPromotionWinHP="notificationBellPromotionWinHP",e.PersonalizeFeedControl="personalizeFeedControl",e.PersonalizeFeedPromotion="personalizeFeedPromotion",e.recommendedSitesPromotionNewLine="recommendedSitesPromotionNewLine",e.recommendedSitesPromotionOff="recommendedSitesPromotionOff",e.RecommendedSitesSelection="recommendedSitesSelection",e.TopQuestionsPromotion="topQuestionsPromotion",e.TopSitesPromotion="topSitesPromotion",e.informationalSwitchOffer="informationalSwitchOffer",e.informationalSwitchCompletion="informationalSwitchCompletion",e.informationalKeepCompletion="informationalKeepCompletion",e.OfficeCoachmarkO365Tab="o365tab2_psl",e.OfficeCoachmarkO365Layout="OfficeCoachmarkO365Layout",e.WeatherPromotion="weatherPromotion",e.SplitScreen="splitScreen",e.OfficeCoachmarkWorkFeedTab="OfficeCoachmarkWorkFeedTab",e.EdgeFeedBelowTheFoldCoachmark="EdgeFeedBelowTheFoldCoachmark",e.stickyPeekOnLoadAutoScroll="OnLoadAutoScrollPrompt",e.stickyPeekOnLoad="OptInStickPromptLoad",e.SignInUpsellPromotionSignIn="signInUpsellPromotionSignIn",e.SignInUpsellPromotionToJoin="signInUpsellPromotionToJoin",e.SignInUpsellPromotionJoined="SignInUpsellPromotionJoined",e.SignInUpsellPromotionClaimed="signInUpsellPromotionClaimed",e.BackgroundImageEditPromotion="backgroundImageEditPromotion",e.BackgroundImagePromotion="backgroundImagePromotion",e.BackgroundImageVideoPromotion="backgroundImageVideoPromotion",e.PinProng1Flyout="pinProng1Flyout",e.NewYearThemeStore="newYearThemeStore",e.NewLayoutReviewCoachmark="newLayoutReview",e.LockScreenLocationCoachmark="lockScreenLocationCoachmark",e.LockScreenPersonalizeCoachmark="lockScreenPersonalize",e.prong1RotationSettingsButton="prong1RotationSettingsButton",e.Prong1SettingsButtonDialog="prong1SettingsButtonDialog",e.prong1ShuffleButton="prong1ShuffleButton",e.RefreshAnimationCoarchmarkKey="prong1RefreshButton",e.prong2ProfileMigration="prong2ProfileMigration",e.prong2PersonalizedButton="prong2PersonalizedButton",e.prong2PlayPivotButton="prong2PlayPivotButton",e.NurturingPlacementManagerTestKey="nurturingPlacementManagerTestKey",e.actionTrayComment="actionTrayComment",e.actionTrayCommentControl="actionTrayCommentControl",e.actionTrayCommentFirst="actionTrayCommentFirst",e.actionTrayCommentFirstControl="actionTrayCommentFirstControl",e.consumptionTopicTag="consumptionTopicTag"}(r||(r={})),function(e){e.Adjacent="Adjacent",e.Center="Center",e.Opposite="Opposite"}(s||(s={})),function(e){e.Outside="Outside",e.Target="Target",e.OutsideAndTarget="OutsideAndTarget"}(c||(c={}))},17841:function(e,t,i){"use strict";function n(e){return window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[e]}function o(e){const t=["coachMarkKey","latestShownTimestamp","latestClosedTimestamp","showTimes","maxShowTimes","repeatHours"],i={...e};for(const e in i)t.includes(e)||delete i[e];return i}i.d(t,{W:function(){return m}});var a=i(15598);var r=i(22624);class s{constructor(){this.coachmarksKey="coachmarks",this.webStorage=(0,a.$o)(),this.LSNAME="coachmarks"}fetchDataFromIris(){return[]}fetchDataFromWPO(){return[]}readLocalStorage(){return this.webStorage.getObject(this.LSNAME,[])}saveLocalStorage(e){this.webStorage.setObject(this.LSNAME,e)}async savePSL(e){return await r.L.savePreferenceSetting(this.coachmarksKey,{setting:this.coachmarksKey,source:"ntp",timestamp:(new Date).getTime(),value:e})}fetchData(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e=i&&i.length?i:n&&n.length?n:t,e=new Map(e.map((e=>[e.coachMarkKey,e])));const o=new Map(this.readLocalStorage().filter((e=>!!e)).map((e=>[e.coachMarkKey,e])));for(const[t,i]of e)o.has(t)&&o.get(t)&&Object.assign(i,o.get(t));return e}async getMappedDataFromPSL(){if(!n("getPref"))return null;const e=await r.L.getPreferenceSetting(this.coachmarksKey,!1);if(e&&e.value){const t=e.value;return new Map(t.map((e=>[e.coachMarkKey,e])))}return null}localStorageValidation(e,t){const i=this.readLocalStorage(),n=i.find((t=>t.coachMarkKey==e)),o=t.find((t=>t.coachMarkKey==e));if(!n){if(!o)return[];i.push(o)}return i}async pSLStorageValidation(e,t){let i=[];const n=await r.L.getPreferenceSetting(this.coachmarksKey,!1);n&&n.value&&(i=n.value);const o=i.find((t=>t.coachMarkKey==e)),a=t.find((t=>t.coachMarkKey==e));if(!o){if(!a)return[];i.push(a)}return i}}class c{get coachMarkKey(){return this._coachMarkKey}get item(){return this._item}get registrant(){return this._registrant}constructor(e,t){this._coachMarkKey=e,this._registrant=t||"targetElement"}registerItemAnchorElement(e){return this._update({anchorElement:e})}registerItemTriggerMessage(e){return this._update({triggerMessageReceived:e})}registerDisplayCallback(e){return this._update({displayCallback:e})}registerHideCallback(e){return this._update({hideCallback:e})}registerConfirmCallback(e){return this._update({confirmCallback:e})}registerDismissCallback(e){return this._update({dismissCallback:e})}registerCloseCallback(e){return this._update({closeCallback:e})}_update(e){if(e&&Object.keys(e).length)return this._item={...this._item||{},...e},this}}class l{constructor(){this._registeredCoachMarks=new Map}register(e,t){return this._registeredCoachMarks.has(e)||this._registeredCoachMarks.set(e,new c(e,t)),this._registeredCoachMarks.get(e)}getCoachMark(e){var t;return null===(t=this._interceptGettingCoachMark(e))||void 0===t?void 0:t.item}IsRegistered(e){return this._registeredCoachMarks.has(e)}IsTriggered(e){var t,i;return!(null===(t=this._interceptGettingCoachMark(e))||void 0===t||null===(i=t.item)||void 0===i||!i.triggerMessageReceived)}IsRegisteredByTargetElement(e){var t;return"targetElement"===(null===(t=this._interceptGettingCoachMark(e))||void 0===t?void 0:t.registrant)}IsRegisteredByNurturingFramework(e){var t;return"nurturingFrameWork"===(null===(t=this._interceptGettingCoachMark(e))||void 0===t?void 0:t.registrant)}_interceptGettingCoachMark(e){const t=this._registeredCoachMarks.get(e);if(t)return t.coachMarkKey===e?t:void 0}}var d=i(28951),u=i(85663);class h{static IsValidFormat(e){return"marketLanguage"==e.coachMarkKey?e.body&&e.head&&e.size&&e.coachMarkKey&&!(0,u.isNullOrUndefined)(e.repeatHours)&&(e.coachmarkFloatingPosition||e.coachmarkAnchoringPosition):e.body&&e.head&&e.size&&e.coachMarkKey&&e.maxShowTimes&&(!(0,u.isNullOrUndefined)(e.repeatHours)||1==e.maxShowTimes)&&(e.coachmarkFloatingPosition||e.coachmarkAnchoringPosition)}static IsCoolDownPeriodOver(e){const t=Date.now(),{startTimestamp:i,endTimestamp:n,latestShownTimestamp:o,repeatHours:a,showTimes:r,maxShowTimes:s}=e;return!(i&&t<i)&&(!(n&&t>n)&&(!(o&&a&&t-o<=3600*a*1e3)&&!(r&&s&&r>=s)))}static IsFilteredPlacement(e,t){const i=d.c.getQueryParameterByName("filterNurturingPlacements",window.location.search),n=i?i.split(",").map((e=>e.trim())):[];return!t&&!n.length||n.includes(e.coachMarkKey)}}var p=i(52185);class m{static getInstance(){return p.Gq.get("__Coachmark_SuperCoachMarkCollection__",(()=>new m))}get registrations(){return this._registrations}constructor(){this._initialized=!1,this.isInternal=!1,this._triggeredCoachMarkKeys=[],this.eligibleCoachMarks=[],this._winnerCoachMarkKeys=[],this.registerCallback=void 0,this._dataStorage=new s,this._registrations=new l}registerItemAnchorElement(e,t){var i;null===(i=this._registrations.register(e))||void 0===i||i.registerItemAnchorElement(t)}registerItemTriggerMessage(e,t,i){var n;if(null===(n=this._registrations.register(e))||void 0===n||n.registerItemTriggerMessage(t),t&&this.addTriggeredCoachMarks([{coachMarkKey:e}]),i){if(!this.IsWinnerCoachMark(e,i))return;this.registerCallback&&this.registerCallback(e,this._registrations.getCoachMark(e))}}registerConfirmCallback(e,t){var i;null===(i=this._registrations.register(e))||void 0===i||i.registerConfirmCallback(t)}registerDismissCallback(e,t){var i;null===(i=this._registrations.register(e))||void 0===i||i.registerDismissCallback(t)}registerCloseCallback(e,t){var i;null===(i=this._registrations.register(e))||void 0===i||i.registerCloseCallback(t)}triggerCoachMark(e,t){var i;if(null===(i=this._registrations.register(e))||void 0===i||i.registerItemTriggerMessage(!0),this.addTriggeredCoachMarks([{coachMarkKey:e}]),null!=t&&t.data){const e=t.data;this.IsEligibleCoachMark(e)&&this.addEligibleCoachMarks([e])}this.startShowProcess(e,null==t?void 0:t.parentCampaignId)}startShowProcess(e,t){if(!this._initialized)return;this.IsWinnerCoachMark(e,t)&&(this.setWinnerCoachMarkKeys([{coachMarkKey:e}]),this.registerCallback&&this.registerCallback(e,this._registrations.getCoachMark(e)))}addEligibleCoachMarks(e){e.forEach((e=>{const t=this.eligibleCoachMarks.findIndex((t=>t.coachMarkKey===e.coachMarkKey));t>=0&&this.eligibleCoachMarks.splice(t,1),this.eligibleCoachMarks.push(e)}))}addTriggeredCoachMarks(e){const t=[...this._triggeredCoachMarkKeys,...e.map((e=>e.coachMarkKey))];this._triggeredCoachMarkKeys=Array.from(new Set(t))}setWinnerCoachMarkKeys(e){this._winnerCoachMarkKeys=e.map((e=>e.coachMarkKey))}getCollection(){return this._registrations}getTargetElementByKey(e){var t;return(null===(t=this._registrations.getCoachMark(e))||void 0===t?void 0:t.anchorElement)||null}getAvailableData(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=this._dataStorage.fetchData(t,i,n);this.isInternal=e;const a=Array.from(o.values()),r=this.filterEligibleCoachMarks(a),s=this.filterConflictFreeCoachMarks(r);return this.addEligibleCoachMarks(r),this.setWinnerCoachMarkKeys(s),this._initialized=!0,s}async getAvailableDataAsync(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=this._dataStorage.fetchData(t,i,n);this.isInternal=e;const a=await this._dataStorage.getMappedDataFromPSL();if(a)for(const[e,t]of o)a.has(e)&&a.get(e)&&Object.assign(t,a.get(e));const r=Array.from(o.values()),s=this.filterEligibleCoachMarks(r),c=this.filterConflictFreeCoachMarks(s);return this.addEligibleCoachMarks(s),this.setWinnerCoachMarkKeys(c),this._initialized=!0,c}filterEligibleCoachMarks(e){return e&&e.length?e.filter((e=>this.IsEligibleCoachMark(e))):[]}filterConflictFreeCoachMarks(e){if(!e||!e.length)return[];for(let t=0;t<e.length;t++){const i=e[t];if(this.IsWinnerCoachMark(i.coachMarkKey,i.parentCampaignId))return i.parentCampaignId?e.filter((e=>e.parentCampaignId===i.parentCampaignId)):[i]}return[]}fetchCoachmarkFromEligibleCoachmarks(e){if(!e)return;const t=this.eligibleCoachMarks.find((t=>t.coachMarkKey===e));if(!t)return;return this.IsWinnerCoachMark(t.coachMarkKey,t.parentCampaignId)?t:void 0}setCoachMarkShown(e){if(this._registrations.IsRegisteredByNurturingFramework(e))return;const t=this._dataStorage.localStorageValidation(e,this.eligibleCoachMarks).map((t=>(t.coachMarkKey===e&&(t.latestShownTimestamp=Date.now(),t.showTimes=t.showTimes?t.showTimes+1:1),o(t))));this._dataStorage.saveLocalStorage(t)}async setCoachMarkShownPreferenceSetting(e){if(this._registrations.IsRegisteredByNurturingFramework(e))return;if(!n("getPref")||!n("setPref"))return;const t=(await this._dataStorage.pSLStorageValidation(e,this.eligibleCoachMarks)).map((t=>(t.coachMarkKey===e&&(t.latestShownTimestamp=Date.now(),t.showTimes=t.showTimes?t.showTimes+1:1),o(t))));return this._dataStorage.savePSL(t)}setCoachMarkClosed(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._registrations.IsRegisteredByNurturingFramework(e))return;const i=this._dataStorage.localStorageValidation(e,this.eligibleCoachMarks).map((i=>(i.coachMarkKey===e&&(i.latestClosedTimestamp=Date.now(),t&&(i.showTimes=i.maxShowTimes)),o(i))));this._dataStorage.saveLocalStorage(i)}clearLocalStorage(e){const t=this._dataStorage.readLocalStorage();if(!t.length)return;const i=t.map((t=>(t.coachMarkKey===e&&(t.showTimes=0),t)));this._dataStorage.saveLocalStorage(i)}IsEligibleCoachMark(e){if(this._registrations.IsRegisteredByNurturingFramework(e.coachMarkKey))return!0;if(!h.IsValidFormat(e))return!1;if(this.isInternal)return e.autoDismiss&&(e.autoDismiss=0),!0;if(!h.IsCoolDownPeriodOver(e))return!1;const t="1"===d.c.getQueryParameterByName("vptest",window.location.search);return h.IsFilteredPlacement(e,t)}IsWinnerCoachMark(e,t){return!!this._registrations.IsRegistered(e)&&!!this._registrations.IsTriggered(e)}}},34934:function(e,t,i){"use strict";i.d(t,{Gg:function(){return s},St:function(){return l},WW:function(){return c},tk:function(){return n}});var n,o=i(52185),a=i(52058);!function(e){e.actionMenuOpen="actionMenuOpen",e.addTopSite="addTopSite",e.coachmark="coachmark",e.dailyDiscovery="dailyDiscovery",e.editTopSite="editTopSite",e.editWelcomeGreeting="editWelcomeGreeting",e.hamburgerMenu="hamburgerMenu",e.imageSearch="imageSearch",e.locationMarkerCard="locationMarkerCard",e.mobileAppUpsell="mobileAppUpsell",e.msRewards="msRewards",e.museumCard="museumCard",e.navOverflow="navOverflow",e.notificationBell="notificationBell",e.pivot="pivot",e.search="search",e.searchHistoryMoreOptions="searchHistoryMoreOptions",e.settings="settings",e.signInControl="signInControl",e.toast="toast",e.topSiteOverflowPanel="topSiteOverflowPanel",e.voiceSearchWC="voiceSearchWC",e.waffle="waffle",e.recommendedSitesSetting="recommendedSitesSetting",e.newsHeadlineBelowSearchboxMoreOptions="newsHeadlineBelowSearchboxMoreOptions",e.weatherOneLinerActionMenu="weatherOneLinerActionMenu"}(n||(n={}));class r{constructor(){this.flyoutOpen=!1,this.openFlyouts=new Set,this.registeredCallbacks=[]}static getInstance(){return o.Gq.get("__FlyoutCoordinationInstance__",(()=>new r))}reportFlyoutOpen(e,t){t?this.openFlyouts.add(e):this.openFlyouts.delete(e),this.flyoutOpen=this.openFlyouts.size>0;for(const i of this.registeredCallbacks)i(e,t)}registerFlyoutListener(e){this.registeredCallbacks.push(e)}unregisterFlyoutListener(e){(0,a.Z)(this.registeredCallbacks,(t=>e===t))}isFlyoutOpen(){return this.flyoutOpen}}function s(e,t){return r.getInstance().reportFlyoutOpen(e,t)}function c(e){return r.getInstance().registerFlyoutListener(e)}function l(e){return r.getInstance().unregisterFlyoutListener(e)}},42729:function(e,t,i){"use strict";i.d(t,{k:function(){return m},l:function(){return p}});var n,o=i(7124);const a=null===(n=i(59878).Al.CurrentFlightSet)||void 0===n?void 0:n.has("prg-scrolldbc"),r=50;let s,c,l,d,u;function h(e,t){if(window.pageYOffset!==d)return void t();const i=Date.now(),n=function(e,t,i){if(i<=e)return 0;if(i>=t)return 1;const n=(i-e)/(t-e);return n*n*(3-2*n)}(s,c,i),o=Math.round(l+u*n);window.scrollTo(0,o),i>=c||window.pageYOffset===d&&window.pageYOffset!==o?e():(d=window.pageYOffset,requestAnimationFrame((()=>{h(e,t)})))}function p(e,t){return e=Math.round(e),(t=Math.round(t))<0?Promise.reject("Negative duration"):0===t?(window.scrollTo(0,e),Promise.resolve()):(s=Date.now(),c=s+t,l=window.pageYOffset,u=e-l,new Promise(((e,t)=>{d=window.pageYOffset,requestAnimationFrame((()=>{h(e,t)}))})))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return a?!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?(0,o.Z)(e,t):(0,o.Z)(e,t,{leading:!0,trailing:!1}):e}},62223:function(e,t,i){"use strict";i.d(t,{fh:function(){return g}});var n,o,a=i(19628);!function(e){e[e.Default=0]="Default",e[e.Medium=1]="Medium",e[e.MonthDate=2]="MonthDate",e[e.Weekday=3]="Weekday",e[e.Time=4]="Time"}(n||(n={}));class r{constructor(){this.dateFormatOptionsMap=new Map,this.setSupportsLocaleSpecifiers(),this.dateFormatOptionsMap.set(n.Medium,{year:"numeric",month:"short",day:"numeric"}),this.dateFormatOptionsMap.set(n.MonthDate,{month:"short",day:"numeric"}),this.dateFormatOptionsMap.set(n.Weekday,{weekday:"short"}),this.dateFormatOptionsMap.set(n.Time,{hour:"numeric",minute:"numeric"})}overrideDateFormat(e,t){e&&t&&this.dateFormatOptionsMap.set(e,t)}localizedDateString(e,t){return this.formatDate(e,n.Default,t)}localizedDateStringMedium(e,t){return this.formatDate(e,n.Medium,t)}localizedMonthDate(e,t){return this.formatDate(e,n.MonthDate,t)}localizedWeekday(e,t){return this.formatDate(e,n.Weekday,t)}formatTimeFromDate(e,t){return this.supportsLocaleSpecifiers&&this.dateFormatOptionsMap?e.toLocaleTimeString(t,this.dateFormatOptionsMap.get(n.Time)):e.toTimeString()}format(e){if(!e)return"";for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return a.Ld.Format(e,...i)}localizedNumberString(e,t){return this.supportsLocaleSpecifiers?e.toLocaleString(t):e.toString()}formatDate(e,t,i){let o=null;if(this.supportsLocaleSpecifiers)if(t===n.Default)o=e.toLocaleDateString(i);else if(this.dateFormatOptionsMap){const n=this.dateFormatOptionsMap.get(t);o=e.toLocaleDateString(i,n)}return null===o&&(o=e.toDateString()),null!==o?o.replace(/\u200E/g,"").replace(/\u200F/g,""):o}setSupportsLocaleSpecifiers(){this.supportsLocaleSpecifiers=(()=>{try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1})()}}!function(e){e[e.None=0]="None",e[e.JustNow=1]="JustNow",e[e.LessThanOneHour=2]="LessThanOneHour",e[e.Today=3]="Today",e[e.Yesterday=4]="Yesterday",e[e.ThisWeek=5]="ThisWeek",e[e.ThisYear=6]="ThisYear",e[e.FullDate=7]="FullDate",e[e.InMinutes=8]="InMinutes"}(o||(o={}));function s(){return new Date}function c(e){return(s().getTime()-e.getTime())/1e3}function l(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function d(e){const t=c(e),i=function(){const e=s();return e.setHours(0,0,0,0),e}(),n=l(i,-1),a=l(i,-6),r=function(){const e=s();return new Date(e.getFullYear(),0,0,0,0,0,0)}();return t>=-3300&&t<-60?o.InMinutes:t<0?o.None:t<120?o.JustNow:t<3600?o.LessThanOneHour:e>=i?o.Today:e>=n?o.Yesterday:e>=a?o.ThisWeek:e>=r?o.ThisYear:o.FullDate}class u{constructor(e,t,i){this.timeLocStrings=e,this.locale=t,this.locUtility=i}transform(e,t,i){const n=3600,a=86400;if(!e)return"";if(!this.locUtility.supportsLocaleSpecifiers)return t;const r=c(e);switch(d(e)){case o.None:return"";case o.JustNow:return this.timeLocStrings.JustNow;case o.LessThanOneHour:return this.timespanString(r,r<120?this.timeLocStrings.NumberMinuteAgo:this.timeLocStrings.NumberMinutesAgo,60);case o.Today:return this.timespanString(r,r<7200?this.timeLocStrings.NumberHourAgo:this.timeLocStrings.NumberHoursAgo,n);case o.Yesterday:if(0===i){const t=this.timeLocStrings.TimeYesterday;return this.locUtility.format(t,this.locUtility.formatTimeFromDate(e,this.locale))}return r<a?this.timespanString(r,r<7200?this.timeLocStrings.NumberHourAgo:this.timeLocStrings.NumberHoursAgo,n):this.timespanString(r,r<172800?this.timeLocStrings.NumberDayAgo:this.timeLocStrings.NumberDaysAgo,a);case o.ThisWeek:return 0===i?this.locUtility.format(this.timeLocStrings.TimeDayOfWeek,this.locUtility.localizedWeekday(e,this.locale),this.locUtility.formatTimeFromDate(e,this.locale)):this.timespanString(r,r<172800?this.timeLocStrings.NumberDayAgo:this.timeLocStrings.NumberDaysAgo,a);case o.ThisYear:return this.locUtility.localizedMonthDate(e,this.locale);default:return this.locUtility.localizedDateStringMedium(e,this.locale)}}timespanString(e,t,i){const n=Math.floor(e/i);return this.locUtility.format(t,this.locUtility.localizedNumberString(n,this.locale))}}const h={JustNow:"Just Now",JustNowSimple:"now",NumberMinuteAgo:"{0} minute ago",NumberMinutesAgo:"{0} minutes ago",NumberMinutesAgoSimple:"{0}m",NumberHourAgo:"{0} hour ago",NumberHoursAgo:"{0} hours ago",NumberHoursAgoSimple:"{0}h",NumberDayAgo:"{0} day ago",NumberDaysAgo:"{0} days ago",NumberDaysAgoSimple:"{0}d",NumberWeekAgo:"{0} week",NumberWeeksAgo:"{0} weeks",NumberWeeksAgoSimple:"{0}w",NumberMonthAgo:"{0} month",NumberMonthsAgo:"{0} months",NumberMonthsAgoSimple:"{0}mo",NumberYearAgo:"{0} year",NumberYearsAgo:"{0} years",NumberYearsAgoSimple:"{0}y",TimeYesterday:"Yesterday at {0}",TimeDayOfWeek:"{0} at {1}"},p={Minute:{one:"{0} دقيقة",two:"دقيقتان",threeToTen:"{0} دقائق",elevenPlus:"{0} دقيقة"},Hour:{one:"{0} ساعة",two:"ساعتان",threeToTen:"{0} ساعات",elevenPlus:"{0} ساعة"},Day:{one:"{0} يوم",two:"يومان",threeToTen:"{0} أيام",elevenPlus:"{0} يوما"},Week:{one:"{0} أسبوع",two:"{0} أسبوع",threeToTen:"{0} أسابيع",elevenPlus:"{0} أسبوعا"},Month:{one:"{0} شهر",two:"{0} شهر",threeToTen:"{0} أشهر",elevenPlus:"{0} شهرا"},Year:{one:"{0} عام",two:"{0} عام",threeToTen:"{0} أعوام",elevenPlus:"{0} عاما"}},m={Week:{one:"{0} שבוע",two:"{0} שבועיים",three:"{0} שבועות"},Month:{one:"{0} חודש",two:"{0} חודשיים",three:"{0} חודשים"},Year:{one:"{0} שנה",two:"{0} שנתיים",three:"{0} שנים"}};function g(e,t,i,n,o,a,s){const c=t&&t.toLowerCase();if(!(e instanceof Date)||isNaN(e.valueOf()))return"";if(a&&i)return function(e,t,i,n,o){if(!(e instanceof Date)||isNaN(e.valueOf()))return"";const a=f.MsPerMinute,r=f.MsPerHour,s=f.MsPerDay,c=f.MsPerWeek,l=f.MsPerMonth,d=f.MsPerYear,u=t.getTime()-e.getTime();if(u<a)return o?i.JustNowSimple||"":i.JustNow||"";let h=d,g="Year";u<r?(h=a,g="Minute"):u<s?(h=r,g="Hour"):u<c?(h=s,g="Day"):u<l?(h=c,g="Week"):u<d&&(h=l,g="Month");const v=/^[Aa][Rr]-/.test(n),y=/^[Hh][Ee]-/.test(n),b=Math.floor(u/h);let w=null;w=v?function(e,t){if(e<2)return p[t].one;if(e<3)return p[t].two;if(e<11)return p[t].threeToTen;return p[t].elevenPlus}(b,g):y?function(e,t,i){if("Minute"==i||"Hour"==i||"Day"==i)return e[`Number${i}${t>1?"s":""}Ago`];if(t<2)return m[i].one;if(t<3)return m[i].two;return m[i].three}(i,b,g):i[`Number${g}${b>1||o?"s":""}Ago${o?"Simple":""}`];return w?w.replace("{0}",b):""}(e,new Date,i,c,s);if(!i&&"zh-cn"===c)return"";i||(i=h);const l=(o=o||new r).localizedDateString(e,c);n||(n=0);return new u(i,c,o).transform(e,l,n)}const f={MsPerMinute:6e4,MsPerHour:36e5,MsPerDay:864e5,MsPerWeek:6048e5,MsPerMonth:2592e6,MsPerYear:31104e6}},8887:function(e,t,i){"use strict";i.d(t,{N:function(){return r}});var n=i(5302),o=i(44132),a=i(21215);class r{constructor(e,t,i,n){this.chromiumApiRetryCount=5,this.isNtpPrivateApiAvailable=e=>window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[e],this.prefSettingKey=e,this.searchForKeyName=t,this.targetKeyName=i,this.defaultItem=n}async getPreferenceSetting(e,t){try{const i=await this.getPreferenceSettingValueArray(t),n=i.findIndex((t=>t[this.searchForKeyName]===e));return n>-1?i[n]:null}catch(t){const i=`Failed to find user preference key: ${e}`;return this.logAppError(n.Aps,i,t),null}}async savePreferenceSetting(e,t){try{const i=await this.getPreferenceSettingValueArray()||[],n=i.findIndex((t=>t[this.searchForKeyName]===e));if(n>-1){const e={...i[n],...t};i[n]=e}else{const n={...this.defaultItem,...t};n[this.searchForKeyName]=e,i.push(n)}return this.setAndSavePreferenceSetting(i)}catch(t){const i="Failed to store user preference setting";return this.logAppError(n.nS9,i,`Key:${e}.Error:${t}`),!1}}isApiAvailableToUse(){return new Promise((e=>{const t="Error in isApiAvailableToUse";try{this.isGoodToUseNtpSettingsPrivate("getAllPrefs")?void 0===this.isPrefSettingKeyAvailable?window.chrome.ntpSettingsPrivate.getAllPrefs((i=>{if(this.isPrefSettingKeyAvailable=i&&i.findIndex((e=>e.key===this.prefSettingKey))>-1,!this.isPrefSettingKeyAvailable){let e="";try{i&&i.forEach((t=>e+=`${t.key}+`))}catch(e){this.logAppError(n.Aps,"Error: Can not log keylist from preference setting",e)}this.logAppError(n.me0,t,`missing preference key: ${this.prefSettingKey}, available keys: ${e}`)}e(this.isPrefSettingKeyAvailable)})):e(this.isPrefSettingKeyAvailable):(this.logAppError(n.MFQ,t,"getAllPrefs not present"),e(!1))}catch(t){this.logAppError(n.MFQ,"Error: Unexpected throw in isApiAvailableToUse",t),e(!1)}}))}logAppError(e,t,i){null===o.M0||void 0===o.M0||o.M0.sendAppErrorEvent({...e,message:t,pb:{...e.pb,customMessage:i}})}async getPreferenceSettingValueArray(e){try{if(this.settingValuesArray&&!e)return this.settingValuesArray;{const e=await this.getPreferenceValueFromBrowser();return this.settingValuesArray=e||[],this.settingValuesArray}}catch(e){const t=`Failed to read ${this.prefSettingKey} preference setting`;return this.logAppError(n.k8J,t,e),[]}}setAndSavePreferenceSetting(e){if(!(0,a.N)())return!1;try{if(this.isGoodToUseNtpSettingsPrivate("setPref"))return this.settingValuesArray=e,window.chrome.ntpSettingsPrivate.setPref(this.prefSettingKey,this.settingValuesArray),!0;{const e="window.chrome.ntpSettingsPrivate.setPref does not exist.";return this.logAppError(n.T5b,e,`Key:${this.prefSettingKey}`),!1}}catch(e){return!1}}isGoodToUseNtpSettingsPrivate(e){let t=this.isNtpPrivateApiAvailable(e),i=0;for(;i<this.chromiumApiRetryCount&&!t;)i++,setTimeout((()=>{t=this.isNtpPrivateApiAvailable(e),t&&o.M0.sendAppErrorEvent({...n.$9$,message:`Chromium API retry succeed after ${i} retry`})}),50);if(!t){const t=`functionName: ${e},\n            canUseDOM: ${(0,a.N)()},\n            windows: ${window},\n            document: ${window&&window.document},\n            createElement: ${window&&window.document&&window.document.createElement},\n            chrome: ${window&&window.chrome},\n            ntpSettingsPrivate: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate},\n            ntpSettingsPrivate funtions: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate&&Object.getOwnPropertyNames(window.chrome.ntpSettingsPrivate).toString()}\n            `;o.M0.sendAppErrorEvent({...n.Fe_,message:"Failed to get funtion from window.chrome.ntpSettingsPrivate.",pb:{...n.Fe_.pb,customMessage:t}})}return t}getPreferenceValueFromBrowser(){return new Promise(((e,t)=>{if(this.isGoodToUseNtpSettingsPrivate("getPref"))window.chrome.ntpSettingsPrivate.getPref(this.prefSettingKey,(function(t){t&&t.value?e(t.value):e(null)}));else{const e="window.chrome.ntpSettingsPrivate.getPref does not exist.";this.logAppError(n.pCD,e,""),t(e)}}))}}},22624:function(e,t,i){"use strict";i.d(t,{L:function(){return c}});var n=i(52185),o=i(81489),a=i(8887),r=i(5302);class s extends a.N{constructor(){super("ntp.record_user_choices","setting","value",{setting:"default",source:"default layout",timestamp:0,value:-1})}static getInstance(){return n.Gq.get("__RecordUserChoicesManager__",(()=>new s))}async deleteKeyValueFromPSL(e){try{let t=await this.getPreferenceSettingValueArray()||[];return t=t.filter((t=>t&&t[this.searchForKeyName]!==e)),this.setAndSavePreferenceSetting(t)}catch(t){const i="Failed to delete user preference setting";return this.logAppError(r.nS9,i,`Key:${e}.Error:${t}`),!1}}}const c=(0,o.h)(s)},90061:function(e,t,i){"use strict";i.d(t,{ZH:function(){return l},bE:function(){return u},iA:function(){return s},l_:function(){return d}});var n=i(242),o=i(42833),a=i(21215);const r="defer-hydration",s=window.location.search.includes("ssrhydrateperf"),c=(new Map,e=>t=>{if(!t.hasAttribute(e))return Promise.resolve();const i=new o.o;return new MutationObserver(((n,o)=>{t.hasAttribute(e)||(i.set(),o.disconnect())})).observe(t,{attributeFilter:[e]}),i.getResultAsync()}),l=c(r),d=c("needs-hydration"),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,a.N)())return{start:()=>{},markEnd:()=>{}};const i=`${e}.start`;return{start:()=>{var e;return null===(e=performance)||void 0===e?void 0:e.mark(i)},markEnd:function(){var o,a;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const c=`${e}.${r}`;var l;(null===(o=performance)||void 0===o||o.mark(c),null===(a=performance)||void 0===a||a.measure(`${e}.${r}:duration`,i,c),s)&&((0,n.Ou)()[`${e}.${r}:duration`]=null===(l=performance)||void 0===l?void 0:l.getEntriesByName(`${e}.${r}:duration`)[0].duration)}}};new Set;var h;!function(e){e[e.Immediate=0]="Immediate",e[e.Never=1]="Never",e[e.IdleAfterTtvr=2]="IdleAfterTtvr",e[e.OnInteraction=3]="OnInteraction",e[e.OnHover=4]="OnHover",e[e.OnPageResize=5]="OnPageResize"}(h||(h={}))},84964:function(e,t,i){"use strict";i.d(t,{l:function(){return A}});var n=i(33940),o=i(29367),a=i(57663),r=i(22471),s=i(28904),c=i(42590),l=i(33117),d=i(89799),u=i(242),h=i(33779),p=i(5302),m=i(29363),g=i(43225),f=i(93441),v=i(25513),y=i(81586),b=i(90061);class w extends Event{constructor(e){super(w.type,{bubbles:!0,composed:!0}),this.complete=e}static isPendingTask(e){var t;return e.type===w.type&&"function"==typeof(null===(t=e.complete)||void 0===t?void 0:t.then)}}w.type="pending-task";var k=i(78058),S=i(21215),C=i(21937),x=i(42833);let T=[];new Set,new x.o;var _=i(72685);const P="props-token";class A extends s.H{constructor(){super(...arguments),this.ensureObservableBeforeConnect=!1,this.hydratable=!1,this.isSSRRendered=!1,this.needPendingTask=!1}connectedCallback(){this.initializeCore().then((()=>{var e;return this.ttvrEnd=null===(e=this.perfTimeline)||void 0===e?void 0:e.startMeasure("render").endMeasure}))}async initializeCore(){const e=this.getExperienceType(),t=this.perfTimeline=(0,l.Dd)(e,this.instanceId);if(this.initStart=t&&(()=>this.initEnd=t.startMeasure("init").endMeasure),this.fetch=(0,d.Ud)({perfTimeline:t}),(0,u.O8)("WCE.Count"),(0,S.N)())this.hydratable=this.hasAttribute("defer-hydration")||this.hasAttribute("needs-hydration"),this.isSSRRendered=this.hasAttribute("needs-hydration"),this.initializeAsync();else{const e=this.initializeOnServerSide();this.needPendingTask&&this.dispatchEvent(new w(e))}}async initializeOnServerSide(){var e;null===(e=this.initStart)||void 0===e||e.call(this),this.needPendingTask=!1;const t=this.getExperienceType();try{var i;const e=this.getConfigRef();if(!this.config){let t;if("string"!=typeof e)try{t=o.U.getConfigSync(e)}catch(e){}t||(this.needPendingTask=!0,t=await o.U.getConfig(e)),this.config=t.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const e=this.getTelemetryContract();this.telemetryObject=new k.D(e)}const t=this.experienceConnected();t&&(this.needPendingTask=!0,await t),super.connectedCallback(),this.shadowDomPopulated(),null===(i=this.initEnd)||void 0===i||i.call(this)}catch(e){var n,a;null===(n=this.initEnd)||void 0===n||n.call(this,{customSuffix:"error"}),(0,h.OO)(e,p.xuo,`Exception web component experience(${t}) initializeOnServerSide.`,`ssrLayout:${null===(a=window.ssrLayoutState)||void 0===a?void 0:a.selectedFeedDisplaySetting};edgeHeader:${JSON.stringify(window.edgeNTPHeader)}`)}}async initializeAsync(){var e;this.hydratable&&await(0,b.ZH)(this),null===(e=this.initStart)||void 0===e||e.call(this),this.reportStartTimeToMilestoneConnector(f.g.updateVisuallyReadyTiming);const t=this.getExperienceType();try{var i;const e=this.getConfigRef();if(!this.config){const t=await o.U.getConfig(e);this.config=t.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const e=this.getTelemetryContract();this.telemetryObject=new k.D(e)}const{stalenessInfo:n}=this.config;n&&n.isStaleCheckRequired&&(r={experienceType:t,thresholdMinutes:n.staleThreshold,criticalCallback:()=>this.prerenderRefreshCritical(),delayCallback:()=>this.prerenderRefresh()},T.push(r)),this.ensureObservableBeforeConnect&&this.$fastController.bindObservables();const a=this.experienceConnected();if(a){const e=this.hydratable&&b.iA?(0,b.bE)(`${this.getExperienceType()}:experienceConnected`):void 0;null==e||e.start(),await a,null==e||e.markEnd()}if(this.hydratable){const e=b.iA?(0,b.bE)(`${this.getExperienceType()}:beforeHydration`):void 0;null==e||e.start(),await this.beforeHydration(),null==e||e.markEnd()}super.connectedCallback(),this.shadowDomPopulated(),this.hydratable&&await this.afterHydration(),this.perfTimeline&&(0,l.d0)(this,this.perfTimeline,_.y),null===(i=this.initEnd)||void 0===i||i.call(this)}catch(e){var n,a;(0,h.OO)(e,p.xuo,`Exception web component experience initializeAsync. ExperienceType: ${t}`,`ssrLayout:${null===(n=window.ssrLayoutState)||void 0===n?void 0:n.selectedFeedDisplaySetting};edgeHeader:${JSON.stringify(window.edgeNTPHeader)}`),this.logCriticalException(),null===(a=this.initEnd)||void 0===a||a.call(this,{customSuffix:"error"})}var r}experienceConnected(){}beforeHydration(){}afterHydration(){}shadowDomPopulated(){}prerenderRefreshCritical(){return Promise.resolve(void 0)}prerenderRefresh(){}logCriticalException(){}getConfigRef(){return a.jG.IsGitConfigs?{instanceSrc:this.instanceSrc,experienceType:this.getExperienceType(),sharedNs:this.sharedNs}:this.instanceSrc}getTelemetryContract(){return{type:y.c9.Module,name:this.getExperienceType()}}getApproxTTVRValue(e){const t=(0,u.Ou)();if(this.isSSRRendered&&t[r.p.isSSRCompleted])return t[m.nz+(e||this.getExperienceType())]||t[m.nz+r.p.complete]}markVisuallyReady(e,t){var i,n;const o=this.getApproxTTVRValue();t??(t=void 0===o),e=o||e;const a=(0,m.o_)(this.getExperienceType(),!1,e,t);return this.reportEndTimeToMilestoneConnector(f.g.updateVisuallyReadyTiming,e),null===(i=this.ttvrEnd)||void 0===i||i.call(this,{endTime:e}),null===(n=this.visualReadinessCallback)||void 0===n||n.call(this),a}markVisuallyReadyRaf(e){(0,g.c)((()=>this.markVisuallyReady(e)))}reportStartTimeToMilestoneConnector(e){this.reportTimeToMilestoneConnector(e,performance.now())}reportEndTimeToMilestoneConnector(e,t){this.reportTimeToMilestoneConnector(e,void 0,t||performance.now())}reportTimeToMilestoneConnector(e,t,i){const n=(0,v.S0)();n&&e.getActionSender(n).send({experienceType:this.getExperienceType(),experienceInstance:this.instanceId,startTime:t,endTime:i})}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),e===P){const e=(0,C.Y)(i);Object.assign(this,e)}}}(0,n.gn)([(0,c.Lj)({attribute:"config-instance-src"})],A.prototype,"instanceSrc",void 0),(0,n.gn)([(0,c.Lj)({attribute:"config-shared-ns"})],A.prototype,"sharedNs",void 0),(0,n.gn)([(0,c.Lj)({attribute:"instance-id"})],A.prototype,"instanceId",void 0),(0,n.gn)([(0,c.Lj)({attribute:P})],A.prototype,"propsToken",void 0)},72685:function(e,t,i){"use strict";i.d(t,{a:function(){return r},y:function(){return a}});var n=i(31699),o=i(49218);function a(){return new Promise((e=>n.S.queueUpdate((()=>e()))))}function r(e){return o.dy`<script nonce="${()=>window.NONCE_ID}">${o.dy.partial(`window.markTTSR("${e}");`)}</script>`}},32808:function(e,t,i){"use strict";i.d(t,{N6:function(){return r}});var n=i(52185);const o=()=>n.Gq.get("__core_DisplayModeCoordination_displayModeMap__",(()=>({}))),a=()=>n.Gq.get("__core_DisplayModeCoordination_callbackMap__",(()=>({})));function r(e,t){const i=a(),n=o();let r=i[e];r||(r=[],i[e]=r),r.push(t);const s=n[e];s&&t(s)}},45970:function(e,t,i){"use strict";i.d(t,{X:function(){return n}});class n{constructor(e){this.onSubscriptionCallbackError=e,this.eventLookup={}}publish(e,t){let i=this.eventLookup[e];if(void 0!==i){i=i.slice();let n=i.length;for(;n-- >0;)try{i[n](t)}catch(i){this.onSubscriptionCallbackError&&this.onSubscriptionCallbackError(i,e,n,t)}}}subscribe(e,t){void 0===this.eventLookup[e]&&(this.eventLookup[e]=[]);const i=this.eventLookup[e];return i.push(t),{dispose(){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}subscribeOnce(e,t){const i=this.subscribe(e,(function(e){i.dispose(),t(e)}));return i}}},26197:function(e,t,i){"use strict";i.d(t,{_:function(){return n}});const n={backgroundInnerHolder:"backgroundInnerHolder",backgroundOuterHolder:"backgroundOuterHolder",cardAction:"cardAction",complianceHyperlink:"complianceHyperlink",feedToggle:"feedToggle",financeGreeting:"financeGreeting",following:"following",myInterests:"myInterests",gaming:"gaming",gridViewFeed:"gridViewFeed",headerSpaceHolder:"headerSpaceHolder",locationGreeting:"locationGreeting",marketSelector:"marketSelector",myFeed:"myFeed",navBar:"navBar",notificationBell:"notificationBell",nurturingCoachMark:"nurturingCoachMark",office365:"office365",overlayArticleReader:"overlayArticleReader",personalizeButton:"personalizeButton",pillWC:"pillWC",recommendedSites:"recommendedSites",rewardsIcon:"rewardsIcon",rewardsButton:"rewardsButton",rightRailSectionKey:"rightRailSectionKey",scrollableContainer:"scrollableContainer",searchBox:"search-box-edgenext",searchBoxInput:"searchBoxInput",searchBoxVoiceButton:"searchBoxVoiceButton",searchHistory:"searchHistoryEdgeNext",settingsButton:"SettingsButton",settingsCloseButton:"settingsCloseButton",settingsInformationalButton:"settingsInformationalButton",shoppingNav:"shoppingNav",signInButton:"signInButton",singleColumnFeedRoot:"singleColumnFeedRoot",superCoachMark:"superCoachMark",topSites:"topSites",unifiedMobileFeed:"unifiedMobileFeed",weatherNav:"weatherNav",waffle:"waffle",watchNav:"watchNav",waterfallViewFeed:"waterfallViewFeed",welcomeGreeting:"welcomeGreeting",navigationPage:"navigationPage",videoPlayButton:"videoPlayButton",imageEditButton:"imageEditButton",headerGrid:"headerGrid",floatButtonGroupWC:"floatButtonGroupWC",weatherHeroExperience:"weatherHeroExperience"}},98604:function(e,t,i){"use strict";i.d(t,{FY:function(){return s},b_:function(){return c},h_:function(){return l}});var n=i(42833),o=i(52185);const a=()=>o.Gq.get("__global-element-map_elementMap__",(()=>new Map)),r=()=>o.Gq.get("__global-element-map_waitForElementMap__",(()=>new Map));function s(e,t){if(!t)return;a().set(e,t);const i=r().get(e);i&&i.set(t)}function c(e){return e?a().get(e):null}function l(e){if(!e)return Promise.reject(null);const t=c(e);if(c(e))return Promise.resolve(t);const i=r();if(i.has(e))return i.get(e).getResultAsync();const o=new n.o;return i.set(e,o),o.getResultAsync()}},75938:function(e,t,i){"use strict";i.d(t,{$0:function(){return T}});var n=i(82718),o=i(43261);class a{constructor(){this._eventListeners=new Set}addEventListener(e){this._eventListeners.add(e)}removeEventListener(e){this._eventListeners.delete(e)}dispatchEvent(e){this._eventListeners.forEach((t=>this.dispatchDecorator?t(this.dispatchDecorator(e)):t(e)))}}class r{constructor(e){if(this._platformData=e,this.interactionEvent=new a,!e)throw new Error("Platform data is required for ContentTemplateModel")}}class s extends r{get contentType(){return o.J.CallToAction}get IsValid(){return!!this.title&&!!this.description}}var c=i(75059);class l extends s{get IsValid(){return!!this._contentData&&super.IsValid}get _contentData(){return this._platformData.contentModel}get title(){return this._contentData.title}get description(){return this._contentData.description}get contentImage(){return this._contentData.contentImage}get logoImage(){return this._contentData.logoImage}get disclaimerContent(){return this._contentData.disclaimerContent}get engageContentAction(){if(this._contentData.engageContentAction)return{...this._contentData.engageContentAction,actionDelegate:async()=>{var e,t;this.interactionEvent.dispatchEvent({type:c.p.Engaged,ts:Date.now(),followUpPlacementPromise:null===(e=this._contentData.engageContentAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t?void 0:t.call(e)})}}}get dismissContentAction(){if(this._contentData.dismissContentAction||this._contentData.engageContentAction)return{label:this._platformData.defaultDismissLabel,ariaLabel:this._platformData.defaultDismissAriaLabel,...this._contentData.dismissContentAction,actionDelegate:async()=>{var e,t;this.interactionEvent.dispatchEvent({type:c.p.Dismissed,ts:Date.now(),followUpPlacementPromise:null===(e=this._contentData.dismissContentAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t?void 0:t.call(e)})}}}}class d extends r{get contentType(){return o.J.CallToChoice}get IsValid(){return!!this.title&&!!this.description}}class u extends d{get IsValid(){return!!this._contentData&&super.IsValid&&this.validateOptionValues()}get _contentData(){return this._platformData.contentModel}get title(){return this._contentData.title}get description(){return this._contentData.description}get contentImage(){return this._contentData.contentImage}get logoImage(){return this._contentData.logoImage}get currentValue(){return this._contentData.currentValue}get choiceOptions(){return this._contentData.choiceOptions||[]}get dismissContentAction(){if(this._contentData.dismissContentAction)return{label:this._platformData.defaultDismissLabel,ariaLabel:this._platformData.defaultDismissAriaLabel,...this._contentData.dismissContentAction,actionDelegate:async()=>{var e,t;this.interactionEvent.dispatchEvent({type:c.p.Dismissed,ts:Date.now(),followUpPlacementPromise:null===(e=this._contentData.dismissContentAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t?void 0:t.call(e)})}}}get engageContentAction(){if(this._contentData.engageContentAction)return{...this._contentData.engageContentAction,actionDelegate:async e=>{var t,i;this.interactionEvent.dispatchEvent({type:c.p.Engaged,ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.engageContentAction)||void 0===t||null===(i=t.actionDelegate)||void 0===i?void 0:i.call(t,e)})}}}validateOptionValues(){const e=new Set;for(const t of this.choiceOptions){if(!t.value)return!1;if(e.has(t.value))return!1;e.add(t.value)}return!0}}class h{get displaySurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:c.p.Viewed,ts:Date.now()})}}}get hideSurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:c.p.Hidden,ts:Date.now()})}}}get closeSurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:c.p.Closed,ts:Date.now()})}}}constructor(e){if(this._platformData=e,this.interactionEvent=new a,!e)throw new Error("Platform data is required for PlacementSurfaceModel")}}class p extends h{get IsValid(){return!!this.size}get surfaceType(){return n.U.Coachmark}}class m extends p{get IsValid(){return!!this._surfaceData&&super.IsValid}get _surfaceData(){return this._platformData.surfaceModel}get position(){return this._surfaceData.position}get size(){return this._surfaceData.size}get dismissAfterSeconds(){return this._surfaceData.dismissAfterSeconds}get displaySurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=(t=super.displaySurfaceAction).actionDelegate)||void 0===e||e.call(t),null===(i=this._surfaceData.displaySurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=super.hideSurfaceAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t||t.call(e),null===(i=this._surfaceData.hideSurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}get closeSurfaceAction(){var e;return{ariaLabel:null===(e=this._platformData)||void 0===e?void 0:e.defaultCloseAriaLabel,...this._surfaceData.closeSurfaceAction,actionDelegate:()=>{var e,t,i,n;null===(e=super.closeSurfaceAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t||t.call(e),null===(i=this._surfaceData.closeSurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}}class g extends h{get surfaceType(){return n.U.ContextualFeedbackCardLevel}}class f extends g{get IsValid(){return!!this._surfaceData}get _surfaceData(){return this._platformData.surfaceModel}get dismissAfterSeconds(){return this._surfaceData.dismissAfterSeconds}get displaySurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=(t=super.displaySurfaceAction).actionDelegate)||void 0===e||e.call(t),null===(i=this._surfaceData.displaySurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=super.hideSurfaceAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t||t.call(e),null===(i=this._surfaceData.hideSurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}}class v extends h{get surfaceType(){return n.U.ContextualFeedback}}class y extends v{get IsValid(){return!!this._surfaceData}get _surfaceData(){return this._platformData.surfaceModel}get dismissAfterSeconds(){return this._surfaceData.dismissAfterSeconds}get displaySurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=(t=super.displaySurfaceAction).actionDelegate)||void 0===e||e.call(t),null===(i=this._surfaceData.displaySurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=super.hideSurfaceAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t||t.call(e),null===(i=this._surfaceData.hideSurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}}var b,w,k;!function(e){e.Promotional="Promotional",e.LegalCompliance="LegalCompliance"}(b||(b={})),function(e){e.SlideUp="SlideUp",e.FadeIn="FadeIn",e.SlideRight="SlideRight"}(w||(w={})),function(e){e.Top="Top",e.Bottom="Bottom"}(k||(k={}));class S extends h{get IsValid(){return!!this.position}get surfaceType(){return n.U.HorizontalBanner}}class C extends S{get IsValid(){return!!this._surfaceData&&super.IsValid}get _surfaceData(){return this._platformData.surfaceModel}get transitionEffect(){return this._surfaceData.transitionEffect}get position(){return this._surfaceData.position}get dismissAfterSeconds(){return this._surfaceData.dismissAfterSeconds}get bannerType(){return this._surfaceData.bannerType}get displaySurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=(t=super.displaySurfaceAction).actionDelegate)||void 0===e||e.call(t),null===(i=this._surfaceData.displaySurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var e,t,i,n;null===(e=super.hideSurfaceAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t||t.call(e),null===(i=this._surfaceData.hideSurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}get closeSurfaceAction(){return{...this._surfaceData.closeSurfaceAction,actionDelegate:()=>{var e,t,i,n;null===(e=super.closeSurfaceAction)||void 0===e||null===(t=e.actionDelegate)||void 0===t||t.call(e),null===(i=this._surfaceData.closeSurfaceAction)||void 0===i||null===(n=i.actionDelegate)||void 0===n||n.call(i)}}}}n.U.Coachmark,n.U.HorizontalBanner,n.U.ContextualFeedback,n.U.ContextualFeedbackCardLevel,o.J.CallToAction,o.J.CallToChoice;let x;const T=()=>x},32982:function(e,t,i){"use strict";var n,o;i.d(t,{V:function(){return o},m:function(){return n}}),function(e){e.Iris="Iris",e.Amplify="Amplify",e.WPO="WPO",e.Internal="Internal"}(n||(n={})),function(e){e.Default="Default",e.Promotional="Promotional",e.Functional="Functional",e.Settings="Settings",e.Exclude="Exclude"}(o||(o={}))},43261:function(e,t,i){"use strict";var n;i.d(t,{J:function(){return n}}),function(e){e.CallToAction="CallToAction",e.CallToChoice="CallToChoice"}(n||(n={}))},75059:function(e,t,i){"use strict";var n;i.d(t,{p:function(){return n}}),function(e){e.Served="Served",e.Viewed="Viewed",e.Hidden="Hidden",e.Engaged="Engaged",e.Dismissed="Dismissed",e.Closed="Closed"}(n||(n={}))},82718:function(e,t,i){"use strict";var n;i.d(t,{U:function(){return n}}),function(e){e.Coachmark="Coachmark",e.HorizontalBanner="HorizontalBanner",e.RiverCard="RiverCard",e.ContextualFeedback="ContextualFeedback",e.ContextualFeedbackCardLevel="ContextualFeedbackCardLevel"}(n||(n={}))},27026:function(e,t,i){"use strict";function n(e,t,i){return(n,o)=>{var a;let r=(null==o?void 0:o[n.id])||[];const{relatedPlacementIds:s,slidingWindowMS:c}=i||{};if(null!=s&&s.length){const e=s.filter((e=>e!==n.id)).flatMap((e=>(null==o?void 0:o[e])||[]));r=[...r,...e]}if(c&&(r=r.filter((e=>e.ts>Date.now()-c))),!r.length)return!0;return((null===(a=r)||void 0===a?void 0:a.filter((t=>t.type===e)).length)||0)<t}}i.d(t,{l:function(){return n}})},25941:function(e,t,i){"use strict";function n(e,t,i){return(n,o)=>{if(!n)return!1;let a=(null==o?void 0:o[n.id])||[];const{relatedPlacementIds:r}=i||{};if(null!=r&&r.length){const e=r.filter((e=>e!==n.id)).flatMap((e=>(null==o?void 0:o[e])||[]));a=[...a,...e]}if(!a.length)return!0;let s;return a.forEach((t=>{(null==t?void 0:t.type)===e&&null!=t&&t.ts&&(!s||s.ts<t.ts)&&(s=t)})),!s||Date.now()-s.ts>t}}i.d(t,{H:function(){return n}})},40053:function(e,t,i){"use strict";var n;i.d(t,{S:function(){return n},PublisherServiceClient:function(){return v}}),function(e){e.More="More",e.Mute="Mute",e.Read="Read"}(n||(n={}));var o=i(16715),a=i(57663),r=i(59878),s=i(88048),c=i(7766),l=i(32308),d=i(84882),u=i(82415),h=i(51480),p=i(665),m=i(77062),g=i(62907),f=i(17395);class v{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.fetchImpl=e,this.addPageInfoToOcid=t,this.followedPublishersEndpoint="v1/News/Users/Me/PreferredProviders",this.followedSourcesEndpoint="msn/sources",this.publishersServiceEndpoint="Msn/Providers",this.actionsServiceEndpoint="Graph/Actions",this.followActionSourceEndpoint="community/follows",this.ocid="feeds"}getOcid(){return this.ocid}async getUserMutedPublishers(){const e=await this.getUserActions(n.Mute);if(!e||!e.value)return null;if(!e.value.length)return[];const t=e.value.reduce(((e,t)=>(e[t.targetId]=t,e)),{}),i=await this.getPublisherDetails(Object.keys(t));if(!i||!i.value||!i.value.length)return null;return i.value.map((e=>{const i={createdDateTime:t[e.id].createdDateTime};return{...e,...i}}))}async getUserFollowedPublishers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const t=await this.getRequestInit(),i=[...await this.getCommonParams(),{key:"$top",value:`${e}`}],n=(0,s.PH)(this.followedPublishersEndpoint);this.appendQs(i,n),(0,o.aH)()||(0,m.s6)(n);const a=await this.sendRequest(decodeURIComponent(n.href),t,"getFollowedPublishers");return null==a?void 0:a.value}async getUserFollowedSources(){var e,t,i,n;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const r=await this.getRequestInit(),c=[...await this.getCommonParams(),{key:"$top",value:`${a}`},{key:"queryType",value:"MyFeed"}],l=(0,s.PH)(this.followedSourcesEndpoint);let d;this.appendQs(c,l),(0,o.aH)()||(0,m.s6)(l);try{d=await this.sendRequest(decodeURIComponent(l.href),r,"getFollowedSources")}catch(e){throw new Error(`{url: ${l.href}}`)}return(null===(e=d)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)>0?null===(i=d)||void 0===i||null===(n=i.value[0])||void 0===n?void 0:n.subCards.map((e=>{var t;const i=e.intAttributes&&1==e.intAttributes.disableProfile;return{...e,profileId:i?null:e.profileId,displayName:e.name,logos:[{imageLink:{href:null===(t=e.image)||void 0===t?void 0:t.url}}]}})):[]}async publisherUserAction(e,t,i){if(!e||!t)return null;const n=await this.getRequestInit();n.method=i;let o=await this.getCommonParams();"POST"===i?n.body=JSON.stringify({actionType:t,targetId:e,targetType:"SourceProvider"}):"DELETE"===i&&(o=[...o,{key:"$filter",value:`actionType eq '${t}' and targetId eq '${e}'`}]);const a=(0,s.PH)(this.actionsServiceEndpoint);this.appendQs(o,a);const r=await this.sendRequest(decodeURIComponent(a.href),n,`deleteUserAction ${t}`,!0,!0);if(r.status>=400){const i=`OneService returned error response. Status: ${r.status} for actionType: ${t}, targetId: ${e}`;throw new Error(i)}return r}async updateSourceFollowState(e,t){if(!e)return null;const i=await this.getRequestInit();let n=await this.getCommonParams();n=[...n],t?(i.method="POST",i.body=JSON.stringify({targetId:e})):(i.method="DELETE",n=[...n,{key:"targetId",value:e}]);const o=(0,s.PH)(this.followActionSourceEndpoint);this.appendQs(n,o);const a=t?"follow":"unfollow";try{return await this.sendRequest(decodeURIComponent(o.href),i,`updateSourceFollowState ${a}`,!0,!0)}catch(t){throw new Error(`OneService returned error response. Community follow service  for targetId: ${e}, action: ${a}`)}}async updatePublisherReadTime(e,t,i){if(!e)return null;const o=await this.getRequestInit(),a=await this.getCommonParams(),r=n.Read;o.method="POST",o.body=JSON.stringify({actionType:r,targetType:i,targetId:e,updatedDateTime:t});const c=(0,s.PH)(this.actionsServiceEndpoint);this.appendQs(a,c);try{return await this.sendRequest(decodeURIComponent(c.href),o,`updateSourceReadTime ${r}`,!0,!0)}catch(t){throw new Error(`OneService returned error response for actionType: ${r}, targetId: ${e}`)}}async getUserPublishersReadTimes(){try{const e=await this.generatePublisherStatusRequest(void 0,n.Read);return null==e?void 0:e.value}catch(e){throw new Error("OneService returned error response for fetching followed sources read times.")}}async getUserPublisherStatus(e,t){var i;return!(null===(i=(await this.generatePublisherStatusRequest(e,t)).value)||void 0===i||!i.length)}async generatePublisherStatusRequest(e,t){const i=await this.getRequestInit();i.method="GET";const n=e?`and targetId eq '${e}'`:"";let a=await this.getCommonParams();a=[...a,{key:"$filter",value:`actionType eq '${t}' ${n} `}];const r=(0,s.PH)(this.actionsServiceEndpoint);return this.appendQs(a,r),(0,o.aH)()||(0,m.s6)(r),await this.sendRequest(decodeURIComponent(r.href),i,`getUserPublisherStatus ${t}`)}async getUserActions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const i=await this.getRequestInit(),n=[...await this.getCommonParams(),{key:"$filter",value:`actionType eq '${e}' and deleted eq false and targetType eq 'SourceProvider'`},{key:"$top",value:`${t}`}],a=(0,s.PH)(this.actionsServiceEndpoint);return this.appendQs(n,a),(0,o.aH)()||(0,m.s6)(a),await this.sendRequest(decodeURIComponent(a.href),i,`getUserActions ${e}`)}async getPublisherDetails(e){const t=await this.getRequestInit(),i=(0,s.PH)(this.publishersServiceEndpoint),n=[...c.$D.getOneServiceParamsWithoutAuth(null,this.ocid,this.addPageInfoToOcid),{key:"ids",value:e.join(",")}];return this.appendQs(n,i),await this.sendRequest(decodeURIComponent(i.href),t,"getPublisherDetails")}async getCommonParams(){var e;"winWidgets"===a.jG.AppType&&(this.ocid="sidebar"===(null===(e=r.Al.ClientSettings)||void 0===e?void 0:e.pagetype)?"shoreline":"winp2",this.addPageInfoToOcid=!1);if((0,o.aH)())return this.getSapphireQueryParams();this.forcedApiKey&&(this.addPageInfoToOcid=!1),(0,o._3)()&&(this.ocid="OnOSkypeChannels");const t=await this.isUserSignedIn()?c.$D.getOneServiceParamsWithAuth(a.jG.UserId||a.jG.ActivityId,this.ocid,this.addPageInfoToOcid):c.$D.getOneServiceParamsWithoutAuth(a.jG.UserId||a.jG.ActivityId,this.ocid,this.addPageInfoToOcid);if(this.forcedApiKey){t.find((e=>"apikey"==e.key)).value=this.forcedApiKey}return t}getSapphireQueryParams(){const e=c.$D.getOneServiceNonDynamicParamsWithoutAuth(this.ocid,this.addPageInfoToOcid),t=(0,d._4)();return t&&(e.push({key:a.jG.OneServiceContentMarketQspKey,value:t.market}),a.jG.ShouldUseFdheadQsp&&e.push({key:"fdhead",value:t.features}),e.push({key:"activityId",value:t.activityId}),t.latitude&&t.longitude&&e.push({key:"location",value:`${t.latitude}|${t.longitude}`})),e}async getRequestInit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e={method:"GET"}),e.credentials="include",e.headers=(0,u.wq)()?await(0,h.dG)():await c.$D.getOneServiceHeaders(),e}async isUserSignedIn(){const e=(0,r.nP)().UserIsSignedIn;if(void 0!==e)return e;return await(0,f.XJ)()===g.Hy.SignedIn}async sendRequest(e,t,i,n,a){return(0,o.aH)()?await this.sapphireRequest(decodeURIComponent(e),t):await this.networkRequest(decodeURIComponent(e),t,i,n,a)}async sapphireRequest(e,t){const i={url:e,headers:t.headers,body:t.body,refresh:!0};let n;switch(t.method){case"POST":n=await(0,p.Ef)(i);break;case"DELETE":n=await(0,p.o9)(i);break;default:n=await(0,p.FM)(i)}return JSON.parse(n||"{}")}async networkRequest(e,t,i,n,o){return(0,l.w)((async()=>{const i=await this.fetchImpl(e,t);if(!i.ok)throw Error(i.statusText);return n&&(0,m.T1)(),o?i:i.json()}),i)}appendQs(e,t){e.forEach((e=>{e.value&&t.searchParams.set(e.key,e.value)}))}setForcedApiKey(e){this.forcedApiKey=e}}},45067:function(e,t,i){"use strict";i.d(t,{k:function(){return h}});var n=i(57663),o=i(15598),a=i(5884),r=i(55465),s=i(77262),c=i(22680),l=i(98137),d=i(68738);const u=e=>null!=e;class h{static convertContent(e){if(!e)return null;const t=r.k.binaryReactionOrder,i={};t.map((t=>{e&&(e.reactionSummary?i[t]=(e.reactionSummary.subReactionSummaries.find((e=>e.type.toLowerCase()==t))||{totalCount:0}).totalCount:i[t]=0)}));const n=!e.cmsId&&e.id?e.id.replace(`_${e.market}`,""):e.id;return{comments:{skip:0,top:0,moreCount:0,list:[]},...e,id:n,reactionStatus:e.reactionStatus?e.reactionStatus.toLowerCase():"on",commentStatus:e.commentStatus?e.commentStatus.toLowerCase():"on",pollStatus:e.pollStatus?e.pollStatus.toLowerCase():"on",totalCommentCount:e.commentSummary?e.commentSummary.totalCount:0,reactionCounts:i}}static convertUser(e){if(e){let t;t=e.isSocialUser?r.k.userStateType.existingUser:e.id&&!e.id.startsWith("m-")?r.k.userStateType.newUser:r.k.userStateType.anonymous;let i=e.nameStatus&&"Unknown"!==e.nameStatus?e.nameStatus:r.k.userNameStatusType.normal;return t!=r.k.userStateType.newUser||null!=e.primaryName&&""!==e.primaryName.trim()||(i=r.k.userNameStatusType.notAllow),"vid-ksdbkre0pxrdbnxqmr5xbyu056sdgdim5cna8urvbu45yi3x7jqs"==e.id&&(e.coverImageUrl=`${(0,n.Yq)().StaticsUrl}/latest/community/img/premium-profile-promo-card/LA-cover-banner-image.png`),{...e,name:e.primaryName,avatarUrl:e.notUseAvatar||!e.primaryAvatar?void 0:e.primaryAvatar,likesCount:e.reactionSummary?e.reactionSummary.totalCount:0,postsCount:e.commentSummary?e.commentSummary.totalCount:0,followersCount:(e.followSummary&&e.followSummary.subFollowSummaries.find((e=>"FollowBy"==e.type))||{totalCount:0}).totalCount,followingCount:(e.followSummary&&e.followSummary.subFollowSummaries.find((e=>"Follow"==e.type))||{totalCount:0}).totalCount,reactionsCount:e.reactionSummary&&e.reactionSummary.totalCount||0,badge:"Commenter",state:t,avatarStatus:e.avatarStatus||r.k.userAvatarStatusType.normal,nameStatus:i,ageGroup:e.ageGroup||r.k.userAgeGroup.above18,banLevel:e.banLevel,isFollowing:e.isFollowedByMe}}return{state:r.k.userStateType.anonymous}}static convertUpdateUserNameResponse(e){return e?"Active"==e.state?"InReview":"Closed"==e.state&&"Approved"==e.reason?"Approved":"Rejected":"Rejected"}static convertUserList(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top+e.skip),totalCount:e.totalCount,list:e.items.map((e=>this.convertUser(e.links.length>0&&e.links.find((e=>"User"==e.type)).item||null)))}:null}static convertComment(e){if(!e)return null;let t=null,i=null;if(e.links){const n=e.links.find((t=>"User"==t.type&&t.item.id==e.createdBy));t=n?h.convertUser(n.item):null;const o=e.links.find((e=>"Content"==e.type));i=o?h.convertContent(o.item):null}const n=e.visibleStatus!=r.k.visibleStatusType.Normal,o=e.visibleStatus==r.k.visibleStatusType.InReview,a=[r.k.visibleStatusType.DeletedByAI,r.k.visibleStatusType.DeletedByHI,r.k.visibleStatusType.DeletedByUser].includes(e.visibleStatus),s={};return r.k.reactionOrder.map((t=>{e.reactionSummary?s[t]=(e.reactionSummary.subReactionSummaries.find((e=>e.type.toLowerCase()==t))||{totalCount:0}).totalCount:s[t]=0})),{...e,ownerId:e.createdBy,text:e.body,createDatetime:e.createdTime,reactionCounts:s,user:t,content:i,isHidden:n,isInReview:o,isDeleted:a,replies:[],replyCount:e.commentSummary?e.commentSummary.totalCount:0}}static convertCommentList(e){return e?{commentStatus:"On",skip:e.skip,top:e.top,hasMore:e.hasMore,hasPrevious:e.hasPrevious,asc:e.asc,orderby:e.orderby,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map((e=>h.convertComment(e)))}:null}static convertPost(e){return e&&e.postId?{...e}:null}static convertPostList(e){return e?e.map((e=>h.convertPost(e))):null}static convertReactionsResponseToReactionBreakdownData(e,t){if(!e)return null;const i=e.items;let n;try{n=e.links.find((e=>"Content"==e.type||"Comment"==e.type)).item.reactionSummary.subReactionSummaries}catch(e){n=null}const o={reactionCounts:{all:0},items:{all:[]},content:null};if(r.k.reactionOrder.map((e=>{o.reactionCounts[e]=0,o.items[e]=[]})),n&&n.map((e=>{o.reactionCounts[e.type.toLowerCase()]=e.totalCount,o.reactionCounts.all+=e.totalCount})),i&&i.filter((e=>r.k.reactionOrder.includes(e.subType.toLowerCase()))).map((e=>{const t=e.subType.toLowerCase(),i=e.links.find((e=>"User"==e.type))?e.links.find((e=>"User"==e.type)).item:{state:r.k.userStateType.anonymous,primaryName:"You"};i.isFollowing=!!e.links.find((e=>"Follow"==e.type)),o.items[e.subType.toLowerCase()].push({user:i,rateValue:t}),o.items.all.push({user:i,rateValue:t})})),e.links&&e.links.length>0){const t=e.links.filter((e=>"content"==e.type.toLowerCase()));t.length>0&&(o.content=t[0].item)}return o}static convertRatingToRateValue(e){e&&e.items&&(e=e.items[0]);return e&&e.subType?e.subType.toLowerCase():null}static convertUserStrikeActivities(e){var t,i,n,o;return{Warning:null===(t=e.items.map((e=>e.links.find(d.p1))).filter(u).find((e=>e.item.subType==r.k.accountModerationStatus.warning)))||void 0===t?void 0:t.item.createdDateTime,FirstStrike:null===(i=e.items.map((e=>e.links.find(d.p1))).filter(u).find((e=>e.item.subType==r.k.accountModerationStatus.firstStrike)))||void 0===i?void 0:i.item.createdDateTime,SecondStrike:null===(n=e.items.map((e=>e.links.find(d.p1))).filter(u).find((e=>e.item.subType==r.k.accountModerationStatus.secondStrike)))||void 0===n?void 0:n.item.createdDateTime,Ban:null===(o=e.items.map((e=>e.links.find(d.p1))).filter(u).find((e=>e.item.subType==r.k.accountModerationStatus.ban)))||void 0===o?void 0:o.item.createdDateTime}}static convertUserActivities(e){if(!e)return null;const t=e.items.map((e=>{var t;const i=null===(t=e.links.find(d.p1))||void 0===t?void 0:t.item;if(i)return"ApproveCommentAppeal"===i.subType?{targetId:i.targetId,createdDateTime:i.createdDateTime}:void 0})).filter(u),i=e.items.map((e=>{var t;const i=null===(t=e.links.find(d.p1))||void 0===t?void 0:t.item;if(i)return"RejectCommentAppeal"===i.subType?{targetId:i.targetId,createdDateTime:i.createdDateTime}:void 0})).filter(u);return e.items.map((e=>{var o;const a=null===(o=e.links.find(d.p1))||void 0===o?void 0:o.item;a&&("Takedown"===a.subType&&t.map((e=>{e.targetId.includes(a.targetId)&&(a.appealResult="approved",a.appealResponseDate=new Date(e.createdDateTime).toLocaleDateString(n.jG.CurrentMarket,{day:"2-digit",month:"long",year:"numeric"}))})),"Takedown"===a.subType&&i.map((e=>{e.targetId.includes(a.targetId)&&(a.appealResult="denied",a.appealResponseDate=new Date(e.createdDateTime).toLocaleDateString(n.jG.CurrentMarket,{day:"2-digit",month:"long",year:"numeric"}))})))})),{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top-1+e.skip-1+2),list:e.items.map((e=>this.convertUserActivity(e))).filter(u)}}static convertUserActivity(e){if(!e)return null;const t={id:e.id,type:e.type,datetime:e.createdDateTime,isSeen:e.read,notification:e.notification};switch(e.type){case r.k.activityType.follow:{const i=e.links.find(d.N9);return i?{...t,user:this.convertUser(i.item)}:null}case r.k.activityType.badge:{const i=e.links.find(d.bI);return{...t,badgeType:i?i.item.subType:void 0}}case r.k.activityType.reply:{const i=e.links.find(d.N9),n=e.links.find(d.SX),o=e.links.find(d.fc);return i&&o?{...t,user:this.convertUser(i.item),target:{url:null==n?void 0:n.item.url,body:o.item.body,comment:this.convertComment(o.item)}}:null}case r.k.activityType.reaction:{const i=e.links.find(d.N9),n=e.links.find(d.SX),o=e.links.find(d.fc),a=e.links.find(d.oU),r=a&&"Comment"==a.item.targetType?this.convertSubReactionSummariesToReactionCounts(o&&o.item.reactionSummary&&o.item.reactionSummary.subReactionSummaries):this.convertSubReactionSummariesToReactionCounts(n&&n.item.reactionSummary&&n.item.reactionSummary.subReactionSummaries),s=a&&"Comment"==a.item.targetType?o&&o.item.body:n&&n.item.title;return i&&s?{...t,user:this.convertUser(i&&i.item),target:{url:n&&n.item.url,reactionCounts:r,body:s,comment:o&&this.convertComment(o.item)}}:null}case r.k.activityType.moderation:{const i=e.links.find(d.SX),n=e.links.find(d.fc),o=e.links.find(d.p1),a=o?o.item.subType:void 0,s=o&&"Takedown"===o.item.subType&&o.item.reasons[0];return a?{...t,moderationErrorType:a,message:r.k.activityModerationErrorTypeStringKeyMap[a]||"",reason:s&&r.k.moderationTakedownReasonStringKeyMap[s]||"",appealResult:o&&o.item.appealResult,appealResponseDate:o&&o.item.appealResponseDate,target:n&&{url:i&&i.item.url,id:n.item.id,body:n.item.body,comment:n&&this.convertComment(n.item)}}:null}}return t}static convertSubReactionSummariesToReactionCounts(e){if(!e)return null;const t={all:0};return r.k.reactionOrder.map((e=>{t[e]=0})),e.map((e=>{t[e.type.toLowerCase()]=e.totalCount})),t}static mapFeedResponseToSocialBarData(e,t,i,n,o,a,s){const l=(0,c.l4)();if(l&&l.indexOf("reactionstest")>-1){try{n={totalCount:0,subCommentSummaries:[]},(i={totalCount:0,subReactionSummaries:[]}).totalCount=Math.floor(1e4*Math.random()),n.totalCount=Math.floor(1e4*Math.random());["angry","like","love","sad","surprised","thinking","upvote","downvote"].sort((()=>.5-Math.random())).slice(0,Math.floor(3*Math.random())).forEach((e=>i.subReactionSummaries.push({totalCount:Math.floor(10*Math.random()),type:e})))}catch{}if(n.totalCount>0)try{const e=[{id:"82ccfa9b-56ac-41ca-9546-9f3910ec3cec"},{id:"f21a5f91-a6a9-4e80-bb59-3839e296773f"},{id:"c400d1c0-2f0d-469f-986c-8bebe2de1060"},{id:"1be1cb2b-6210-43b4-b962-ce1df9b524d0"},{id:"4e19e02f-f6fc-405d-8f99-1f007ce7f5df"}],t=Math.floor(5*Math.random());o=e.slice(t,t+1)}catch{}}const d=i&&i.subReactionSummaries?i.subReactionSummaries:[],u=r.k.binaryReactionOrder,p={};u.map((e=>{p[e]=(e=>{if(Array.isArray(d)){const t=d.find((t=>t&&t.type&&"string"==typeof t.type&&t.type.toLowerCase()===e));return t?t.totalCount:0}})(e)}));const m=!t&&h.getLocalContentReaction(e,s);m&&p[t=m]++;const g=!i,f=!n;return{id:e,reactionStatus:a&&a.reactionStatus?a.reactionStatus.toLowerCase():"on",commentStatus:a&&a.commentStatus?a.commentStatus.toLowerCase():"on",reactionsOptedOut:g,commentsOptedOut:f,reactionCounts:p,totalCommentsCount:n&&n.totalCount,myReaction:t&&t.toLowerCase(),topComments:o}}static getLocalContentReaction(e,t){if(t)return t(e);if((0,o.$o)().supported){const t=(0,l.z_)();return(0,o.$o)().getItem((0,l.xp)(t,e))}return null}static setLocalContentReaction(e){if((0,o.$o)().supported){const t=(0,l.z_)();(0,o.$o)().setItem((0,l.xp)(t,e),"upvote")}}static deleteLocalContentReaction(e){if((0,o.$o)().supported){const t=(0,l.z_)();(0,o.$o)().removeItem((0,l.xp)(t,e))}}static convertCommentToTopCommentData(e,t,i){return e&&e.user?{market:i,username:e.user.primaryName,avatarUrl:e.user.notUseAvatar||!e.user.primaryAvatar?void 0:e.user.primaryAvatar,profileUrl:(0,s.B_)(`${r.k.externalUrls.profilePage}${e.user.id}`,i),commentUrl:(0,s.B_)(t,i,e.id),commentBody:e.text,contentUrl:`${t}#comments`,replyCount:e.replyCount,reactionCounts:e.reactionCounts,reactionSummary:e&&e.reactionSummary,createDatetime:e.createDatetime,commentId:e.id}:null}static convertPublisherFeed(e){var t,i,n;if(null==e||!e.sections)return;const o=null==e||null===(t=e.sections[0])||void 0===t?void 0:t.cards;if(!o||o.length<1)return;const a=null===(i=o[0])||void 0===i?void 0:i.provider;return{items:null===(n=o[0])||void 0===n?void 0:n.subCards.map((e=>({...e,provider:a})))}}static convertTopCommentedToPublisherCarouselData(e,t){return e.filter((e=>{const i=t[e.cmsId];return i.imageResources&&i.imageResources.length>0||i.thumbnail})).map((e=>{const i=t[e.cmsId];let n;return n=i.imageResources&&i.imageResources.length>0?i.imageResources.map((e=>({width:e.width,height:e.height,url:e.url,attribution:e.attribution,title:e.title,quality:e.quality,focalRegion:e.focalRegion,source:e.source}))):[{width:i.thumbnail.image.width,height:i.thumbnail.image.height,url:i.thumbnail.image.url,attribution:i.thumbnail.image.attribution,title:i.thumbnail.image.title,quality:i.thumbnail.image.quality,source:i.thumbnail.image.source}],{id:e.cmsId,type:"article",clickUrl:e.url,title:e.title,category:i.categories[0].product,readTimeMin:i.readTimeMin,reactionSummary:e.reactionSummary,images:n,publishedDateTime:e.createdTime,commentCount:e.commentSummary.totalCount,provider:{id:i.provider.id,name:i.provider.name,logoUrl:i.provider.logo.url,profileId:i.provider.publisherProfileId},subscriptionProductType:a.Cd[i.subscriptionProductType],url:e.url,locale:i.locale}}))}static convertMarketSettings(e){return{conversationTitles:e.conversationTitles,commentReportingTraits:e.reportingTraits.comment,postsReportingTraits:e.reportingTraits.posts,starRatingStatus:e.starRatingStatus,userNameReportingTraits:e.reportingTraits.userName,userPictureReportingTraits:e.reportingTraits.userPicture,pollStatus:e.pollStatus}}static convertTopics(e){if(!e)return;let t,i;try{t=e.Content?JSON.parse(e.Content):[]}catch(e){t=[]}try{i=e.ArticleTierTags?JSON.parse(e.ArticleTierTags):null}catch(e){i=null}return{title:e.Title,creationIdeaId:e.CreationIdeaId,content:t,imageUrl:e.ImageUrl,market:e.Market,rankPosition:e.RankPosition,score:e.Score,reason:e.Reason,articleTitle:e.ArticleTitle,articleUrl:e.ArticleUrl,articleTierTags:i}}}},68738:function(e,t,i){"use strict";function n(e){return"User"===e.type}function o(e){return"Achievement"===e.type}function a(e){return"Reaction"===e.type}function r(e){return"Content"===e.type}function s(e){return"Comment"===e.type}function c(e){return"ModerationRecord"===e.type}i.d(t,{N9:function(){return n},SX:function(){return r},bI:function(){return o},fc:function(){return s},oU:function(){return a},p1:function(){return c}})},63024:function(e,t,i){"use strict";var n,o;i.d(t,{F:function(){return n},i:function(){return o}}),function(e){e[e.NoProfile=0]="NoProfile",e[e.RewardsUser=1]="RewardsUser",e[e.MuidUser=2]="MuidUser"}(n||(n={})),function(e){e[e.Tipping=1]="Tipping",e[e.Subscription=2]="Subscription",e[e.BackupPaymentSubscription=3]="BackupPaymentSubscription"}(o||(o={}))},46751:function(e,t,i){"use strict";var n,o,a;i.d(t,{FE:function(){return o},H:function(){return n},ZF:function(){return a}}),function(e){e.like="like",e.love="love",e.surprised="surprised",e.thinking="thinking",e.sad="sad",e.angry="angry",e.share="share"}(n||(n={})),function(e){e.upvote="upvote",e.downvote="downvote"}(o||(o={})),function(e){e.star1="star1",e.star2="star2",e.star3="star3",e.star4="star4",e.star5="star5"}(a||(a={}))},61149:function(e,t,i){"use strict";i.d(t,{_Q:function(){return K},VK:function(){return q},PR:function(){return J}});var n=i(20938),o=i(98137),a=i(42122),r=i(44132);const s=new class{constructor(){this.onAppError=void 0}log(e){const t={...e,message:`Community API Request Failed - Error Code: ${e.message}`};if(this.onAppError)try{this.onAppError(t)}catch(e){a.k.logError(e)}else r.M0.sendAppErrorEvent(t)}setOnAppError(e){this.onAppError=e}};var c=i(5302);c.xQV,c.ic4,c.VWS,c.E7H;const l=c.pjz,d=c.Ely,u=c.Ead,h=c.nvG,p=c.XDS,m=c.HPv,g=c.rVI,f=c.F7i,v=c.daM,y=c.jyo,b=(c.tLx,c.tN1),w=c.Fyn,k=c.xdR;async function S(){return new Promise(((e,t)=>{if(window.AzureStorage)return e(window.AzureStorage);!function(e,t,i){const n=document,o="script";if(!n.getElementById(t)){const a=n.getElementsByTagName(o)[0],r=n.createElement(o);r.id=t,r.src=e,r.onload=i,a.parentNode.insertBefore(r,a)}}("https://assets.msn.com/labs/views/CommentWidget/js/azure-storage.blob.min.js","azure-storage-blob-jssdk",(()=>window.AzureStorage?e(window.AzureStorage):t()))}))}var C=i(2565),x=i(57663),T=i(59878),_=i(5232),P=i(28951),A=i(79493),I=i(63228),$=i(15598),M=i(7766),D=i(88048),N=i(18906),E=i(40053),R=i(63024),O=i(46751),L=i(55465);const H=e=>e.getFullYear()+"-"+`0${e.getMonth()+1}`.substr(-2)+"-"+`0${e.getDate()}`.substr(-2);var B=i(76753),F=i(52185),U=i(22680),j=i(45067),G=i(17395),W=i(32308);function V(e,t){return(0,W.O)(e,t,6e4)}const z="ddd-debugid";class q{static get useCache(){return F.Gq.get("__SocialServiceUseCacheKey__",(()=>!0))}static set useCache(e){F.Gq.set("__SocialServiceUseCacheKey__",e)}static get domain(){return F.Gq.get("__SocialServiceDomainKey__",(()=>L.k.externalUrls.api))}static set domain(e){F.Gq.set("__SocialServiceDomainKey__",e)}static get msphDomain(){return F.Gq.get("__SocialServiceMsphDomainKey__",(()=>L.k.externalUrls.msphApi))}static set msphDomain(e){F.Gq.set("__SocialServiceMsphDomainKey__",e)}static get additionalHeaders(){return F.Gq.get("__SocialServiceAdditionalHeadersKey__")}static set additionalHeaders(e){F.Gq.set("__SocialServiceAdditionalHeadersKey__",e)}static get additionalParameters(){return F.Gq.get("__SocialServiceAdditionalParametersKey__")}static set additionalParameters(e){F.Gq.set("__SocialServiceAdditionalParametersKey__",e)}static get contentAllowBlockListMap(){return F.Gq.get("__SocialServiceContentAllowBlockListMapKey__",(()=>({})))}static set contentAllowBlockListMap(e){F.Gq.set("__SocialServiceContentAllowBlockListMapKey__",e)}static get shouldUseAbortableFetch(){return F.Gq.get("__SocialServiceShouldUseAbortableFetchKey__",(()=>!1))}static set shouldUseAbortableFetch(e){F.Gq.set("__SocialServiceShouldUseAbortableFetchKey__",e)}static get abortableFetchTimeout(){return F.Gq.get("__SocialServiceAbortableFetchTimeoutKey__",(()=>500))}static set abortableFetchTimeout(e){F.Gq.set("__SocialServiceAbortableFetchTimeoutKey__",e)}static get cachedResponses(){return F.Gq.get("__SocialServiceCachedResponsesKey__",(()=>({})))}static set cachedResponses(e){F.Gq.set("__SocialServiceCachedResponsesKey__",e)}static get rewardsInfoObservers(){return F.Gq.get("__SocialServiceRewardsInfoObserversKey__",(()=>[]))}static set rewardsInfoObservers(e){F.Gq.set("__SocialServiceRewardsInfoObserversKey__",e)}static get msaAccessToken(){return F.Gq.get("__SocialServiceMsaAccessTokenKey__")}static set msaAccessToken(e){F.Gq.set("__SocialServiceMsaAccessTokenKey__",e)}static get muid(){return F.Gq.get("__SocialServiceMuidKey__")}static set muid(e){F.Gq.set("__SocialServiceMuidKey__",e)}static get socialServiceOCID(){return F.Gq.get("__SocialServiceSocialServiceOCIDKey__",(()=>"social-peregrine"))}static set socialServiceOCID(e){F.Gq.set("__SocialServiceSocialServiceOCIDKey__",e)}static get endpoints(){return F.Gq.get("__SocialServiceEndpointsKey__",(()=>({contents:q.domain.concat("urls/"),providerContents:q.domain.concat("contents"),comments:q.domain.concat("comments/"),posts:q.domain.concat("posts/"),users:q.domain.concat("users/"),follows:q.domain.concat("follows/"),marketsettings:q.domain.concat("marketsettings"),imageSearch:q.domain.concat("Image"),creationIdeas:q.domain.concat("creationideas/user"),systags:"https://api.msn.com/graph/systags",typingUpdates:`${(0,x.Yq)().AssetsUrl}/labs/api/`,publisherFeed:"https://api.msn.com/news/feed/pages/publisherfeed",paymentOptions:`${(0,x.Yq)().AssetsUrl}/xpay/subscription/paywall_nosign`,providerFullPage:`${(0,x.Yq)().AssetsUrl}/service/news/feed/pages/providerfullpage`,creatorHubFullPage:`${(0,x.Yq)().AssetsUrl}/service/news/feed/pages/creatorfullpage`,msphPost:q.msphDomain.concat("/contents/posts"),msphAccount:q.msphDomain.concat("/account/community"),msphInsights:q.msphDomain.concat("/Insights/Content/brief"),image:x.jG.IsChinaCompliance?"https://api.msn.cn":"https://api.msn.com/Finance/Image",hubble:"https://hubble.officeapps.live.com/mediasvc/api/media/aggregate"})))}static set endpoints(e){F.Gq.set("__SocialServiceEndpointsKey__",e)}static getMsaAccessToken(){return q.msaAccessToken||(0,n.X)("msaAccessToken")}static getMuid(){const e=q.muid||(0,n.X)("muid");return e?"m-"+e:null}static get isWinWidgetsAppType(){return"winWidgets"===x.jG.AppType||"windowsNewsPlus"===x.jG.AppType}static get isApiModerationVertical(){var e;return null===(e=L.k.moderationSourceOverrideVerticals)||void 0===e?void 0:e.includes(x.jG.AppType)}static get ocid(){var e;return this.isWinWidgetsAppType?"sidebar"===(null===T.Al||void 0===T.Al||null===(e=T.Al.ClientSettings)||void 0===e?void 0:e.pagetype)?"shoreline":"winp2":(0,n.X)("ocid")||(0,_.ku)()||M.$D.getOneServiceOCID(x.jG.TrackInfo,"")}static setAdditionalHeaders(e){q.additionalHeaders=e}static setAdditionalParameters(e){q.additionalParameters=e}static setDomain(e,t){this.domain=e,this.msphDomain=t,this.endpoints={...this.endpoints,contents:q.domain.concat("urls/"),providerContents:q.domain.concat("contents"),comments:q.domain.concat("comments/"),posts:q.domain.concat("posts/"),users:q.domain.concat("users/"),follows:q.domain.concat("follows/"),creationIdeas:q.domain.concat("creationideas/user"),msphPost:q.msphDomain.concat("/contents/posts"),msphAccount:q.msphDomain.concat("/account/community"),msphInsights:q.msphDomain.concat("/Insights/Content/brief")}}static configureAbortableFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;q.shouldUseAbortableFetch=e,q.abortableFetchTimeout=t}static setMsaAccessToken(e){q.msaAccessToken=e}static setMuid(e){q.muid=e}static setSocialServiceOCID(e){this.socialServiceOCID=e}static async fetchMe(e){const t=await q.getUserById("me",e);return(0,o.yp)(t.id),t}static async getUserById(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return q.GET(q.endpoints.users+e,{version:"1.1",profile:"social",verify:t,market:x.jG.CurrentMarket}).then((e=>j.k.convertUser(e||null)))}static async createUser(e){const t={notUseAvatar:e||!1,market:x.jG.CurrentMarket};return q.POST(q.endpoints.users+"me",t,{profile:"social"}).then((e=>j.k.convertUser(e||null))).catch((e=>e.json().then((e=>{throw e}))))}static async updateUsername(e){const t={requestType:"UpdateName",changes:{PrimaryName:e}};return q.POST(q.endpoints.users+"me/userrequests",t).then((e=>j.k.convertUpdateUserNameResponse(e||null))).catch((e=>e.json().then((e=>{throw e}))))}static async getUserProfile(e){let t={followers:void 0,following:void 0,comments:void 0};try{const i=await q.GET(q.endpoints.users+e,{version:"1.1",profile:"social",market:x.jG.CurrentMarket});t={...t,...j.k.convertUser(i||null)}}catch(e){return t}return Promise.all([q.getFollowersByUserId(e).then((e=>{t.followers=e})),q.getFollowingsByUserId(e).then((e=>{t.following=e})),q.getCommentsByUserId(e).then((e=>{t.comments=e}))]).then((e=>t)).catch((t=>{a.k.logError("Error getting user profile: "+t.statusText),r.M0.sendAppErrorEvent({...c.lnl,message:`error getting user profile data ${e} ${JSON.stringify(t)}`})}))}static async getUserContents(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a={market:t,query:i,$top:o.top||20,$skip:o.skip||0,$orderby:o.orderBy||"Time",...n&&{productType:"premium"}};return q.GET(q.endpoints.users+e+"/contents",a)}static async updateUserSettings(e,t,i){const n={};return n[e]={isPrivateProfile:t,enableDisplayNameMasking:i},q.PUT(q.endpoints.users+e+"/settings",n,{})}static async deleteMyData(e){const t={...e,profile:"social"};return q.DELETE(q.endpoints.users+"me/",t)}static async getCreationIdeas(){const e={market:x.jG.CurrentMarket};return q.GET(q.endpoints.creationIdeas,e).then((e=>{var t;if(e&&(null===(t=e.Result)||void 0===t?void 0:t.length)>0)return e.Result.map((e=>j.k.convertTopics(e)))})).catch((async e=>{var t;t={reason:"get creation ideas failed",err:(null==e?void 0:e.message)??e},s.log({...k,message:"get_creation_ideas",pb:{...k.pb,url:q.endpoints.creationIdeas,method:"GET",customMessage:JSON.stringify(t)}})}))}static async getPostListByUserId(e){const t={requestsource:"community",handler:"list",top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,skip:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,status:arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.$.None};return q.GET(q.endpoints.msphPost,t).then((e=>e)).catch((async t=>{const i=e=>{s.log({...d,message:"list",pb:{...d.pb,url:q.endpoints.msphPost,method:"GET",customMessage:JSON.stringify(e)}})};if(400===t.status)try{const e=await t.json();4!==JSON.parse(e.Message).errorCode&&i({reason:"unexpected_error_code",data:e.Message})}catch(t){i({reason:"invalid_response",error:(null==t?void 0:t.message)??t})}else i({reason:"get posts failed",userId:e,err:(null==t?void 0:t.message)??t});return{searchMatchedTotal:0,documents:[]}}))}static async getPostDetail(e){const t={requestsource:"community",handler:"load_detail",itemId:e};return q.GET(q.endpoints.msphPost,t).then((e=>e)).catch((async t=>{const i=e=>{s.log({...u,message:"load_detail",pb:{...u.pb,url:q.endpoints.msphPost,method:"GET",customMessage:JSON.stringify(e)}})};if(400===t.status)try{const e=await t.json();4!==JSON.parse(e.Message).errorCode&&i({reason:"unexpected_error_code",data:e.Message})}catch(t){i({reason:"invalid_response",error:(null==t?void 0:t.message)??t})}else i({reason:"get post failed",postId:e,err:(null==t?void 0:t.message)??t})}))}static async submitPost(e,t){const i={requestsource:"community",handler:"save_publish",type:t},n=e=>{s.log({...l,message:i.handler,pb:{...l.pb,url:q.endpoints.msphPost,method:"POST",customMessage:JSON.stringify(e)}})};try{const t=await q.POST(q.endpoints.msphPost,e,i);return 2===t.status||(n({reason:"invalid_status",resp:t}),!1)}catch(e){return n({reason:"failed",err:(null==e?void 0:e.message)??e}),!1}}static async savePost(e,t){const i={requestsource:"community",handler:"save_draft",type:t},n=e=>{s.log({...g,message:"save_draft",pb:{...g.pb,url:q.endpoints.msphPost,method:"POST",customMessage:JSON.stringify(e)}})};try{const t=await q.POST(q.endpoints.msphPost,e,i);return 1===t.status?t.id:void n({reason:"invalid_status",resp:t})}catch(e){return void n({reason:"save post failed",err:(null==e?void 0:e.message)??e})}}static async publishPost(e,t){const i={requestsource:"community",handler:"publish",itemId:e,type:t},n=e=>{s.log({...p,message:"publish",pb:{...p.pb,url:q.endpoints.msphPost,method:"PUT",customMessage:JSON.stringify(e)}})};try{const t=await q.PUT(q.endpoints.msphPost,{},i);return 2===t.status||(n({reason:"invalid_status",postId:e,resp:t}),!1)}catch(t){return n({reason:"publish failed",postId:e,err:(null==t?void 0:t.message)??t}),!1}}static async unpublishPost(e,t){const i={requestsource:"community",handler:"unpublish",itemId:e,type:t};return q.PUT(q.endpoints.msphPost,{},i).then((e=>!0)).catch((e=>{var t;return t={reason:"unpublish failed",err:(null==e?void 0:e.message)??e},s.log({...h,message:"unpublish",pb:{...h.pb,url:q.endpoints.msphPost,method:"PUT",customMessage:JSON.stringify(t)}}),!1}))}static async deletePost(e,t){const i={requestsource:"community",handler:"delete",itemId:e,type:t};return q.DELETE(q.endpoints.msphPost,i).then((()=>!0)).catch((t=>{var i;return i={reason:"delete post failed",postId:e,err:(null==t?void 0:t.message)??t},s.log({...m,message:"delete",pb:{...m.pb,url:q.endpoints.msphPost,method:"POST",customMessage:JSON.stringify(i)}}),!1}))}static async appealPost(e,t,i){const n={requestsource:"community",handler:"appeal",itemId:e,type:t};return q.POST(q.endpoints.msphPost,i,n).then((()=>!0)).catch((t=>{var i;return i={reason:"submit appeal failed",postId:e,err:(null==t?void 0:t.message)??t},s.log({...f,message:"appeal",pb:{...f.pb,url:q.endpoints.msphPost,method:"POST",customMessage:JSON.stringify(i)}}),!1}))}static async createMsphAccount(){const e={requestsource:"community"},t={market:x.jG.CurrentMarket};try{return await q.POST(q.endpoints.msphAccount,t,e),"pending"}catch(e){const t=e=>{s.log({...v,message:"create_account",pb:{...v.pb,url:q.endpoints.msphAccount,method:"POST",customMessage:JSON.stringify(e)}})};if(400===e.status)try{const i=await e.json();switch(JSON.parse(i.Message).errorCode){case 38:return"invalid_market";case 844:return"not_poster_user";case 845:return"pending";case 36:return"not_community_user";case 846:return"invalid_name";case 847:return"invalid_avatar";default:return t({reason:"unexpected_error_code",data:i.Message}),"error"}}catch(e){return t({reason:"invalid_response",error:(null==e?void 0:e.message)??e}),"error"}return t({reason:"failed",status:e.status}),"error"}}static async queryMsphAccount(){const e={requestsource:"community"};try{return 2===(await q.GET(q.endpoints.msphAccount,e)).accountStatus?"active":"pending"}catch(e){const t=e=>{s.log({...v,message:"query_account",pb:{...v.pb,url:q.endpoints.msphAccount,method:"GET",customMessage:JSON.stringify(e)}})};if(400===e.status)try{const i=await e.json(),n=JSON.parse(i.Message);return 844===n.errorCode?"not_poster_user":848===n.errorCode?"not_msph_user":13===n.errorCode?"is_aad_user":1===n.errorCode?"not_msph_user":(t({reason:"unexpected_error_code",data:i.Message}),"error")}catch(e){return t({reason:"invalid_response",error:(null==e?void 0:e.message)??e}),"error"}return t({reason:"failed",status:e.status}),"error"}}static async getInsightsBrief(e,t){const i={requestsource:"community",startDate:H(new Date(e)),endDate:H(new Date(t))};return q.GET(q.endpoints.msphInsights,i).catch((async e=>{const t=e=>{s.log({...y,message:"get_analytics",pb:{...y.pb,url:q.endpoints.msphInsights,method:"GET",customMessage:JSON.stringify(e)}})};if(400===e.status)try{const i=await e.json();1!==JSON.parse(i.Message).errorCode&&t({reason:"unexpected_error_code",data:i.Message})}catch(e){t({reason:"invalid_response",error:(null==e?void 0:e.message)??e})}else t({reason:"get analysis data failed",err:(null==e?void 0:e.message)??e})}))}static async uploadPostImage(e){const t=`${Math.random().toString(36).slice(2)}.jpg`,i=new URL(this.endpoints.image);i.search=P.c.keyValueArrayToQueryString([...P.c.getParams(x.jG.ContentServiceUrlBase.search),...M.$D.getOneServiceParamsWithoutAuth(x.jG.UserId,"",!1),{key:"path",value:"community"},{key:"name",value:t}]);const n=await M.$D.getBaseRequestData("POST");n.body=e,n.headers["Content-Type"]="image/jpeg";try{const e=await fetch(i.href,n);return(await e.json()).url}catch(e){return(e=>{s.log({...b,message:"upload_image",pb:{...b.pb,url:this.endpoints.image,method:"POST",customMessage:JSON.stringify(e)}})})({reason:"failed",error:(null==e?void 0:e.message)??e}),null}}static extractDomainFromUrl(e){try{return new URL(e).hostname}catch(e){return""}}static async fetchImageFromHubble(e){try{const t=await q.POST(q.endpoints.hubble,e);if("Unsuccessful"===t.Status)return null;const i=t.ProviderResults.map((e=>e.Result.PartGroups.map((e=>{var t,i;const n=e.Provider,o=e.ImageParts.find((e=>"Image"===e.ImageCategory));if(!o)return null;let a=o;"BingSearch"===n?a=e.ImageParts.find((e=>"SmallThumbnail"===e.ImageCategory))||o:"StockImagesSearch"===n?a=e.ImageParts.find((e=>"XLargeThumbnail"===e.ImageCategory))||o:"Getty"===n&&(a=e.ImageParts.find((e=>"MediumThumbnail"===e.ImageCategory))||o);const r=(null===(t=e.TextParts.find((e=>"Title"===e.TextCategory)))||void 0===t?void 0:t.Text)||"";return{source:o.SourceUrl,thumbnail:a.SourceUrl,width:o.Width,height:o.Height,title:r,credit:"BingSearch"===n?this.extractDomainFromUrl((null===(i=e.TextParts.find((e=>"SourceLink"===e.TextCategory)))||void 0===i?void 0:i.Text)||o.SourceUrl):n}})))).flat().filter(Boolean);return{imgs:Array.from(new Set(i))}}catch(e){return(e=>{s.log({...w,pb:{...w.pb,url:this.endpoints.hubble,method:"POST",customMessage:JSON.stringify(e)}})})({reason:"failed",error:(null==e?void 0:e.message)??e}),null}}static async fetchImageFromBing(e){try{const t=await q.GET(q.endpoints.imageSearch,{...e,imageApiType:"1"});return{imgs:t.subResponse.value.map((e=>({source:e.contentUrl,thumbnail:e.thumbnailUrl,width:e.width,height:e.height,title:e.name,credit:this.extractDomainFromUrl(e.hostPageUrl||e.contentUrl)})))}}catch(e){return(e=>{s.log({...b,message:"search_image",pb:{...b.pb,url:this.endpoints.imageSearch,method:"GET",customMessage:JSON.stringify(e)}})})({reason:"failed",error:(null==e?void 0:e.message)??e}),null}}static async ImageCreatorCreate(e){try{const t={prompt:e,imageApiType:"2",mkt:(0,x.Yq)().CurrentMarket,setLang:(0,x.Yq)().CurrentMarket},i=await q.GET(q.endpoints.imageSearch,t);return{prompt:i.subResponse.prompt,readyInMs:i.subResponse.readyInMs+Date.now()+1e3,retrieveId:i.subResponse.webSearchUrl.split("/").pop()}}catch(e){return(e=>{s.log({...b,message:"ImageCreatorCreate",pb:{...b.pb,url:this.endpoints.imageSearch,method:"GET",customMessage:JSON.stringify(e)}})})({reason:"failed",error:(null==e?void 0:e.message)??e}),null}}static async ImageCreatorRetrieve(e,t){try{var i;const n={imageApiType:"3",retrieveId:t,q:e},o=await q.GET(q.endpoints.imageSearch,n);return{imgs:(null===(i=o.subResponse.images)||void 0===i?void 0:i.map((t=>({source:t.thumbnailUrl,thumbnail:t.thumbnailUrl,width:1024,height:1024,title:e,credit:"Image Creator"}))))||[]}}catch(e){const t=e=>{s.log({...b,message:"ImageCreatorRetrieve",pb:{...b.pb,url:this.endpoints.imageSearch,method:"GET",customMessage:JSON.stringify(e)}})};return 404===e.status||t({reason:"failed",error:(null==e?void 0:e.message)??e}),null}}static async getFollowersByUserId(e){const t={$top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,$skip:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0};return q.GET(q.endpoints.users+e+"/followers",t).then((e=>j.k.convertUserList(e)))}static async getFollowingsByUserId(e){const t={$top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,$skip:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0};return q.GET(q.endpoints.users+e+"/followings",t).then((e=>j.k.convertUserList(e)))}static async followUser(e,t){if(t){const t=new E.PublisherServiceClient(V),i=await t.getUserMutedPublishers(),n=i&&i.find((t=>t.profileId===e));n&&t.publisherUserAction(n.id,E.S.Mute,"DELETE")}return q.POST(q.endpoints.follows,{targetId:e},{})}static async unfollowUser(e){return q.DELETE(q.endpoints.follows,{targetId:e})}static async fetchUserCommunitySettings(){var e;const t={};q.getMsaAccessToken()&&(t.UserTicketType="2",t.UserAuthToken=q.getMsaAccessToken(),t.SiteName="api.msn.com"),q.getMuid()&&(t.muid=q.getMuid());const i=await C.N.getPdpUserPreference(!1,t,q.getMuid());return(null==i||null===(e=i.value)||void 0===e?void 0:e.length)>0&&i.value[0].communitySettings||null}static async appealMe(){return q.POST(q.endpoints.users+"me/appeals",{})}static async appealMyPicture(){return q.POST(q.endpoints.users+"me/pictureAppeals",{})}static async reportUser(e,t,i,n){const o="ProfilePicture"==t?"PictureAbusereports":"NameAbusereports",{reportMessage:r,intellectualPropertyDetails:s}=n||{},c={ReportType:i.charAt(0).toUpperCase()+i.slice(1),ReportMessage:r||"",IntellectualPropertyDetails:s};try{return q.POST(q.endpoints.users+e+"/"+o,c,{version:"1.1"})}catch(e){a.k.logError(e)}}static async getUserActivities(e,t){const i={$top:e||50,$skip:t||0,version:"1.1"},n=await q.GET(q.endpoints.users+"me/activities",i);return j.k.convertUserActivities(n)}static async getUserStrikeActivities(){const e=await q.GET(q.endpoints.users+"me/activities",{onlyStrikeHistory:!0,version:"1.1"});return j.k.convertUserStrikeActivities(e)}static async updateUserActivityStatus(e){const t={id:e,read:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]};return q.POST(q.endpoints.users+"me/activities",t,{version:"1.1"})}static async getUserNotifications(){const e=await q.GET(`${q.endpoints.users}me/activities`,{onlynotification:!0,read:!1,$top:5,$skip:0,version:"1.1"});return j.k.convertUserActivities(e)}static async getProviderFullPageData(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"CommunityProfileId";const n={market:x.jG.CurrentMarket,ocid:"Peregrine",query:t};n[i]=e;try{const t=await q.GET(q.endpoints.providerFullPage,n);return t&&0!==t.sections.length||r.M0.sendAppErrorEvent({...c.KyA,message:`feed data is empty for publisher ${e}`}),t}catch{r.M0.sendAppErrorEvent({...c.KyA,message:`feed data is empty for publisher ${e}`})}}static async getCreatorHubFullPageData(){const e=window.location.hash.substring(1).toLowerCase(),t={market:x.jG.CurrentMarket,ocid:"Peregrine",query:"discover"==e.toLowerCase()?"":`msn_${e}`};return q.GET(q.endpoints.creatorHubFullPage,t)}static getProviderContents(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a={providerId:e,market:t,apiKey:x.jG.OneServiceApiKey,$top:o.top||20,$skip:o.skip||0,$orderby:o.orderBy||"Time desc",...i&&{contentType:i},...n&&{partnerTag:n}};return q.GET(q.endpoints.providerContents,a)}static async getPublisherFeed(e,t){const i={contentType:"article,video,slideshow,webcontent",market:t,apikey:x.jG.OneServiceApiKey,ocid:"Peregrine"};try{const t=await q.GET(q.endpoints.publisherFeed,i);return t&&0!==t.sections.length||r.M0.sendAppErrorEvent({...c.KyA,message:`feed data is empty for publisher ${e}`}),j.k.convertPublisherFeed(t)}catch{r.M0.sendAppErrorEvent({...c.KyA,message:`feed data is empty for publisher ${e}`})}}static async getTopCommentedContent(e,t){const i=x.jG.CurrentMarket,n={queryType:"TopCommented",timePeriod:e,$top:t,market:i},o=(await q.GET(q.endpoints.contents,n)).items,a=o.map((e=>e.cmsId)),r={};return await Promise.all(a.map((async e=>{const t=await fetch(`${(0,x.Yq)().AssetsUrl}/content/view/v2/Detail/${i}/${e}`,{method:"GET"});r[e]=await t.json()}))),j.k.convertTopCommentedToPublisherCarouselData(o,r)}static observeRewardsInfo(e){this.rewardsInfoObservers.push(e);const t=this.rewardsInfoObservers.length-1;return()=>this.rewardsInfoObservers[t]=void 0}static async notifyRewardsInfoObservers(){this.getRewardsInfo()}static async getRewardsInfo(e){const t={version:"2",scope:e,ocid:"Peregrine"};let i;try{var n,o,a,r,s,c;const l=await this.makeOneServiceRequest("news/users/me/rewards","GET",t),d=l.userType===R.F.RewardsUser,u=null===(n=l.tokens)||void 0===n||null===(o=n.find((e=>e.tokenType===R.i.Tipping)))||void 0===o?void 0:o.token,h=null===(a=l.tokens)||void 0===a||null===(r=a.find((e=>e.tokenType===R.i.Subscription)))||void 0===r?void 0:r.token,p=!!u,m=!d&&l.eligibleFreeTipping,g=p||m,f=!!h,v=!d&&l.eligibleFreeSubscription.includes(e),y=f||v,b=l.eligibleBackupPayment&&(null===(s=l.tokens)||void 0===s||null===(c=s.find((e=>e.tokenType===R.i.BackupPaymentSubscription)))||void 0===c?void 0:c.token);i={...l,isRewardsUser:d,freeTippingOfferToken:u,freeSubscriptionOfferToken:h,backupPaymentToken:b,isFreeTippingEligibleRewardsUser:p,isFreeTippingEligibleNonRewardsUser:m,isFreeTippingEligibleUser:g,isFreeSubscriptionEligibleRewardsUser:f,isFreeSubscriptionEligibleNonRewardsUser:v,isFreeSubscriptionEligibleUser:y}}catch(e){i={isRewardsUser:!1}}return this.rewardsInfoObservers.forEach((e=>{e&&e(i)})),i}static async createRewardsUser(e){const t={market:x.jG.CurrentMarket,source:e,ocid:"Peregrine"};try{const e=await this.makeOneServiceRequest("news/users/me/rewards","POST",t);return this.notifyRewardsInfoObservers(),{isUserCreated:!0,message:e.Message||""}}catch(e){try{var i;const t="User already exists.";if((null==e?void 0:e.Message)===t||(null===(i=await(null==e?void 0:e.json()))||void 0===i?void 0:i.Message)===t)return{isUserCreated:!0,message:t}}catch(e){}return{isUserCreated:!1,message:e.message||e.Message||""}}}static async getXpaySubscriptionPaymentOptions(e){if(!["vid-ksdbkre0pxrdbnxqmr5xbyu056sdgdim5cna8urvbu45yi3x7jqs"].includes(e)||"en-us"!=x.jG.CurrentMarket)return[];const t=x.jG&&x.jG.CurrentMarket&&x.jG.CurrentMarket.split("-");return q.GET(q.endpoints.paymentOptions,{publisherIdFromMsn:e,market:t[1]}).then((e=>{var t;return(null==e||null===(t=e.paymentOptionGroups[0])||void 0===t?void 0:t.paymentOptions)||[]})).catch((e=>(console.error("error occured while trying to get subscription payment options: ",e),[])))}static async getXPayTokenInfo(){return x.jG.Environment===A.q.int?q.GET(L.k.externalUrls.ppeApi+"xpaytoken"):q.GET(q.domain+"xpaytoken")}static async getMarketSettings(){return q.GET(q.endpoints.marketsettings,{market:x.jG.CurrentMarket}).then((e=>j.k.convertMarketSettings(e||null)))}static async getContentById(e){let{cmsId:t,market:i,url:n}=e;const o=t&&this.isURL(t)?t:null,a={cmsid:t,market:i,version:"1.1"};return n&&(a.url=n),o&&(delete a.cmsid,a.url=o),i||delete a.market,q.GET(q.endpoints.contents,a).then((e=>j.k.convertContent(e||null)))}static async getAllowAndBlockList(e,t){return q.contentAllowBlockListMap[t]||(q.contentAllowBlockListMap[t]=q.getContentById({cmsId:e,market:t})),q.contentAllowBlockListMap[t]}static isURL(e){return!(!e||!e.includes("."))&&/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)}static async getCommentById(e){return q.GET(q.endpoints.comments+e).then((e=>j.k.convertComment(e||null)))}static async getCommentsByContentId(e,t){const i={contentId:e,$top:t.top||50,$skip:t.skip||0,$orderby:t.orderBy||t.sortType||"Rating"};return q.GET(q.endpoints.comments,i).then((e=>{let t="On";try{t=e.links.find((e=>"Content"==e.type)).item.commentStatus||t}catch(e){a.k.logError("Invalid content data in comments response.")}try{const i=j.k.convertCommentList(e||null);return i.commentStatus=t,i}catch(e){return a.k.logError("Invalid comment list data in comments response."),{commentStatus:"Off",list:[]}}}))}static async getCommentsByParentId(e,t){const i={parentId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return q.GET(q.endpoints.comments,i).then((e=>j.k.convertCommentList(e||null)))}static async getCommentsByAnchorCommentId(e,t){const i={anchorId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return q.GET(q.endpoints.comments,i).then((e=>j.k.convertCommentList(e||null)))}static async getCommentsByUserId(e){const t={userId:e,$top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,$skip:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,$orderby:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Time"};return q.GET(q.endpoints.comments,t).then((e=>j.k.convertCommentList(e||null))).catch((t=>{r.M0.sendAppErrorEvent({...c._yq,message:`Error getting user comments ${e} ${JSON.stringify(t)}`})}))}static async postComment(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;const s={ContentId:e,Body:i,parentId:n&&n!=e?n:void 0,mentionReply:arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0};let c={};return o&&(c.version=o),r&&(c.url=r),q.additionalParameters&&(c={...c,...q.additionalParameters}),new Promise(((e,t)=>{q.POST(q.endpoints.comments,s,c).then((t=>{e(j.k.convertComment(t||null))}),(e=>{e.json().then((e=>{t(e)})).catch((i=>{a.k.logError("Error getting comment info: "+e.statusText),t()}))}))}))}static async deleteComment(e){return q.DELETE(q.endpoints.comments+e,{})}static async appealComment(e){return q.POST(q.endpoints.comments+e+"/appeals",{})}static async reportComment(e,t,i){const{reportMessage:n,intellectualPropertyDetails:o}=i||{},r={ReportType:t,ReportMessage:n||"",IntellectualPropertyDetails:o};try{return q.POST(q.endpoints.comments+e+"/abusereports",r,{version:"1.1"})}catch(e){a.k.logError(e)}}static async reportPoll(e,t,i){const n={ReportType:t,id:e};null!=i&&i.length&&(n.Description=i);try{return q.POST(q.endpoints.posts+e+"/abusereports",n,{version:"1.1"})}catch(e){a.k.logError(e)}}static async uploadCopyrightFile(e){const t=await q.GET(q.endpoints.users+"me/UploadSasToken",{type:"ContentReport"}),i=await S(),n=`https://${t.accountUrl.split("?")[0]}`,o=i.Blob.createBlobServiceWithSas(n,t.sasString);return new Promise(((i,n)=>{o.createBlockBlobFromBrowserFile(t.container,t.blobName,e,(async(e,o,a)=>e?n(e):i(t.id)))}))}static prepareHubString(e){return e.replace(/-/g,"_")}static async getSignalRConnectionInfo(e){const t=this.prepareHubString(e);return q.POST(q.endpoints.typingUpdates+"RealtimeTypingNegotiate",{},{hub:t})}static async broadcastCommentNotification(e,t,i){const n=this.prepareHubString(e),o={type:"comment-notification",data:{commentId:t,commentParentId:i}};return q.POST(q.endpoints.typingUpdates+"RealtimeTypingBroadcast",o,{hub:n}).then((e=>{}),(e=>{}))}static async broadcastTypingNotification(e,t,i,n){const o=this.prepareHubString(e),a={type:"typing-notification",data:{id:t,name:i,profileImageUrl:n}};return q.POST(q.endpoints.typingUpdates+"RealtimeTypingBroadcast",a,{hub:o}).then((e=>{}),(e=>{}))}static async broadcastViewNotification(e,t){const i=this.prepareHubString(e),n={type:"view-notification",data:{viewing:t}};return q.POST(q.endpoints.typingUpdates+"RealtimeTypingBroadcast",n,{hub:i}).then((e=>{}),(e=>{}))}static async sendReaction(e){let{id:t,item:i,localStorageSave:n,reactionType:o,url:r}=e,s={};r&&(s.url=r),q.additionalParameters&&(s={...s,...q.additionalParameters});const c={subType:o};try{const e=await q.POST(q.endpoints[i]+t+"/reactions",c,s);return Q(t,o,!1,n),j.k.convertRatingToRateValue(e||null)}catch(e){return a.k.logError(e),o}}static async sendResetReaction(e){let{id:t,item:i,localStorageSave:n,url:o}=e,r={};o&&(r={...r,url:o}),q.additionalParameters&&(r={...r,...q.additionalParameters});try{return Q(t,null,!0,n),q.DELETE(q.endpoints[i]+t+"/reactions",r)}catch(e){a.k.logError(e)}}static async getFriendRatings(e,t){return q.GET(q.endpoints[e]+t+"/reactions",{friends:!0,$top:2})}static async getRating(e,t){return q.GET(q.endpoints[e]+t+"/reactions",{}).then((e=>j.k.convertRatingToRateValue(e||null)))}static async getRatingBreakdown(e,t,i){return q.GET(q.endpoints[e]+t+"/reactions",{others:!0}).then((e=>j.k.convertReactionsResponseToReactionBreakdownData(e||null,i)))}static async sendContentStarRating(e,t,i,n){const o={subType:i,surveyId:n};q.POST(q.endpoints.contents+e+"_"+t+"/starratings",o,{})}static async sendResetContentStarRating(e,t,i){const n={surveyId:i};q.DELETE(q.endpoints.contents+e+"_"+t+"/starratings",n)}static async getContentStarRating(e,t,i){const n={surveyId:i};return q.GET(q.endpoints.contents+e+"_"+t+"/starratings",n).then((e=>j.k.convertRatingToRateValue(e||null)))}static async getContentStarRatingAverage(e,t){const i=await this.getStarRatingContentById(e,t);let n=0,o=0;for(const e in Object.keys(i.reactionCounts))switch(n+=i.reactionCounts[e],e){case O.H.angry:o+=1*i.reactionCounts[e];break;case O.H.like:o+=2*i.reactionCounts[e];break;case O.H.love:o+=3*i.reactionCounts[e];break;case O.H.sad:o+=4*i.reactionCounts[e];break;case O.H.surprised:o+=5*i.reactionCounts[e]}return i&&{contentId:i.id,averageStarRating:o/n}}static async getStarRatingContentById(e,t){return q.getContentById({cmsId:`${(0,x.Yq)().AssetsUrl}/labs/star-rating/${t}/${e}/rating`,market:t})}static async getPostsByTopicId(e,t,i,n,o,a){const r={topicId:e,postType:t||"",market:i||x.jG.CurrentMarket||"en-us",top:o||5,skip:a||0,orderBy:n||"Time"},s=P.c.getQueryParameterByName("isPpe",(0,U.l4)())?L.k.externalUrls.ppeApi.concat("posts/"):q.endpoints.posts;return q.GET(s,r).then((e=>j.k.convertPostList(e||null))).catch((e=>[]))}static async getPostById(e){const t={postId:e},i="true"===P.c.getQueryParameterByName("isPpe",(0,U.l4)())?L.k.externalUrls.ppeApi.concat("posts/"):q.endpoints.posts;return q.GET(i,t).then((e=>j.k.convertPost(e||null))).catch((e=>null))}static async SendGetRequest(e){try{var t;const i=await this.fetchSocial(e,{method:"GET"}),n=await i.json();return n.debugId=null===(t=i.headers)||void 0===t?void 0:t.get(z),n}catch{return{}}}static async GET(e,t){const i={method:"GET",queryParams:t=t||{},body:void 0};return this.xhr(e,i)}static async POST(e,t,i){const n={method:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST",queryParams:i=i||{},body:t};return this.xhr(e,n)}static async PUT(e,t,i){return q.POST(e,t,i,"PUT")}static async DELETE(e,t){const i={method:"DELETE",queryParams:t=t||{},body:void 0};return this.xhr(e,i)}static async xhr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:void 0,queryParams:void 0,body:void 0},i="GET"!==t.method?{"Content-Type":"application/json"}:{};i={...await M.$D.getOneServiceHeaders(!1),...i},q.additionalHeaders&&(i={...i,...q.additionalHeaders}),q.getMsaAccessToken()&&(i.UserTicketType="2",i.UserAuthToken=q.getMsaAccessToken(),i.SiteName="api.msn.com"),q.getMuid()&&(i.muid=q.getMuid());const o=M.$D.getCommonParams2(this.socialServiceOCID),a=(0,B.O)();a&&(a.ocid&&(o.find((e=>"ocid"==e.key)).value=a.ocid),a.apiKey&&(o.find((e=>"apikey"==e.key)).value=a.apiKey)),o.forEach((i=>{"user"===i.key&&e.startsWith(q.endpoints.posts)||i.value&&(t.queryParams[i.key]=i.value)})),t.queryParams.wrapodata="false",(0,B.z)()?t.queryParams.source=(null==a?void 0:a.source)||"BingImage":e.startsWith(q.domain)&&this.isApiModerationVertical&&(t.queryParams.source=`${x.jG.AppType}-community`);const r=(0,n.n)(t.queryParams),s={method:t.method||"GET",headers:i,credentials:e.match("xpay/subscription/paywall_nosign")?"same-origin":"include"};t.body&&(s.body=JSON.stringify(t.body));return(q.useCache?q.fetchCachedResponse(e+r,s):q.fetchSocial(e+r,s)).then((i=>{if(!(i.status>=200&&i.status<300||401==i.status))throw(i.status>499||400==i.status)&&this.onRequestError(e,t,i),i;if(204==i.status)return{};try{return i.clone().json().then((e=>{var t;return e.value&&(e=e.value[0]),e.debugId=null===(t=i.headers)||void 0===t?void 0:t.get(z),e}))}catch(n){throw this.onRequestError(e,t,i),{status:i.status,statusText:"INVALID_RESPONSE"}}}))}static fetchCachedResponse(e,t){if(t&&"GET"==t.method&&e in q.cachedResponses)return q.cachedResponses[e];t&&"GET"!=t.method&&q.clearCache();const i=q.fetchSocial(e,t);return t&&"GET"==t.method&&(q.cachedResponses[e]=i,setTimeout((()=>{e in q.cachedResponses&&delete q.cachedResponses[e]}),2500)),i}static async fetchSocial(e,t){return q.shouldUseAbortableFetch?(0,I.Sm)(e,q.abortableFetchTimeout,t):V(e,t)}static clearCache(){q.cachedResponses={}}static onRequestError(e,t,i){const n=this.getAppErrorFromUrl(e);i.clone().json().then((o=>{o.value&&(o=o.value[0]),s.log({...n,message:`${t.method}-${i.status}-${o.code||""}${o.subCodes&&o.subCodes.length>0?"-"+o.subCodes[0]:""}`,pb:{...n.pb,url:e,method:t.method,responseStatus:i.status,responseBody:o}})}))}static getAppErrorFromUrl(e){return e.startsWith(q.endpoints.contents)?e.includes("reactions")?c.yRc:e.includes("starratings")?c.vHv:c.ic4:e.startsWith(q.endpoints.comments)?e.includes("reactions")?c.Pdg:e.includes("abusereports")?c.n$r:e.includes("appeals")?c.ToT:c.E7H:e.startsWith(q.endpoints.posts)?e.includes("abusereports")?c.j3Z:c.Gnh:e.startsWith(q.endpoints.users)?c.VWS:e.startsWith(q.endpoints.follows)?c.sWY:e.startsWith(q.endpoints.typingUpdates)?e.includes("RealtimeTypingNegotiate")?c.QsR:c.See:e.startsWith(q.endpoints.marketsettings)?c.aHf:c.xQV}static async makeOneServiceRequest(e,t,i,n){const o=(0,D.PH)(e),a=(0,G.hC)()?M.$D.getOneServiceParamsWithAuth(x.jG.UserId,"",!1):M.$D.getOneServiceParamsWithoutAuth(x.jG.UserId,"",!1),r={};[...a,...Object.keys(i).map((e=>({key:e,value:i[e]}))),...[...o.searchParams.keys()].map((e=>({key:e,value:o.searchParams.get(e)})))].forEach((e=>{r[e.key]=e.value}));const s=o.origin+o.pathname;return"GET"===t?this.GET(s,r):this.POST(s,n,r)}}var K;!function(e){e.contents="contents",e.comments="comments",e.users="users"}(K||(K={}));const J=async e=>{const t=(0,U.zp)().toLowerCase().indexOf(L.k.selectPpeParameter)>-1;if(x.jG.Environment!==A.q.int||t?x.jG.Environment===A.q.prod&&t&&console.warn("PPE environment must not be enabled in PROD environment for Subscription SDK to work"):console.warn("PPE environment will be used for xpay token JWT in INT environment for Subscription SDK to work"),Y.supported){const t=x.jG.Environment===A.q.int?"int":"prod",i=`community_xpay_token_${e}_${t}`,n=`community_xpay_token_expires_${e}_${t}`,o=Y.getItem(i);if(o){const e=Y.getItem(n);if(e&&new Date(parseInt(e)).valueOf()-Date.now()>1e4)return o}const a=await q.getXPayTokenInfo();return Y.setItem(i,a.accessToken),Y.setItem(n,(Date.now()+1e3*a.expiresIn).toString()),a.accessToken}return(await q.getXPayTokenInfo()).accessToken},Y=(0,$.$o)(),Q=async(e,t,i,n)=>{if(n)n(e,i?null:t);else if(Y.supported){let n;if((0,G.hC)()&&(n=(0,o.z_)(),!n)){const e=await q.fetchMe(!1);n=e.id}const a=(0,o.xp)(n,e),r=(0,o.nM)(n);if(i){Y.removeItem(a);const t=Y.getItem(r);let i=t?t.split(","):[];i=i.filter((t=>t!=e)),i.length&&Y.setItem(r,i.join(","))}else if(t){const i=Y.getItem(r);let s=i?i.split(","):[];s.length>200&&(s=s.filter(((e,t)=>!(t<100)||(Y.removeItem((0,o.xp)(n,e)),!1)))),s.includes(e)||s.push(e),Y.setItem(a,t),Y.setItem(r,s.join(","))}}};!async function(){if(Y.supported){const e=Y.getItem(o.JY);if(e){let t;if((0,G.hC)()){const e=await q.fetchMe(!1);t=e.id}e.split(",").forEach((e=>{const i=Y.getItem(`${o.oQ}${e}`);i&&(Y.removeItem(`${o.oQ}${e}`),Y.setItem((0,o.xp)(t,e),i))})),Y.removeItem(o.JY),Y.setItem((0,o.nM)(t),e)}}}(),(0,U.zp)().toLowerCase().indexOf(L.k.selectPpeParameter)>-1&&q.setDomain(L.k.externalUrls.ppeApi,L.k.externalUrls.msphPpeApi),x.jG.IsChinaCompliance&&q.setDomain(L.k.externalUrls.cnApi,L.k.externalUrls.msphCnApi)},98137:function(e,t,i){"use strict";i.d(t,{JY:function(){return u},nM:function(){return p},oQ:function(){return h},xp:function(){return m},yp:function(){return c},z_:function(){return l}});var n=i(15598),o=i(57663),a=i(17395);const r=(0,n.$o)(),s="community_latest_me_id";function c(e){e?r.setItem(s,e):e||d()}function l(){return r.getItem(s)}function d(){r.getItem(s)&&r.removeItem(s)}(0,a.hC)()||d();const u="myReactionIds",h="myReaction",p=e=>`myReactionIds_${e||o.jG.UserId}`,m=(e,t)=>`myReaction_${e||o.jG.UserId}_${t}`},20938:function(e,t,i){"use strict";i.d(t,{X:function(){return o},n:function(){return a}});var n=i(21215);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e){if(!(0,n.N)())return null;const t=window.location.hash.substring(1).split("&");for(let i=0;i<t.length;i++){const n=t[i].split("=");if(n[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(n[1])}return null}(e)||function(e){if(!(0,n.N)())return null;const t=window.location.search.substring(1).split("&");for(let i=0;i<t.length;i++){const n=t[i].split("=");if(n[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(n[1])}return null}(e)||t}function a(e){return e&&Object.keys(e).length>0?"?"+Object.keys(e).map((function(t){return`${t}=${encodeURIComponent(e[t])}`})).join("&"):""}},18906:function(e,t,i){"use strict";var n,o;i.d(t,{$:function(){return n}}),function(e){e[e.None=0]="None",e[e.Draft=1]="Draft",e[e.UnderReview=2]="UnderReview",e[e.Published=3]="Published",e[e.Rejected=4]="Rejected",e[e.Unpublished=5]="Unpublished"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Appealing=1]="Appealing",e[e.AppealFailed=2]="AppealFailed",e[e.AppealRejected=3]="AppealRejected"}(o||(o={}))},76753:function(e,t,i){"use strict";i.d(t,{O:function(){return a},z:function(){return o}});var n=i(57663);function o(){return"sharedWidgets"===n.jG.AppType&&function(){if(n.jG.WidgetAttributes){const{propertyBag:e={}}=n.jG.WidgetAttributes,{hostSite:t}=e;return t&&"bing"===t.toLowerCase()}return!1}()}function a(){if(n.jG.WidgetAttributes){const{propertyBag:e={}}=n.jG.WidgetAttributes,{social:t}=e;return t}return null}},55465:function(e,t,i){"use strict";i.d(t,{k:function(){return r}});var n=i(57663),o=i(82530);let a=n.jG.NavTargetUrlWithLocale;void 0!==o.env.JEST_WORKER_ID&&(n.jG.CurrentMarket||(a=a.replace("undefined","en-ca")));const r={selectPpeParameter:"oneservice_enable_ppe",renderWithMockData:"render_with_mock_data",externalUrls:{api:`${(0,n.Yq)().AssetsUrl}/service/community/`,cnApi:`${(0,n.Yq)().AssetsUrl}/service/community/`,ppeApi:"https://ppe-api.msn.com/community/",msphApi:"https://api.msn.com/ugc",msphCnApi:"https://api.msn.cn/ugc",msphPpeApi:"https://sf-int.oneservice-test.msn.com/ugc",hubbleApi:"https://hubble.officeapps.live.com",hubblePpeApi:"https://hubble.officeapps.live-int.com",guidelinePage:`${a}/community/guideline`,guidelinePageEmbed:`${a}/community/embed/guidelinepage`,profilePage:`${a}/community/profile/`,bingProfilePage:"https://www.bing.com/profile/community",channelPage:`${a}/community/channel/`,privacySettings:`${a}/settings`,activityPage:`${a}/community/activity`,statusPage:`${a}/community/activity?profileStatus=true`,newPost:`${a}/community/post/new`,profileSettings:"https://account.microsoft.com/profile",feedbackForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR-V3gf69zQlBm1dJVuXA8mtURVI4UlFHMDRIR0VCWDFWNUQyQU5HVzJJQi4u",moderationEmail:"Appealsprocessor@microsoft.com",bingImageDetailPage:"https://www.bing.com/images/search"},userStateType:{existingUser:"existingUser",anonymous:"anonymous",newUser:"newUser"},userAccountType:{msa:"PersonalMicrosoftAccount",aad:"AzureActiveDirectory"},userNameStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAvatarStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userStatusStorageKeys:{edgeLoginStatus:"CommunityUserEdgeLoginStatus"},accountModerationStatus:{normal:"Normal",warning:"Warning",firstStrike:"FirstStrike",secondStrike:"SecondStrike",permanentBan:"PermanentBan",ban:"Ban"},accountModerationStatusStringKeyMap:{restricted:"AccountStatusRestricted",atRisk:"AccountStatusAtRisk",warned:"AccountStatusWarned",FirstStrike:"AccountStatusActivitiesFirstStrike",SecondStrike:"AccountStatusActivitiesSecondStrike",Ban:"AccountStatusActivitiesThirdStrike",Warning:"AccountStatusActivitiesWarning"},activityModerationErrorTypeHeaderStringKeyMap:{Takedown:"ProfileActivityModerationErrorTakedownHeader",Ban:"ProfileActivityModerationErrorPermanentBanHeader",NotAllowName:"ProfileActivityModerationErrorNotAllowNameHeader",NotAllowPicture:"ProfileActivityModerationErrorNotAllowPictureHeader",ApproveUserAppeal:"ProfileActivityModerationErrorApproveUserAppealHeader",ApproveCommentAppeal:"ProfileActivityModerationErrorApproveCommentAppealHeader",ApproveProfilePicAppeal:"ProfileActivityModerationErrorApproveProfilePicAppealHeader",RejectUserAppeal:"ProfileActivityModerationErrorRejectUserAppealHeader",RejectCommentAppeal:"ProfileActivityModerationErrorRejectCommentAppealHeader",RejectProfilePicAppeal:"ProfileActivityModerationErrorRejectProfilePicAppealHeader",Warning:"ProfileActivityModerationErrorWarningHeader",FirstStrike:"ProfileActivityModerationErrorStrikeHeader",SecondStrike:"ProfileActivityModerationErrorStrikeHeader"},activityModerationErrorTypeExpiredHeaderStringKeyMap:{Warning:"ProfileActivityModerationErrorWarningExpiredHeader",FirstStrike:"ProfileActivityModerationErrorStrikeExpiredHeader",SecondStrike:"ProfileActivityModerationErrorStrikeExpiredHeader"},userAgeGroup:{under18:"Under18",above18:"Above18"},userSubType:{default:"Default",publisher:"Publisher",creator:"Creator",poster:"Poster"},activityType:{follow:"Follow",reply:"Reply",reaction:"Reaction",badge:"Achievement",moderation:"Moderation",commentDeleteAlert:"CommentDeleteAlert",profileBannedAlert:"ProfileBannedAlert",profileErrorAlert:"ProfileErrorAlert"},moderationErrorType:{takedown:"Takedown",ban:"Ban",notAllowName:"NotAllowName",notAllowPicture:"NotAllowPicture",approveUserAppeal:"ApproveUserAppeal",rejectUserAppeal:"RejectUserAppeal",approveProfilePicAppeal:"ApproveProfilePicAppeal",rejectProfilePicAppeal:"RejectProfilePicAppeal",approveCommentAppeal:"ApproveCommentAppeal",rejectCommentAppeal:"RejectCommentAppeal",warning:"Warning",firstStrike:"FirstStrike",secondStrike:"SecondStrike"},moderationTakedownReasonStringKeyMap:{"bullying-harassment":"ProfileActivityModerationTakedownReasonBullying",spam:"ProfileActivityModerationTakedownReasonSpam",violence:"ProfileActivityModerationTakedownReasonViolence",profanity:"ProfileActivityModerationTakedownReasonProfanity",abuse:"ProfileActivityModerationTakedownReasonAbuse","child-related":"ProfileActivityModerationTakedownReasonAbuse","misinformation-covid":"ProfileActivityModerationTakedownReasonMisinformation","misinformation-qanon":"ProfileActivityModerationTakedownReasonMisinformation",copyright:"ProfileActivityModerationTakedownReasonCopyright",danger:"ProfileActivityModerationTakedownReasonDanger","public-threats":"ProfileActivityModerationTakedownReasonPublicThreats",illegal:"ProfileActivityModerationTakedownReasonIllegal",terrorism:"ProfileActivityModerationTakedownReasonTerrorism",privacy:"ProfileActivityModerationTakedownReasonPrivacy",inappropriate:"ProfileActivityModerationTakedownReasonInappropriate","off-topic":"ProfileActivityModerationTakedownReasonOffTopic",impersonation:"ProfileActivityModerationTakedownReasonImpersonation","bullying-and-harassment":"ProfileActivityModerationTakedownReasonBullying","hate-speech":"ProfileActivityModerationTakedownReasonHateSpeech",suicide:"ProfileActivityModerationTakedownReasonSuicide","misinformation-us-2020":"ProfileActivityModerationTakedownReasonMisinformation","misinformation-brazil-election":"ProfileActivityModerationTakedownReasonMisinformation","misinformation-school-shooting":"ProfileActivityModerationTakedownReasonMisinformation","misinformation-russia-ukraine":"ProfileActivityModerationTakedownReasonMisinformation",trademark:"ProfileActivityModerationTakedownReasonTrademark"},moderationTakedownReasonGuidelinesListItems:{GuidelinesHarassmentPart:["GuidelinesPageGuidelinesTabAvoidPartText","GuidelinesPageGuidelinesTabAvoidPartHarassment","GuidelinesPageGuidelinesTabAvoidPartBullying"],GuidelinesRespectPart:["GuidelinesPageGuidelinesTabRespectPartText","GuidelinesPageGuidelinesTabRespectPartImpersonate","GuidelinesPageGuidelinesTabRespectPartRespectOthers","GuidelinesPageGuidelinesTabRespectPartNotShareContent"],GuidelinesAbusivePart:["GuidelinesPageGuidelinesTabReportPartText","GuidelinesPageGuidelinesTabReportPartViolent","GuidelinesPageGuidelinesTabReportPartIllegalAct","GuidelinesPageGuidelinesTabReportPartRiskTo","GuidelinesPageGuidelinesTabReportPartAbusiveText","GuidelinesPageGuidelinesTabReportPartHateSpeech"],GuidelinesDoNotPostPart:["GuidelinesPageGuidelinesTabFinalPartText","GuidelinesPageGuidelinesTabFinalPartCopywrited","GuidelinesPageGuidelinesTabFinalPartSpam"]},moderationTakedownReasonGuidelinesGroupings:{GuidelinesHarassmentPart:["ProfileActivityModerationTakedownReasonBullying"],GuidelinesRespectPart:["ProfileActivityModerationTakedownReasonMisinformation","ProfileActivityModerationTakedownReasonPrivacy","ProfileActivityModerationTakedownReasonImpersonation"],GuidelinesAbusivePart:["ProfileActivityModerationTakedownReasonViolence","ProfileActivityModerationTakedownReasonAbuse","ProfileActivityModerationTakedownReasonDanger","ProfileActivityModerationTakedownReasonPublicThreats","ProfileActivityModerationTakedownReasonChildRelated","ProfileActivityModerationTakedownReasonTerrorism","ProfileActivityModerationTakedownReasonHateSpeech","ProfileActivityModerationTakedownReasonSuicide","ProfileActivityModerationTakedownReasonIllegal","ProfileActivityModerationTakedownReasonProfanity"],GuidelinesDoNotPostPart:["ProfileActivityModerationTakedownReasonSpam","ProfileActivityModerationTakedownReasonCopyright","ProfileActivityModerationTakedownReasonTrademark"]},activityModerationErrorTypeStringKeyMap:{Takedown:"ProfileActivityModerationErrorTakedown",Ban:"ProfileActivityModerationErrorPermanentBan",NotAllowName:"ProfileActivityModerationErrorNotAllowName",NotAllowPicture:"ProfileActivityModerationErrorNotAllowPicture",ApproveUserAppeal:"ProfileActivityModerationErrorApproveUserAppeal",ApproveCommentAppeal:"ProfileActivityModerationErrorApproveCommentAppeal",ApproveProfilePicAppeal:"ProfileActivityModerationErrorApproveProfilePicAppeal",RejectUserAppeal:"ProfileActivityModerationErrorRejectUserAppeal",RejectCommentAppeal:"ProfileActivityModerationErrorRejectCommentAppeal",RejectProfilePicAppeal:"ProfileActivityModerationErrorRejectProfilePicAppeal",Warning:"ProfileActivityModerationErrorWarning",FirstStrike:"ProfileActivityModerationErrorFirstStrike",SecondStrike:"ProfileActivityModerationErrorSecondStrike"},visibleStatusType:{Normal:"Normal",DeletedByUser:"DeletedByUser",DeletedByAI:"DeletedByAI",DeletedByHI:"DeletedByHI",InReview:"InReview"},visibleStatusMap:{DeletedByUser:"VisibleStatusDeletedByUser",DeletedByAI:"VisibleStatusDeletedByAI",DeletedByHI:"VisibleStatusDeletedByHI",InReview:"VisibleStatusInReview",Default:"VisibleStatusOther"},reactionOrder:["like","love","surprised","thinking","sad","angry"],binaryReactionOrder:["upvote","downvote"],profileReportItemMap:{UserName:"ReportUserName",ProfilePicture:"ReportProfilePicture"},profilePageEmptyStates:{NoUser:"NoUser",NotSocialUser:"NotSocialUser"},reactionIconMap:{like:"EmojiLike",love:"EmojiHeart",thinking:"EmojiThinking",surprised:"EmojiSurprised",sad:"EmojiSad",angry:"EmojiAngry"},reactions:{like:"like",love:"love",thinking:"thinking",surprised:"surprised",sad:"sad",angry:"angry"},responsiveLevels:{L0:"cwtl-0",L1:"cwtl-1",L2:"cwtl-2",MobilePopup:"cwt-mobile-popup",articleOneBlock:"cwt-article-one-block"},newCommentErrorCodeMap:{400:"NewPostDeniedMsg",403:"NewPostSessionExpiredMsg",500:"NewPostWentWrongMsg",bodyTooLong:"NewPostTooLongMsg",other:"NewPostWentWrongMsg",0:"NewPostWentWrongMsg",1:"NewPostSessionExpiredMsg",4:"NewPostDeniedMsg",6:"NewPostWentWrongMsg",7:"NewPostWentWrongMsg",8:"NewPostWentWrongMsg",9:"NewPostWentWrongMsg",10:"NewPostWentWrongMsg",11:"NewPostWentWrongMsg",12:"NewPostTooManyCommentsMsg",20:"NewPostTooLongMsg",21:"NewPostMentionMsg",22:"NewPostWentWrongMsg",23:"NewPostWentWrongMsg",24:"NewPostDeniedMsg",25:"NewPostWentWrongMsg",26:"NewPostWentWrongMsg",27:"NewPostWentWrongMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg",31:"NewPostDeniedMsg",32:{1:"NewPostDuplicatedMsg",2:"NewPostDeniedMsg",3:"NewPostDeniedMsg",4:"NewPostDeniedMsg",5:"NewPostDeniedMsg",6:"NewPostDeniedMsg",7:"NewPostDeniedMsg",8:"NewPostDeniedMsg",9:"NewPostDeniedMsg",10:"NewPostDeniedMsg",11:"NewPostDeniedMsg",12:"NewPostDeniedMsg",13:"NewPostDeniedMsg",14:"NewPostDeniedMsg",15:"NewPostDeniedMsg",16:"NewPostDeniedMsg",17:"NewPostLanguageErrorMsg",18:"NewPostURLMsg",19:"NewPostDeniedMsg",20:"NewPostDeniedMsg",21:"NewPostDeniedMsg",22:"NewPostDeniedMsg",23:"NewPostDeniedMsg",24:"NewPostDeniedMsg",25:"NewPostDuplicatedMsg",26:"NewPostDeniedMsg",27:"NewPostDeniedMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg"}},newCommentErrorCodeMapDeletedByAiVersion1_1:{0:"NewCommentDeletedByAIReasonSpam",1:"NewCommentDeletedByAIReasonProfanity",2:"NewCommentDeletedByAIReasonAbuse",3:"NewCommentDeletedByAIReasonPrivacy",4:"",5:"",6:"",7:"NewCommentDeletedByAIReasonViolence",8:"",9:"NewCommentDeletedByAIReasonIllegal",10:"NewCommentDeletedByAIReasonTerrorismOrViolentExtremism",11:"NewCommentDeletedByAIReasonTerrorismOrViolentExtremism",12:"NewCommentDeletedByAIReasonCopyright",13:"",14:"",15:"",16:"NewCommentDeletedByAIReasonTrademark",17:"",18:"",19:"",20:"",21:"",22:"",23:"",24:"",25:"NewCommentDeletedByAIReasonMisinformation",26:"NewCommentDeletedByAIReasonHateSpeech",27:"NewCommentDeletedByAIReasonBullyingAndHarassment",28:"NewCommentDeletedByAIReasonSuicideAndSelfHarm",29:"",30:"",31:"",32:"NewCommentDeletedByAIReasonMisinformation",33:"",34:"",35:"NewCommentDeletedByAIReasonImpersonation"},commentsStatusType:{zero:0,minimal:1,expanded:2,notDetermined:3},theme:{default:{name:"default",disabledComponents:[]},superappBase:{name:"superapp",disabledComponents:[]},windowsBase:{name:"windows",disabledComponents:[]},superappEmbed:{name:"superapp-embed",modalComponents:["reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"],disabledComponents:["profilepage","guidelinepage","articlepage","multiloginpage","reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"]},superappFullpage:{name:"superapp-fullpage",modalComponents:["reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"],disabledComponents:["profilepage","guidelinepage","articlepage","multiloginpage","onboardingthirdpartypage"]},genericPopup:{name:"feed-popup",disabledComponents:[]}},profileVisitedLocalStorageKey:"self-profile-visited",profileMaskNameCoachMarkLocalStorageKey:"profile-mask-name-coach-mark",entryPointInfo:{article:"article",articleHeader:"articleHeader",articleRightRail:"articleRightRail",publisherProfile:"publisherProfile"},supportSourceForTelemetryInfo:{tipPromotionInArticle:"SocialTipPromotionInArticle",tipPromotion:"SocialTipPromotion",tipSelection:"SocialTipSelection"},moderationSourceOverrideVerticals:["finance","sports","weather"],staticPollStrings:{question:"Static_Poll_Question",answerInformative:"Static_Poll_Answer_Informative",answerInspiring:"Static_Poll_Answer_Inspiring",answerHelpful:"Static_Poll_Answer_Helpful",answerEntertaining:"Static_Poll_Answer_Entertaining"},entrypointContentType:{poll:"poll",commentPeek:"commentPeek",sentimentPicker:"sentimentPicker",post:"post"}}},77262:function(e,t,i){"use strict";i.d(t,{B_:function(){return c},SP:function(){return u},eL:function(){return d},zp:function(){return l}});var n=i(57663),o=i(55465),a=i(82530);function r(e){const t=window.location.search.substring(1).split("&"),i=[];for(let n=0;n<t.length;n++){const o=t[n].split("=");o[0].toLowerCase()==e.toLowerCase()&&i.push(o[1])}return i.length>0?i.map((e=>decodeURIComponent(e||""))).join(","):null}function s(e){return e&&Object.keys(e).length>0?"?"+Object.keys(e).map((function(t){return e[t].split(",").map((e=>e?`${t}=${encodeURIComponent(e)}`:t)).join("&")})).join("&"):""}function c(e,t,i){const n={};["fdhead","item","rt","theme","ocid","env","oneservice_enable_ppe"].map((e=>{const t=r(e);null!==t&&(n[e]=t)}));const o=s(n),c=void 0!==a.env.JEST_WORKER_ID?"/en-ca/":"/en-us/";t&&e.indexOf(c)>0&&(e=e.replace(c,`/${t}/`));const l=[e];return o&&-1!=e.indexOf("?")?l.push(`&${o.substring(1)}`):o&&l.push(o),l.push(i?`#comments&commentId=${i}`:""),l.join("")}function l(e,t){const i={};t&&(i.cid=t),i.tid="id_communitytab",i.FORM="000112",["features","setflight","item","rt","theme"].map((e=>{const t=r(e);null!==t&&(i[e]=t)}));const n=s(i),o=[e];return n&&-1!=e.indexOf("?")?o.push(`&${n.substring(1)}`):n&&o.push(n),o.join("")}function d(){return window.location.hash.includes("comments")}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.jG.CurrentMarket;return c(`${o.k.externalUrls.profilePage}me`,e)+"#subscriptions"}},88685:function(e,t,i){"use strict";i.d(t,{h:function(){return r}});var n=i(44132),o=i(33779),a=i(5302);class r{static renderToast(e){this.renderToastCallback?this.renderToastCallback(e):n.M0.sendAppErrorEvent((0,o.Tr)(a.PMq,"Undefined toast render callback function"))}static setRenderToastCallback(e){this.renderToastCallback=e,this.readyResolveFn()}static expireToast(e){this.expireToastCallback?this.expireToastCallback(e):n.M0.sendAppErrorEvent((0,o.Tr)(a.hxo,"Undefined toast expire callback function"))}static setExpireToastCallback(e){this.expireToastCallback=e}static setCurrentToast(e,t){this.currentToastId!==e&&(this.currentToastId=e,this.renderToastCallback=t,this.currentToastIdChangeCallbacks.forEach((t=>t(e))),this.renderToast())}static addCurrentToastIdChangeCallback(e){e&&this.currentToastIdChangeCallbacks.push(e)}}r.ready=new Promise((e=>r.readyResolveFn=e)),r.currentToastIdChangeCallbacks=[]},11514:function(e,t,i){"use strict";var n;i.d(t,{p:function(){return n}}),function(e){e.Save="Save",e.Unsave="Unsave",e.Mute="Mute",e.Follow="Follow",e.FollowV2="FollowV2",e.Unfollow="Unfollow",e.UnfollowV2="UnfollowV2",e.InterestFailure="InterestFailure",e.ShowMore="ShowMore",e.ShowFewer="ShowFewer",e.Hide="Hide",e.DisableNotification="DisableNotification",e.EnableNotification="EnableNotification",e.RecommendedInterestsFailure="RecommendedInterestsFailure",e.Refresh="Refresh",e.Pin="Pin",e.Unpin="Unpin",e.HideTopic="HideTopic",e.UnhideTopic="UnhideTopic",e.HideSource="HideSource",e.UnhideSource="UnhideSource",e.WindowsInformation="WindowsInformation",e.Error="Error",e.Default="Default",e.ConnectionError="ConnectionError",e.MuteError="MuteError",e.Fre="Fre",e.TuneYourFeed="TuneYourFeed",e.Report="ReportContent"}(n||(n={}))},24589:function(e,t,i){"use strict";var n;i.d(t,{SH:function(){return l},$A:function(){return s},Jn:function(){return c}}),function(e){e.DesktopL1="weatherdesktopl1",e.DesktopL2="weatherdesktopl2",e.PWA="weatherpwa",e.EdgeFeatured="edgefeatured",e.WINAPP="weather-app-win",e.XIAOMI="xiaomi",e.XIAOMI_ANDROID_GO="xmweather-gominus1",e.XIAOMI_BROWSER="xmweather-browser",e.SKYPE="onoskype",e.WINDOWS_HEADER_PREFIX="win",e.EDGE_ARTICLE_PREFIX="msnar"}(n||(n={}));new Set(["msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]);var o=i(57663),a=i(5884);function r(e){let t;if(e instanceof URL)t=e.searchParams;else if(e instanceof URLSearchParams)t=e;else if("string"==typeof e)try{t=new URL(e).searchParams}catch(e){t=void 0}return function(e,t,i){if(e&&t){const n={value:e.get(t)||void 0};if(!n.value&&i&&i.length>0)for(let t=0;t<i.length&&(n.value=e.get(i[t])||void 0,!n.value);++t);if(!n.value){const i=t.toLowerCase();e.forEach((function(e,t){!n.value&&t.toLowerCase()===i&&e&&(n.value=e)}))}return n.value}return}(t,"ocid")}function s(e,t,i){if(!e)return null;let n;try{n=e instanceof URL?new URL(e.href):new URL(e)}catch(e){return null}if(n&&(i||n.host.includes("msn.com")||n.host.includes(".msn.cn")))for(const[e,i]of Object.entries(t))e&&i&&n.searchParams.set(e,i);return n.href}function c(e){if("edgeChromium"===o.jG.AppType)return!1;const t=r(e),i=null==t?void 0:t.toLowerCase();return a.Oj.has(i)}i(61303);function l(e,t,i){return s(e,{cvid:t,ocid:i})}},27545:function(e,t,i){"use strict";i.d(t,{H:function(){return r},a:function(){return n}});var n,o=i(80293);!function(e){e[e.IsSignedIn=1]="IsSignedIn",e[e.CookieConsentStatus=2]="CookieConsentStatus",e[e.OnetrustActiveCookieGroups=3]="OnetrustActiveCookieGroups",e[e.IsDarkMode=4]="IsDarkMode",e[e.ColumnArrangement=5]="ColumnArrangement",e[e.CurrentRoute=6]="CurrentRoute",e[e.TopicData=7]="TopicData",e[e.IsDocumentVisible=8]="IsDocumentVisible",e[e.IsSingleColumn=9]="IsSingleColumn"}(n||(n={}));class a extends o.v{subscribe(e,t){this.has(e)||(e===n.IsDarkMode&&this.initBrowserThemeListener(),e===n.IsDocumentVisible&&this.initBrowserVisibilityListener()),super.subscribe(e,t)}initBrowserThemeListener(){const e=matchMedia("(prefers-color-scheme:dark)");this.set(n.IsDarkMode,e.matches),e.onchange=e=>{this.set(n.IsDarkMode,e.matches)}}initBrowserVisibilityListener(){this.set(n.IsDocumentVisible,"visible"===document.visibilityState),document.addEventListener("visibilitychange",(()=>{this.set(n.IsDocumentVisible,"visible"===document.visibilityState)}))}}const r=new a("AppState")},22914:function(e,t,i){"use strict";i.d(t,{T:function(){return n}});const n=Object.freeze(function(){var e,t;const i=JSON.parse((null===(t=null===(e=document.head)||void 0===e?void 0:e.dataset)||void 0===t?void 0:t.clientSettings)||"{}"),n={activityId:i.aid||"",appType:i.apptype,categoryKey:i.categoryKey,pageType:i.pagetype,verticalKey:i.verticalKey||i.vk,ocid:i.ocid};try{if(i.locale)n.market=`${i.locale.language}-${i.locale.market}`;else{const e=location.pathname.split("/");e&&e[1]&&(n.market=e[1].toLowerCase())}}catch(e){}return n}())},60804:function(e,t,i){"use strict";function n(e,t){const{audienceMode:i="",locale:n={},pageType:o=""}=t||{},a=n.content??n,{language:r,market:s}=a;return`wpo_data_ ${i}_${r}_${s}_${o}_${e}`}i.d(t,{_:function(){return n}})},15675:function(e,t,i){"use strict";var n;i.d(t,{_h:function(){return n}}),function(e){e.eventGleam="eventGleam",e.topSites="topsites",e.layoutPromotion="layoutPromotion",e.topSitesPromotion="topsitesPromotion",e.topsitesCollapse="topsitesCollapse",e.recommendedsitesCollapse="recommendedsitesCollapse",e.bellCoachMark="bellCoachMark",e.backupRegionStatus="backupRegionStatus",e.searchBoxCollapse="searchBoxCollapse",e.followedTopics="followedTopics",e.feedContextualFeedback="feedContextualFeedback",e.animationControl="animationControl",e.pinProngCoachMark="pinProngCoachMark",e.shorelineTrigger="shorelineTrigger",e.topNavPivotsPromotion="pivotNav"}(n||(n={}))},28052:function(e,t,i){"use strict";var n;i.d(t,{y:function(){return n}}),function(e){e[e.Router=0]="Router",e[e.ExternalLink=2]="ExternalLink",e[e.PrimeExternalLink=3]="PrimeExternalLink"}(n||(n={}))},65518:function(e,t,i){"use strict";i.d(t,{Nd:function(){return g}});var n=i(22914),o=i(27545),a=i(28052),r=i(33779),s=i(5302),c=i(81586),l=i(5884),d=i(57663),u=i(78058),h=i(24589);const p=["ocid","item","pcsonly","fdhead","pc"],m=["personalize","my-saves","experience-settings","history","notification"];const g=new class{constructor(){this.contextualNavMap=new Map,this.hamburgerMenuMap=new Map,this.market=n.T.market,this.refIds=[],this.currentUrl=new URL(window.location.href.toLowerCase()),this.currentSearchParams=new URLSearchParams(window.location.search.toLowerCase())}init(e){!this.options&&e&&(this.options=e,this.config=e.config,this.options.localizedStrings=this.options.localizedStrings||{},"/"===window.location.pathname&&(window.location.pathname=`/${this.market}${e.basePath||""}`),this.currentUrl.searchParams.delete("spapage"),this.currentSearchParams.forEach(((e,t)=>{-1===p.indexOf(t)&&this.currentUrl.searchParams.delete(t)})),this.setRoutes(this.config),this.currentRoute&&(o.H.set(o.a.CurrentRoute,this.currentRoute),this.currentRoute.renderInfo.renderType===a.y.Router&&window.history.replaceState(this.currentRoute,"",this.currentRoute.destinationUrl)))}subscribe(e){(e||"function"==typeof e)&&o.H.subscribe(o.a.CurrentRoute,e)}getCurrentRoute(){return o.H.get(o.a.CurrentRoute)}navigate(e,t){const i=o.H.get(o.a.CurrentRoute);if(i&&i.id===e)return;const n=this.getRouteById(e);if(!n)return;const a=new URL(n.destinationUrl);a.hash&&(a.hash="",n.destinationUrl=decodeURIComponent(a.toString()));const r=Object.assign(Object.assign({},n),{dynamicContext:t});history.pushState(r,n.display,n.destinationUrl),o.H.set(o.a.CurrentRoute,r)}getRouteById(e){return this.contextualNavMap.get(e)||this.hamburgerMenuMap.get(e)}addRouteToContextualNavMap(e,t){this.contextualNavMap.set(e,t)}preserveQueryParams(e){const t=e.searchParams;this.currentUrl.search&&this.currentUrl.searchParams.forEach(((i,n)=>{n=n.toLowerCase(),-1===t.getAll(n).indexOf(i)&&e.searchParams.append(n,i)})),!e.searchParams.get("ocid")&&this.options.ocid&&e.searchParams.set("ocid",this.options.ocid),!e.searchParams.get("pc")&&this.options.pc&&e.searchParams.set("pc",this.options.pc)}getQueryParamValue(e){return this.currentSearchParams.get(e)}getUrlInfo(e){const{renderType:t,path:i,externalUrl:n}=e.renderInfo;if(t===a.y.Router){if(e.id===this.config.homeNavigationItem.id)return this.getHomePageUrl();const t=`${0===i.indexOf("personalize")?"":"/interest"}/${i}`;return{url:`${window.location.origin}/${this.market}/feed${t}${this.currentUrl.search}${window.location.hash}`,path:`/${this.market}/feed${t}`}}let o;try{o=new URL(n)}catch(e){(0,r.OO)(e,s.Yg3,"Invalid URL being used",n)}return-1===o.hostname.indexOf(".msn.com")&&-1===o.hostname.indexOf(".msn.cn")||(o.hostname!==window.location.hostname&&(o=new URL(`${o.pathname}${o.search}`,window.location.origin)),this.preserveQueryParams(o)),{url:decodeURIComponent(o.toString()),path:o.pathname,searchParams:o.searchParams}}setRoutes(e){if(!e)return;const{contextualNavItems:t=[],hamburgerMenuItems:i=[],homeNavigationItem:n,interestsNavigationItem:o,followingNavigationItem:a}=e;n&&i.length&&t.length&&(this.buildNavMap(this.contextualNavMap,n),a&&this.buildNavMap(this.contextualNavMap,a),this.mapChildItems(this.hamburgerMenuMap,i),this.mapChildItems(this.contextualNavMap,t),this.buildNavMap(this.contextualNavMap,o),this.refIds.length&&this.refIds.forEach((e=>{const t=`${e}-ref`;this.contextualNavMap.set(t,Object.assign(Object.assign({},this.getRouteById(e)),{id:t}))})))}processRoute(e,t){const{id:i,display:n,displayKey:o,telemetryInfo:a,interestsWCConfigRefType:r}=e,s=o?this.options.localizedStrings[o]:n,d=this.getUrlInfo(e),h=decodeURIComponent(d.url),p=(null==a?void 0:a.navItemName)?a.navItemName:s,g=r&&m.includes(i)?(0,l.Eo)(r):void 0;g&&e.renderInfo&&(e.renderInfo.experienceConfigRef=g);const f=Object.assign(Object.assign({},e),{display:s,destinationUrl:h,parentId:t,telemetryMetadata:new u.D({name:p,action:c.Aw.Click,behavior:c.wu.Navigate,content:{headline:s},destinationUrl:h,overrideDestinationUrl:h,feed:{id:i,name:s,type:"category filter"}}).getMetadata()});return this.currentRoute&&this.currentRoute.id!==i||this.detectCurrentRoute(f,d.path,d.searchParams),f}detectCurrentRoute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;t=t.toLowerCase();const n=this.currentUrl.pathname;if(e.selectForSubPaths&&n.startsWith(t))this.currentRoute=e;else if(n===t||n===`${t}/`){let t=!1;if(i&&i.toString()&&i.forEach(((e,i)=>{i=i.toLowerCase(),-1===this.currentSearchParams.getAll(i).indexOf(e.toLowerCase())&&(t=!0)})),t)return;this.currentRoute=e}}buildNavMap(e,t){if(!t)return;const{id:i,children:n=[],navRefId:o}=t;o?this.refIds.push(o):(e.set(i,this.processRoute(t)),this.mapChildItems(e,n,t.id))}mapChildItems(e){let t=arguments.length>2?arguments[2]:void 0;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((i=>{if(i.navRefId)return void this.refIds.push(i.navRefId);e.set(i.id,this.processRoute(i,t));const{children:n}=i;n&&n.length&&this.mapChildItems(e,n,i.id)}))}getHomePageUrl(){return(0,h.Jn)(this.currentSearchParams)||d.jG.isMobile?{url:`https://www.msn.${window.location.hostname.endsWith(".cn")?"cn":"com"}/${this.market}${this.currentUrl.search}`,path:this.market}:{url:`${window.location.origin}/${this.market}/feed${this.currentUrl.search}`,path:`/${this.market}/feed`}}}},19628:function(e,t){"use strict";var i=function(){function e(){}return e.IsNullOrWhiteSpace=function(e){try{return null==e||"undefined"==e||e.toString().replace(/\s/g,"").length<1}catch(e){return console.log(e),!1}},e.Join=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];try{var o=i[0];if(Array.isArray(o)||o instanceof Array){for(var a=e.Empty,r=0;r<o.length;r++){var s=o[r];r<o.length-1?a+=s+t:a+=s}return a}if("object"==typeof o){var c=e.Empty,l=o;return Object.keys(o).forEach((function(e){c+=l[e]+t})),c=c.slice(0,c.length-t.length)}var d=i;return e.join.apply(e,[t].concat(d))}catch(t){return console.log(t),e.Empty}},e.Format=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];try{return t.match(e.regexNumber)?e.format(e.regexNumber,t,i):t.match(e.regexObject)?e.format(e.regexObject,t,i,!0):e.Empty}catch(t){return console.log(t),e.Empty}},e.format=function(t,i,n,o){return void 0===o&&(o=!1),i.replace(t,(function(t,i){var a,r=t.split(":");return r.length>1&&(i=r[0].replace("{",""),t=r[1].replace("}","")),null==(a=o?n[0][i]:n[i])||null==a||t.match(/{\d+}/)||void 0!==(a=e.parsePattern(t,a))&&null!=a?a:e.Empty}))},e.parsePattern=function(t,i){switch(t){case"L":return i.toLowerCase();case"U":return i.toUpperCase();case"d":if("string"==typeof i)return e.getDisplayDateFromString(i);if(i instanceof Date)return e.Format("{0:00}.{1:00}.{2:0000}",i.getDate(),i.getMonth(),i.getFullYear());break;case"s":if("string"==typeof i)return e.getSortableDateFromString(i);if(i instanceof Date)return e.Format("{0:0000}-{1:00}-{2:00}",i.getFullYear(),i.getMonth(),i.getDate());break;case"n":"string"!=typeof i&&(i=i.toString());var n=i.replace(/,/g,".");if(isNaN(parseFloat(n))||n.length<=3)break;var o=n.split(/[^0-9]+/g),a=o;o.length>1&&(a=[e.join.apply(e,[""].concat(o.splice(0,o.length-1))),o[o.length-1]]);var r=a[0],s=r.length%3,c=s>0?r.substring(0,s):e.Empty,l=r.substring(s).match(/.{3}/g);return(c=c+"."+e.Join(".",l))+(a.length>1?","+a[1]:"")}return"number"!=typeof i&&isNaN(i)||isNaN(+t)||e.IsNullOrWhiteSpace(i)?i:e.formatNumber(i,t)},e.getDisplayDateFromString=function(e){var t;if((t=e.split("-")).length<=1)return e;var i=t[t.length-1],n=t[t.length-2],o=t[t.length-3];return(i=(i=i.split("T")[0]).split(" ")[0])+"."+n+"."+o},e.getSortableDateFromString=function(t){var i=t.replace(",","").split(".");if(i.length<=1)return t;var n=i[i.length-1].split(" "),o=e.Empty;n.length>1&&(o=n[n.length-1]);var a=i[i.length-1].split(" ")[0]+"-"+i[i.length-2]+"-"+i[i.length-3];return!e.IsNullOrWhiteSpace(o)&&o.length>1?a+="T"+o:a+="T00:00:00",a},e.formatNumber=function(e,t){var i=t.length,n=e.toString();if(i<=n.length)return n;var o=i-n.length;return new Array(o+=1).join("0")+n},e.join=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];for(var o=e.Empty,a=0;a<i.length;a++)if(!("string"==typeof i[a]&&e.IsNullOrWhiteSpace(i[a])||"number"!=typeof i[a]&&"string"!=typeof i[a])){o+=""+i[a];for(var r=a+1;r<i.length;r++)if(!e.IsNullOrWhiteSpace(i[r])){o+=t,a=r-1;break}}return o},e.regexNumber=/{(\d+(:\w*)?)}/g,e.regexObject=/{(\w+(:\w*)?)}/g,e.Empty="",e}();t.Ld=i;var n=function(){function e(e){void 0===e&&(e=i.Empty),this.Values=[],this.Values=new Array(e)}return e.prototype.ToString=function(){return this.Values.join("")},e.prototype.Append=function(e){this.Values.push(e)},e.prototype.AppendFormat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.Values.push(i.Format.apply(i,[e].concat(t)))},e.prototype.Clear=function(){this.Values=[]},e}()},44644:function(e){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7.5 7.5 0 017.5 7.25v4.35l1.38 3.15a1.25 1.25 0 01-1.15 1.75H15a3 3 0 01-6 .18v-.18H4.27a1.25 1.25 0 01-1.14-1.75L4.5 13.6V9.5C4.5 5.35 7.85 2 12 2zm1.5 16.5h-3a1.5 1.5 0 003 .15v-.15zM12 3.5c-3.32 0-6 2.67-6 6v4.4L4.66 17h14.7L18 13.9V9.29a5.99 5.99 0 00-6-5.78z"></path></svg>'},25168:function(e){e.exports='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M14 3a8.5 8.5 0 018.5 8.25v4.86l1.41 3.65c.04.1.07.2.08.3l.01.16c0 .66-.5 1.2-1.15 1.27l-.13.01H17.5a3.5 3.5 0 01-7 .2v-.2H5.27a1.28 1.28 0 01-1.23-1.62l.04-.12L5.5 16.1v-4.6C5.5 6.8 9.3 3 14 3zm2 18.65v-.15h-4a2 2 0 004 .15zM14 4.5a7 7 0 00-7 6.76v4.99c0 .07 0 .13-.02.19l-.03.09L5.6 20h16.8l-1.35-3.48a.75.75 0 01-.04-.17V11.5a7 7 0 00-7.01-7z"></path></svg>'},84812:function(e){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 8a7 7 0 1014 0A7 7 0 001 8zm6.8 3.46a.5.5 0 01-.15-.1l-2.5-2.5a.5.5 0 11.7-.71L7.5 9.79V5a.5.5 0 011 0v4.8l1.65-1.65a.5.5 0 01.7.7l-2.5 2.5a.5.5 0 01-.54.11z"></path></svg>'},98467:function(e){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 12h5.04l.09-.02.06-.02.06-.03.06-.04.06-.05.04-.05.04-.06.03-.08.01-.04.01-.09V6.5a.5.5 0 00-.99-.09V10.3L7.85 5.14a.5.5 0 00-.64-.06l-.07.06L5.5 6.79 2.85 4.15a.5.5 0 00-.76.63l.06.07 3 3c.17.18.44.2.63.06l.07-.06L7.5 6.21 12.3 11H8.5a.5.5 0 00-.5.41v.09c0 .28.22.5.5.5z"></path></svg>'},50338:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 16.8l4.75-4.8h-1a1.5 1.5 0 01-.36-.04l-3.86 3.9-3.87-3.9a1.5 1.5 0 01-.36.04h-1l4.75 4.8c.26.27.69.27.95 0zm6.22-12.49a4.42 4.42 0 01.98 4.7L17.5 9h-.89c.67-1.28.48-2.9-.6-3.98A3.3 3.3 0 0011.3 5l-.95.96a.5.5 0 01-.71 0L8.68 5a3.3 3.3 0 00-4.7-.01A3.4 3.4 0 003.41 9H2.5l-.18.01a4.4 4.4 0 01.94-4.74 4.3 4.3 0 016.13.02l.6.61.6-.6.1-.1a4.3 4.3 0 016.03.11zm-8.76 2a.5.5 0 00-.92 0L5.47 10H2.5a.5.5 0 000 1h3.3a.5.5 0 00.46-.3L7.5 7.79l2.04 4.9a.5.5 0 00.88.08l2.15-3.43 1.3 1.49c.1.1.24.17.38.17h3.25a.5.5 0 000-1h-3.02l-1.6-1.83a.5.5 0 00-.8.06l-2 3.18-2.12-5.1z"></path></svg>'},11310:function(e){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5 8a1 1 0 11-2 0 1 1 0 012 0zm4 0a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z"></path></svg>'},3893:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.25 10a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm5 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM15 11.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z"></path></svg>'},20367:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 6.5c0-.28.22-.5.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zM10.5 9a.5.5 0 000 1h2a.5.5 0 000-1h-2zm-.5 3.5c0-.28.22-.5.5-.5h2a.5.5 0 010 1h-2a.5.5 0 01-.5-.5zM5.5 9a.5.5 0 00-.5.5v3c0 .28.22.5.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm.5 3v-2h2v2H6zM2 5c0-1.1.9-2 2-2h10a2 2 0 012 2v1a2 2 0 012 2v5.5a2.5 2.5 0 01-2.5 2.5h-11A2.5 2.5 0 012 13.5V5zm13 0a1 1 0 00-1-1H4a1 1 0 00-1 1v8.5c0 .83.67 1.5 1.5 1.5h11c.83 0 1.5-.67 1.5-1.5V8a1 1 0 00-1-1v6.5a.5.5 0 01-1 0V5z"></path></svg>'},7981:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 6.75a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM6.75 3.5a3.25 3.25 0 100 6.5 3.25 3.25 0 000-6.5zm5.69 11.65c.53.21 1.21.35 2.06.35 1.88 0 2.92-.67 3.47-1.43a2.92 2.92 0 00.53-1.5v-.07c0-.83-.67-1.5-1.5-1.5h-4.63c.24.29.42.63.53 1H17c.28 0 .5.22.5.5v.1l-.04.22c-.04.18-.13.42-.3.66-.33.46-1.04 1.02-2.66 1.02-.73 0-1.28-.11-1.69-.28-.08.28-.2.6-.37.93zM1.5 13c0-1.1.9-2 2-2H10a2 2 0 012 2V13.08a1.43 1.43 0 01-.01.18 3.95 3.95 0 01-.67 1.8C10.62 16.09 9.26 17 6.75 17c-2.51 0-3.87-.92-4.57-1.93a3.95 3.95 0 01-.68-1.99V13zm1 .06v.1l.06.33c.07.27.2.64.45 1C3.49 15.2 4.5 16 6.75 16s3.26-.8 3.74-1.5a2.95 2.95 0 00.5-1.42l.01-.02V13a1 1 0 00-1-1H3.5a1 1 0 00-1 1v.06zM13 7.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM14.5 5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"></path></svg>'},56933:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-1 0c0-1.75-.64-3.36-1.7-4.58l-9.88 9.87A7 7 0 0017 10zM4.7 14.58l9.88-9.87a7 7 0 00-9.87 9.87z"></path></svg>'},55096:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 013.69 4.3a.5.5 0 01.54-.13l1.92.68a1 1 0 001.32-.76l.36-2a.5.5 0 01.4-.4 8.53 8.53 0 013.55 0c.2.04.35.2.38.4l.37 2a1 1 0 001.32.76l1.92-.68a.5.5 0 01.54.13 8.5 8.5 0 011.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 000 1.52l1.56 1.32a.5.5 0 01.15.54 8.5 8.5 0 01-1.78 3.08.5.5 0 01-.54.13l-1.92-.68a1 1 0 00-1.32.76l-.37 2a.5.5 0 01-.38.4 8.53 8.53 0 01-3.56 0 .5.5 0 01-.39-.4l-.36-2a1 1 0 00-1.32-.76l-1.92.68a.5.5 0 01-.54-.13 8.5 8.5 0 01-1.78-3.08.5.5 0 01.15-.54l1.56-1.32a1 1 0 000-1.52L2.06 7.92a.5.5 0 01-.15-.54zm1.06 0l1.3 1.1a2 2 0 010 3.04l-1.3 1.1c.3.79.71 1.51 1.25 2.16l1.6-.58a2 2 0 012.63 1.53l.3 1.67a7.56 7.56 0 002.5 0l.3-1.67a2 2 0 012.64-1.53l1.6.58a7.5 7.5 0 001.24-2.16l-1.3-1.1a2 2 0 010-3.04l1.3-1.1a7.5 7.5 0 00-1.25-2.16l-1.6.58a2 2 0 01-2.63-1.53l-.3-1.67a7.55 7.55 0 00-2.5 0l-.3 1.67A2 2 0 015.81 5.8l-1.6-.58a7.5 7.5 0 00-1.24 2.16zM7.5 10a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0zm1 0a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0z"></path></svg>'},38686:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a1 1 0 00-1.68-.73l-3.88 3.6A.5.5 0 016.1 6H3.5C2.67 6 2 6.67 2 7.5v5c0 .83.67 1.5 1.5 1.5h2.6a.5.5 0 01.34.13l3.88 3.6a1 1 0 001.68-.74V3.01zM7.12 6.6L11 3v14l-3.88-3.6A1.5 1.5 0 006.1 13H3.5a.5.5 0 01-.5-.5v-5c0-.28.22-.5.5-.5h2.6c.38 0 .75-.14 1.02-.4zm6.02 1.05c.2-.2.52-.2.71 0l1.65 1.64 1.64-1.64a.5.5 0 11.71.7L16.2 10l1.65 1.65a.5.5 0 11-.7.7l-1.65-1.64-1.65 1.64a.5.5 0 11-.7-.7L14.78 10l-1.65-1.65a.5.5 0 010-.7z"></path></svg>'},50443:function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14 7a1 1 0 100-2 1 1 0 000 2zm-2.87-5a2 2 0 00-1.43.58L3.02 9.25a2 2 0 000 2.83l4.95 4.95a2 2 0 002.83 0l6.63-6.63A2 2 0 0018 8.98V4.03a2 2 0 00-1.99-2L11.12 2zm-.72 1.3a1 1 0 01.71-.3l4.9.03a1 1 0 01.99 1v4.95a1 1 0 01-.29.7l-6.63 6.64a1 1 0 01-1.41 0l-4.95-4.95a1 1 0 010-1.41l6.68-6.67z"></path></svg>'},46298:function(e){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 8a.5.5 0 000 1h1a.5.5 0 000-1h-1zm-7-6C2.67 2 2 2.67 2 3.5v8A2.5 2.5 0 004.5 14H12a2 2 0 002-2V6a2 2 0 00-1-1.73V4a2 2 0 00-2-2H3.5zm0 1H11a1 1 0 011 1H3.5a.5.5 0 010-1zm0 2H12a1 1 0 011 1v6a1 1 0 01-1 1H4.5A1.5 1.5 0 013 11.5V4.91c.16.06.32.09.5.09z"></path></svg>'},79896:function(e,t,i){"use strict";i.d(t,{D:function(){return O}});var n=i(63070),o=i(33940),a=i(42590),r=i(99452),s=i(33714),c=i(33818),l=i(31289),d=i(28904),u=i(23526);class h extends d.H{}class p extends((0,u.Um)(h)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const m="submit",g="reset";class f extends p{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const e=this.proxy.isConnected;e||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),e||this.detachProxy()},this.handleFormReset=()=>{this.form?.reset()},this.handleUnsupportedDelegatesFocus=()=>{window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&this.$fastController.definition.shadowOptions?.delegatesFocus&&(this.focus=()=>{this.control.focus()})}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(e,t){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),t===m&&this.addEventListener("click",this.handleSubmission),e===m&&this.removeEventListener("click",this.handleSubmission),t===g&&this.addEventListener("click",this.handleFormReset),e===g&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.handleUnsupportedDelegatesFocus()}}(0,o.gn)([(0,a.Lj)({mode:"boolean"}),(0,o.w6)("design:type",Boolean)],f.prototype,"autofocus",void 0),(0,o.gn)([(0,a.Lj)({attribute:"form"}),(0,o.w6)("design:type",String)],f.prototype,"formId",void 0),(0,o.gn)([a.Lj,(0,o.w6)("design:type",String)],f.prototype,"formaction",void 0),(0,o.gn)([a.Lj,(0,o.w6)("design:type",String)],f.prototype,"formenctype",void 0),(0,o.gn)([a.Lj,(0,o.w6)("design:type",String)],f.prototype,"formmethod",void 0),(0,o.gn)([(0,a.Lj)({mode:"boolean"}),(0,o.w6)("design:type",Boolean)],f.prototype,"formnovalidate",void 0),(0,o.gn)([a.Lj,(0,o.w6)("design:type",String)],f.prototype,"formtarget",void 0),(0,o.gn)([a.Lj,(0,o.w6)("design:type",String)],f.prototype,"type",void 0),(0,o.gn)([r.LO,(0,o.w6)("design:type",Array)],f.prototype,"defaultSlottedContent",void 0);class v{}(0,o.gn)([(0,a.Lj)({attribute:"aria-expanded"}),(0,o.w6)("design:type",Object)],v.prototype,"ariaExpanded",void 0),(0,o.gn)([(0,a.Lj)({attribute:"aria-pressed"}),(0,o.w6)("design:type",Object)],v.prototype,"ariaPressed",void 0),(0,l.e)(v,s.v),(0,l.e)(f,c.hW,v);class y extends f{constructor(){super(...arguments),this.iconOnly=!1}appearanceChanged(e,t){e!==t&&(this.classList.add(t),this.classList.remove(e))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(){const e=this.defaultSlottedContent.filter((e=>e.nodeType===Node.ELEMENT_NODE));1===e.length&&e[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}}(0,o.gn)([a.Lj,(0,o.w6)("design:type",String)],y.prototype,"appearance",void 0),(0,o.gn)([(0,a.Lj)({attribute:"icon-only",mode:"boolean"}),(0,o.w6)("design:type",Boolean)],y.prototype,"iconOnly",void 0);var b=i(78923),w=i(24484),k=i(29717),S=i(22798),C=i(45597),x=i(82636),T=i(10970),_=i(35680),P=i(958),A=i(26738),I=i(28632),$=i(38665);const M=b.i`
    :host([disabled]),
    :host([disabled]:hover),
    :host([disabled]:active) {
        opacity: ${T.V};
        background-color: ${_.wF};
        cursor: ${w.H};
    }

    ${C.G6}
`.withBehaviors((0,k.vF)(b.i`
            :host([disabled]),
            :host([disabled]:hover),
            :host([disabled]:active),
            :host([disabled]) .control,
            :host([disabled]) .control:hover,
            :host([appearance="neutral"][disabled]:hover) .control {
                forced-color-adjust: none;
                background-color: ${S.H.ButtonFace};
                border-color: ${S.H.GrayText};
                color: ${S.H.GrayText};
                opacity: 1;
            }
        `),(0,x.H)("accent",b.i`
            :host([appearance="accent"][disabled]),
            :host([appearance="accent"][disabled]:hover),
            :host([appearance="accent"][disabled]:active) {
                background: ${P.Av};
            }

            ${C.jQ}
        `.withBehaviors((0,k.vF)(b.i`
                    :host([appearance="accent"][disabled]) .control,
                    :host([appearance="accent"][disabled]) .control:hover {
                        background: ${S.H.ButtonFace};
                        border-color: ${S.H.GrayText};
                        color: ${S.H.GrayText};
                    }
                `))),(0,x.H)("lightweight",b.i`
            :host([appearance="lightweight"][disabled]:hover),
            :host([appearance="lightweight"][disabled]:active) {
                background-color: transparent;
                color: ${A.go};
            }

            :host([appearance="lightweight"][disabled]) .content::before,
            :host([appearance="lightweight"][disabled]:hover) .content::before,
            :host([appearance="lightweight"][disabled]:active) .content::before {
                background: transparent;
            }

            ${C.vt}
        `.withBehaviors((0,k.vF)(b.i`
                    :host([appearance="lightweight"][disabled]) .control {
                        forced-color-adjust: none;
                        color: ${S.H.GrayText};
                    }

                    :host([appearance="lightweight"][disabled])
                        .control:hover
                        .content::before {
                        background: none;
                    }
                `))),(0,x.H)("outline",b.i`
            :host([appearance="outline"][disabled]:hover),
            :host([appearance="outline"][disabled]:active) {
                background: transparent;
                border-color: ${I.ak};
            }

            ${C.O8}
        `.withBehaviors((0,k.vF)(b.i`
                    :host([appearance="outline"][disabled]) .control {
                        border-color: ${S.H.GrayText};
                    }
                `))),(0,x.H)("stealth",b.i`
            :host([appearance="stealth"][disabled]),
            :host([appearance="stealth"][disabled]:hover),
            :host([appearance="stealth"][disabled]:active) {
                background: ${$.jq};
            }

            ${C.cg}
        `.withBehaviors((0,k.vF)(b.i`
                    :host([appearance="stealth"][disabled]),
                    :host([appearance="stealth"][disabled]:hover) {
                        background: ${S.H.ButtonFace};
                    }

                    :host([appearance="stealth"][disabled]) .control {
                        background: ${S.H.ButtonFace};
                        border-color: transparent;
                        color: ${S.H.GrayText};
                    }
                `))));var D=i(49218),N=i(41472),E=i(47548);const R=function(e={}){return D.dy`
        <button
            class="control"
            part="control"
            ?autofocus="${e=>e.autofocus}"
            ?disabled="${e=>e.disabled}"
            form="${e=>e.formId}"
            formaction="${e=>e.formaction}"
            formenctype="${e=>e.formenctype}"
            formmethod="${e=>e.formmethod}"
            ?formnovalidate="${e=>e.formnovalidate}"
            formtarget="${e=>e.formtarget}"
            name="${e=>e.name}"
            type="${e=>e.type}"
            value="${e=>e.value}"
            aria-atomic="${e=>e.ariaAtomic}"
            aria-busy="${e=>e.ariaBusy}"
            aria-controls="${e=>e.ariaControls}"
            aria-current="${e=>e.ariaCurrent}"
            aria-describedby="${e=>e.ariaDescribedby}"
            aria-details="${e=>e.ariaDetails}"
            aria-disabled="${e=>e.ariaDisabled}"
            aria-errormessage="${e=>e.ariaErrormessage}"
            aria-expanded="${e=>e.ariaExpanded}"
            aria-flowto="${e=>e.ariaFlowto}"
            aria-haspopup="${e=>e.ariaHaspopup}"
            aria-hidden="${e=>e.ariaHidden}"
            aria-invalid="${e=>e.ariaInvalid}"
            aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
            aria-label="${e=>e.ariaLabel}"
            aria-labelledby="${e=>e.ariaLabelledby}"
            aria-live="${e=>e.ariaLive}"
            aria-owns="${e=>e.ariaOwns}"
            aria-pressed="${e=>e.ariaPressed}"
            aria-relevant="${e=>e.ariaRelevant}"
            aria-roledescription="${e=>e.ariaRoledescription}"
            ${(0,N.i)("control")}
        >
            ${(0,c.m9)(e)}
            <span class="content" part="content">
                <slot ${(0,E.Q)("defaultSlottedContent")}></slot>
            </span>
            ${(0,c.LC)(e)}
        </button>
    `}(),O=y.compose({name:`${n.H.prefix}-button`,template:R,styles:M,shadowOptions:{delegatesFocus:!0}})},27153:function(e,t,i){"use strict";i.d(t,{a:function(){return a},y:function(){return o}});var n=i(64087);function o(e,t){return e.colorContrast(t,3.5)}function a(e,t,i){return e.colorContrast(i,3.5,e.closestIndexOf(e.source),-1*(0,n.a)(t))}},27535:function(e,t,i){"use strict";i.d(t,{D:function(){return D}});var n=i(63070),o=i(79406),a=i(78923),r=i(27186),s=i(67739),c=i(24484),l=i(29717),d=i(22798),u=i(2658),h=i(53131),p=i(40009),m=i(42689),g=i(27782),f=i(55135),v=i(26512),y=i(17993),b=i(38665),w=i(10970),k=i(74449);const S=a.i`
    ${(0,r.j)("grid")} :host {
        contain: layout;
        overflow: visible;
        font-family: ${h.S};
        outline: none;
        box-sizing: border-box;
        height: calc(${u.i} * 1px);
        grid-template-columns: minmax(42px, auto) 1fr minmax(42px, auto);
        grid-template-rows: auto;
        justify-items: center;
        align-items: center;
        padding: 0;
        margin: 0 calc(${p._5} * 1px);
        white-space: nowrap;
        color: ${m.C};
        fill: currentcolor;
        cursor: pointer;
        font-size: ${g.c};
        line-height: ${g.R};
        border-radius: calc(${f.UW} * 1px);
        border: calc(${v.H} * 1px) solid transparent;
        position: relative;
    }

    :host([start-column-count="0"]) {
        grid-template-columns: auto 1fr minmax(42px, auto);
    }

    :host([start-column-count="0"]) .content {
        grid-column: 1;
        grid-row: 1;
        margin-inline-start: 10px;
    }

    :host([start-column-count="0"]) .expand-collapse-glyph-container {
        grid-column: 5;
        grid-row: 1;
    }

    :host([start-column-count="2"]) {
        grid-template-columns:
            minmax(42px, auto) minmax(42px, auto) 1fr minmax(42px, auto)
            minmax(42px, auto);
    }

    :host([start-column-count="2"]) .content {
        grid-column: 3;
        grid-row: 1;
        margin-inline-start: 10px;
    }

    :host([start-column-count="2"]) .expand-collapse-glyph-container {
        grid-column: 5;
        grid-row: 1;
    }

    :host([start-column-count="2"]) ::slotted([slot="start"]) {
        grid-column: 2;
    }

    :host([start-column-count="2"]) ::slotted([slot="end"]) {
        grid-column: 4;
    }

    :host(:${s.b}) {
        border: calc(${v.H} * 1px) solid ${y.yG};
        box-shadow: 0 0 0 calc((${v.vx} - ${v.H}) * 1px)
            ${y.yG};
    }

    :host(:hover) {
        background: ${b.Qp};
    }

    :host([aria-checked="true"]),
    :host(:active),
    :host([aria-expanded="true"]) {
        background: ${b.sG};
        color: ${m.C};
        z-index: 2;
    }

    :host([disabled]) {
        cursor: ${c.H};
        opacity: ${w.V};
    }

    :host([disabled]:hover) ::slotted([slot="start"]),
    :host([disabled]:hover) ::slotted([slot="end"]),
    :host([disabled]:hover)::slotted(svg) {
        fill: currentcolor;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        justify-content: center;
    }

    ::slotted([slot="end"]) {
        grid-column: 3;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        display: flex;
    }

    :host(:hover) ::slotted([slot="start"]),
    :host(:hover) ::slotted([slot="end"]),
    :host(:hover)::slotted(svg),
    :host(:active) ::slotted([slot="start"]),
    :host(:active) ::slotted([slot="end"]),
    :host(:active)::slotted(svg) {
        fill: ${m.C};
    }

    :host([start-column-count="0"][aria-haspopup="menu"]) {
        display: grid;
        grid-template-columns: minmax(42px, auto) auto 1fr minmax(42px, auto) minmax(
                42px,
                auto
            );
        align-items: center;
        min-height: 32px;
    }

    :host([start-column-count="1"][aria-haspopup="menu"]),
    :host([start-column-count="1"][role="menuitemcheckbox"]),
    :host([start-column-count="1"][role="menuitemradio"]) {
        display: grid;
        grid-template-columns: minmax(42px, auto) auto 1fr minmax(42px, auto) minmax(
                42px,
                auto
            );
        align-items: center;
        min-height: 32px;
    }

    :host([start-column-count="2"]:not([aria-haspopup="menu"])) ::slotted([slot="end"]) {
        grid-column: 5;
    }

    :host .input-container,
    :host .expand-collapse-glyph-container {
        display: none;
    }

    :host([aria-haspopup="menu"]) .expand-collapse-glyph-container,
    :host([role="menuitemcheckbox"]) .input-container,
    :host([role="menuitemradio"]) .input-container {
        display: grid;
        margin-inline-end: 10px;
    }

    :host([aria-haspopup="menu"]) .content,
    :host([role="menuitemcheckbox"]) .content,
    :host([role="menuitemradio"]) .content {
        grid-column-start: 3;
    }

    :host([aria-haspopup="menu"][start-column-count="0"]) .content {
        grid-column-start: 1;
    }

    :host([aria-haspopup="menu"]) ::slotted([slot="end"]),
    :host([role="menuitemcheckbox"]) ::slotted([slot="end"]),
    :host([role="menuitemradio"]) ::slotted([slot="end"]) {
        grid-column-start: 4;
    }

    :host .expand-collapse,
    :host .checkbox,
    :host .radio {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: 20px;
        height: 20px;
        box-sizing: border-box;
        outline: none;
        margin-inline-start: 10px;
    }

    :host .checkbox {
        border-radius: calc(${f.UW} * 1px);
    }

    :host .radio {
        border-radius: 999px;
    }

    :host .checkbox-indicator,
    :host .radio-indicator,
    ::slotted([slot="checkbox-indicator"]),
    ::slotted([slot="radio-indicator"]) {
        display: none;
    }

    ::slotted([slot="end"]:not(svg)) {
        margin-inline-end: 10px;
        color: ${k.Q};
    }

    :host([aria-checked="true"]) .checkbox-indicator,
    :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]) {
        width: 100%;
        height: 100%;
        display: block;
        fill: ${m.C};
        pointer-events: none;
    }

    :host([aria-checked="true"]) .radio-indicator {
        display: block;
        pointer-events: none;
    }

    :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
        display: block;
        pointer-events: none;
    }

    .submenu-container {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
    }
`.withBehaviors((0,l.vF)(a.i`
            :host {
                forced-color-adjust: none;
                border-color: transparent;
                color: ${d.H.ButtonText};
                fill: ${d.H.ButtonText};
            }
            :host(:hover) {
                background: ${d.H.Highlight};
                color: ${d.H.HighlightText};
            }
            :host(:hover) ::slotted([slot="start"]),
            :host(:hover) ::slotted([slot="end"]),
            :host(:hover)::slotted(svg),
            :host(:active) ::slotted([slot="start"]),
            :host(:active) ::slotted([slot="end"]),
            :host(:active)::slotted(svg) {
                fill: ${d.H.HighlightText};
            }

            :host([aria-expanded="true"]) {
                background: ${d.H.Highlight};
                border-color: ${d.H.Highlight};
                color: ${d.H.HighlightText};
            }

            :host(:${s.b}) {
                background: ${d.H.Highlight};
                border-color: ${d.H.ButtonText};
                box-shadow: 0 0 0 calc(${v.H} * 1px) inset
                    ${d.H.HighlightText};
                color: ${d.H.HighlightText};
                fill: currentcolor;
            }

            :host([disabled]),
            :host([disabled]:hover),
            :host([disabled]:hover) ::slotted([slot="start"]),
            :host([disabled]:hover) ::slotted([slot="end"]),
            :host([disabled]:hover)::slotted(svg) {
                background: ${d.H.Canvas};
                color: ${d.H.GrayText};
                fill: currentcolor;
                opacity: 1;
            }

            :host .expanded-toggle,
            :host .checkbox,
            :host .radio {
                border-color: ${d.H.ButtonText};
                background: ${d.H.HighlightText};
            }

            :host([checked="true"]) .checkbox,
            :host([checked="true"]) .radio {
                background: ${d.H.HighlightText};
                border-color: ${d.H.HighlightText};
            }

            :host(:hover) .expanded-toggle,
            :host(:hover) .checkbox,
            :host(:hover) .radio,
            :host(:${s.b}) .expanded-toggle,
            :host(:${s.b}) .checkbox,
            :host(:${s.b}) .radio,
            :host([checked="true"]:hover) .checkbox,
            :host([checked="true"]:hover) .radio,
            :host([checked="true"]:${s.b}) .checkbox,
            :host([checked="true"]:${s.b}) .radio {
                border-color: ${d.H.HighlightText};
            }

            :host([aria-checked="true"]) {
                background: ${d.H.Highlight};
                color: ${d.H.HighlightText};
            }

            :host([aria-checked="true"]) .checkbox-indicator,
            :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]),
            :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
                fill: ${d.H.Highlight};
            }

            :host([aria-checked="true"]) .radio-indicator {
                background: ${d.H.Highlight};
            }
        `));var C=i(49218),x=i(93703),T=i(41472),_=i(47548),P=i(95185),A=i(33818),I=i(17503),$=i(12695);const M=function(e={}){return C.dy`
    <template
        aria-haspopup="${e=>e.hasSubmenu?"menu":void 0}"
        aria-checked="${e=>e.role!==$.O.menuitem?e.checked:void 0}"
        aria-disabled="${e=>e.disabled}"
        aria-expanded="${e=>e.expanded}"
        @keydown="${(e,t)=>e.handleMenuItemKeyDown(t.event)}"
        @click="${(e,t)=>e.handleMenuItemClick(t.event)}"
        @mouseover="${(e,t)=>e.handleMouseOver(t.event)}"
        @mouseout="${(e,t)=>e.handleMouseOut(t.event)}"
    >
            ${(0,x.g)((e=>e.role===$.O.menuitemcheckbox),C.dy`
                    <div part="input-container" class="input-container">
                        <span part="checkbox" class="checkbox">
                            <slot name="checkbox-indicator">
                                ${(0,I.A)(e.checkboxIndicator)}
                            </slot>
                        </span>
                    </div>
                `)}
            ${(0,x.g)((e=>e.role===$.O.menuitemradio),C.dy`
                    <div part="input-container" class="input-container">
                        <span part="radio" class="radio">
                            <slot name="radio-indicator">
                                ${(0,I.A)(e.radioIndicator)}
                            </slot>
                        </span>
                    </div>
                `)}
        </div>
        ${(0,A.m9)(e)}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${(0,A.LC)(e)}
        ${(0,x.g)((e=>e.hasSubmenu),C.dy`
                <div
                    part="expand-collapse-glyph-container"
                    class="expand-collapse-glyph-container"
                >
                    <span part="expand-collapse" class="expand-collapse">
                        <slot name="expand-collapse-indicator">
                            ${(0,I.A)(e.expandCollapseGlyph)}
                        </slot>
                    </span>
                </div>
            `)}
        <span
            ?hidden="${e=>!e.expanded}"
            class="submenu-container"
            part="submenu-container"
            ${(0,T.i)("submenuContainer")}
        >
            <slot name="submenu" ${(0,_.Q)({property:"slottedSubmenu",filter:(0,P.R)("[role='menu']")})}></slot>
        </span>
    </template>
    `}({checkboxIndicator:C.dy`
        <svg
            aria-hidden="true"
            part="checkbox-indicator"
            class="checkbox-indicator"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
            />
        </svg>
    `,expandCollapseGlyph:C.dy`
        <svg
            viewBox="0 0 16 16"
            xmlns="http://www.w3.org/2000/svg"
            class="expand-collapse-glyph"
            part="expand-collapse-glyph"
        >
            <path
                d="M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z"
            />
        </svg>
    `,radioIndicator:C.dy`
        <svg
            aria-hidden="true"
            part="radio-indicator"
            class="radio-indicator"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
            />
        </svg>
    `}),D=o.h.compose({name:`${n.H.prefix}-menu-item`,template:M,styles:S})},79406:function(e,t,i){"use strict";i.d(t,{h:function(){return r}});var n=i(33940),o=i(41034),a=i(42590);class r extends o.WN{connectedCallback(){super.connectedCallback(),this.startColumnCount||(this.startColumnCount=1)}}(0,n.gn)([(0,a.Lj)({attribute:"start-column-count"}),(0,n.w6)("design:type",Object)],r.prototype,"startColumnCount",void 0)},37627:function(e,t,i){"use strict";i.d(t,{D:function(){return A}});var n=i(63070),o=i(33940),a=i(28904),r=i(58968),s=i(99452),c=i(7986),l=i(94537),d=i(12695),u=i(41034);class h extends a.H{constructor(){super(...arguments),this.expandedItem=null,this.focusIndex=-1,this.isNestedMenu=()=>null!==this.parentElement&&(0,c.Re)(this.parentElement)&&"menuitem"===this.parentElement.getAttribute("role"),this.handleFocusOut=e=>{if(!this.contains(e.relatedTarget)&&void 0!==this.menuItems){this.collapseExpandedItem();const e=this.menuItems.findIndex(this.isFocusableElement);this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.menuItems[e].setAttribute("tabindex","0"),this.focusIndex=e}},this.handleItemFocus=e=>{const t=e.target;void 0!==this.menuItems&&t!==this.menuItems[this.focusIndex]&&(this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0"))},this.handleExpandedChanged=e=>{if(e.defaultPrevented||null===e.target||void 0===this.menuItems||this.menuItems.indexOf(e.target)<0)return;e.preventDefault();const t=e.target;null===this.expandedItem||t!==this.expandedItem||!1!==t.expanded?t.expanded&&(null!==this.expandedItem&&this.expandedItem!==t&&(this.expandedItem.expanded=!1),this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.expandedItem=t,this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0")):this.expandedItem=null},this.changeHandler=e=>{if(void 0===this.menuItems)return;const t=e.target,i=this.menuItems.indexOf(t);if(-1!==i&&"menuitemradio"===t.role&&!0===t.checked){for(let e=i-1;e>=0;--e){const t=this.menuItems[e],i=t.getAttribute("role");if(i===d.O.menuitemradio&&(t.checked=!1),"separator"===i)break}const e=this.menuItems.length-1;for(let t=i+1;t<=e;++t){const e=this.menuItems[t],i=e.getAttribute("role");if(i===d.O.menuitemradio&&(e.checked=!1),"separator"===i)break}}},this.isMenuItemElement=e=>e instanceof u.WN||(0,c.Re)(e)&&e.getAttribute("role")in h.focusableElementRoles,this.isFocusableElement=e=>this.isMenuItemElement(e)}itemsChanged(e,t){this.$fastController.isConnected&&void 0!==this.menuItems&&this.setItems()}connectedCallback(){super.connectedCallback(),r.H.enqueue((()=>{this.setItems()})),this.addEventListener("change",this.changeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.removeItemListeners(),this.menuItems=void 0,this.removeEventListener("change",this.changeHandler)}focus(){this.setFocus(0,1)}collapseExpandedItem(){null!==this.expandedItem&&(this.expandedItem.expanded=!1,this.expandedItem=null)}handleMenuKeyDown(e){if(!e.defaultPrevented&&void 0!==this.menuItems)switch(e.key){case l.iF:return void this.setFocus(this.focusIndex+1,1);case l.SB:return void this.setFocus(this.focusIndex-1,-1);case l.Kh:return void this.setFocus(this.menuItems.length-1,-1);case l.tU:return void this.setFocus(0,1);default:return!0}}removeItemListeners(e=this.items){e.forEach((e=>{e.removeEventListener("focus",this.handleItemFocus),e.removeEventListener("expanded-changed",this.handleExpandedChanged),s.y$.getNotifier(e).unsubscribe(this,"hidden")}))}setItems(){const e=Array.from(this.children);this.removeItemListeners(e),e.forEach((e=>s.y$.getNotifier(e).subscribe(this,"hidden")));const t=e.filter((e=>!e.hasAttribute("hidden")));this.menuItems=t;const i=this.menuItems.filter(this.isMenuItemElement);i.length&&(this.focusIndex=0),i.forEach(((e,t)=>{e.setAttribute("tabindex",0===t?"0":"-1"),e.addEventListener("expanded-change",this.handleExpandedChanged),e.addEventListener("focus",this.handleItemFocus)}))}handleChange(e,t){"hidden"===t&&this.setItems()}setFocus(e,t){if(void 0!==this.menuItems)for(;e>=0&&e<this.menuItems.length;){const i=this.menuItems[e];if(this.isFocusableElement(i)){this.focusIndex>-1&&this.menuItems.length>=this.focusIndex-1&&this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=e,i.setAttribute("tabindex","0"),i.focus();break}e+=t}}}h.focusableElementRoles=d.O,(0,o.gn)([s.LO,(0,o.w6)("design:type",Array)],h.prototype,"items",void 0);var p=i(30857),m=i(79406),g=i(27460);class f extends h{setItems(){super.setItems();const e=this.menuItems?.filter(this.isMenuItemElement);e?.forEach(((t,i)=>{const n=e?.reduce(((e,t)=>{const i=f.elementIndent(t);return Math.max(e,i)}),0);t instanceof m.h&&(t.startColumnCount=n)}))}static elementIndent(e){const t=e.getAttribute("role"),i=e.querySelector("[slot=start]");return t&&t!==d.O.menuitem?i?2:1:i?1:0}connectedCallback(){super.connectedCallback(),p.I.setValueFor(this,g.s)}}var v=i(78923),y=i(27186),b=i(62734),w=i(26512),k=i(55135),S=i(40009),C=i(71942);const x=v.i`
    ${(0,y.j)("block")} :host {
        --elevation: 11;
        background: ${p.I};
        border: calc(${w.H} * 1px) solid transparent;
        border-radius: ${k.rS};
        ${b.XC}
        margin: 0;
        border-radius: calc(${k.UW} * 1px);
        padding: calc(${S._5} * 1px) 0;
        max-width: 368px;
        min-width: 64px;
    }

    :host([slot="submenu"]) {
        width: max-content;
        margin: 0 calc(${S._5} * 1px);
    }

    ::slotted(hr) {
        box-sizing: content-box;
        height: 0;
        margin: 0;
        border: none;
        border-top: calc(${w.H} * 1px) solid ${C.dt};
    }
`;var T=i(49218),_=i(47548);const P=T.dy`
        <template
            slot="${e=>e.slot?e.slot:e.isNestedMenu()?"submenu":void 0}"
            role="menu"
            @keydown="${(e,t)=>e.handleMenuKeyDown(t.event)}"
            @focusout="${(e,t)=>e.handleFocusOut(t.event)}"
        >
            <slot ${(0,_.Q)("items")}></slot>
        </template>
    `,A=f.compose({name:`${n.H.prefix}-menu`,template:P,styles:x})},45597:function(e,t,i){"use strict";i.d(t,{G6:function(){return C},O8:function(){return P},Xu:function(){return T},cg:function(){return A},jQ:function(){return x},vt:function(){return _}});var n=i(78923),o=i(27186),a=i(67739),r=i(29717),s=i(22798),c=i(2658),l=i(53131),d=i(27782),u=i(35680),h=i(42689),p=i(55135),m=i(40009),g=i(26512),f=i(17993),v=i(958),y=i(23132),b=i(26741),w=i(26738),k=i(28632),S=i(38665);const C=n.i`
    ${(0,o.j)("inline-flex")} :host {
        font-family: ${l.S};
        outline: none;
        font-size: ${d.c};
        line-height: ${d.R};
        height: calc(${c.i} * 1px);
        min-width: calc(${c.i} * 1px);
        background-color: ${u.wF};
        color: ${h.C};
        border-radius: calc(${p.UW} * 1px);
        fill: currentcolor;
        cursor: pointer;
    }

    .control {
        background: transparent;
        height: inherit;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 calc((10 + (${m._5} * 2 * ${m.hV})) * 1px);
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(${g.H} * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
    }

    .control,
    ::slotted([slot="end"]),
    ::slotted([slot="start"]) {
        font: inherit;
    }

    :host([icon-only]) .control,
    .control.icon-only {
        padding: 0;
        line-height: 0;
    }

    :host(:hover) {
        background-color: ${u.Xi};
    }

    :host(:active) {
        background-color: ${u.Gy};
    }

    ${""}
    .control:${a.b} {
        border: calc(${g.H} * 1px) solid ${f.yG};
        box-shadow: 0 0 0 calc((${g.vx} - ${g.H}) * 1px)
            ${f.yG};
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    .content {
        pointer-events: none;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        pointer-events: none;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        pointer-events: none;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }
`.withBehaviors((0,r.vF)(n.i`
        :host,
        :host([appearance="neutral"]) .control {
          background-color: ${s.H.ButtonFace};
          border-color: ${s.H.ButtonText};
          color: ${s.H.ButtonText};
          fill: currentcolor;
        }

        :host(:not([disabled][href]):hover),
        :host([appearance="neutral"]:not([disabled]):hover) .control {
          forced-color-adjust: none;
          background-color: ${s.H.Highlight};
          color: ${s.H.HighlightText};
        }

        .control:${a.b},
        :host([appearance="outline"]) .control:${a.b},
        :host([appearance="neutral"]:${a.b}) .control {
          forced-color-adjust: none;
          background-color: ${s.H.Highlight};
          border-color: ${s.H.ButtonText};
          box-shadow: 0 0 0 calc((${g.vx} - ${g.H}) * 1px) ${s.H.ButtonText};
          color: ${s.H.HighlightText};
        }

        .control:not([disabled]):hover,
        :host([appearance="outline"]) .control:hover {
          border-color: ${s.H.ButtonText};
        }

        :host([href]) .control {
          border-color: ${s.H.LinkText};
          color: ${s.H.LinkText};
        }

        :host([href]) .control:hover,
        :host(.neutral[href]) .control:hover,
        :host(.outline[href]) .control:hover,
        :host([href]) .control:${a.b}{
          forced-color-adjust: none;
          background: ${s.H.ButtonFace};
          border-color: ${s.H.LinkText};
          box-shadow: 0 0 0 1px ${s.H.LinkText} inset;
          color: ${s.H.LinkText};
          fill: currentcolor;
        }
    `)),x=n.i`
    :host([appearance="accent"]) {
        background: ${v.Av};
        color: ${y.w4};
    }

    :host([appearance="accent"]:hover) {
        background: ${v.OC};
        color: ${y.lJ};
    }

    :host([appearance="accent"]:active) .control:active {
        background: ${v.UE};
        color: ${y.Pp};
    }

    :host([appearance="accent"]) .control:${a.b} {
        box-shadow: 0 0 0 calc(${g.vx} * 1px) inset ${b.a2},
            0 0 0 calc((${g.vx} - ${g.H}) * 1px) ${f.yG};
    }
`.withBehaviors((0,r.vF)(n.i`
            :host([appearance="accent"]) .control {
                forced-color-adjust: none;
                background: ${s.H.Highlight};
                color: ${s.H.HighlightText};
            }

            :host([appearance="accent"]) .control:hover,
            :host([appearance="accent"]:active) .control:active {
                background: ${s.H.HighlightText};
                border-color: ${s.H.Highlight};
                color: ${s.H.Highlight};
            }

            :host([appearance="accent"]) .control:${a.b} {
                border-color: ${s.H.ButtonText};
                box-shadow: 0 0 0 2px ${s.H.HighlightText} inset;
            }

            :host([appearance="accent"][href]) .control {
                background: ${s.H.LinkText};
                color: ${s.H.HighlightText};
            }

            :host([appearance="accent"][href]) .control:hover {
                background: ${s.H.ButtonFace};
                border-color: ${s.H.LinkText};
                box-shadow: none;
                color: ${s.H.LinkText};
                fill: currentcolor;
            }

            :host([appearance="accent"][href]) .control:${a.b} {
                border-color: ${s.H.LinkText};
                box-shadow: 0 0 0 2px ${s.H.HighlightText} inset;
            }
        `)),T=n.i`
    :host([appearance="hypertext"]) {
        height: auto;
        font-size: inherit;
        line-height: inherit;
        background: transparent;
        min-width: 0;
    }

    :host([appearance="hypertext"]) .control {
        display: inline;
        padding: 0;
        border: none;
        box-shadow: none;
        border-radius: 0;
        line-height: 1;
    }
    :host a.control:not(:link) {
        background-color: transparent;
        cursor: default;
    }
    :host([appearance="hypertext"]) .control:link,
    :host([appearance="hypertext"]) .control:visited {
        background: transparent;
        color: ${w.go};
        border-bottom: calc(${g.H} * 1px) solid ${w.go};
    }
    :host([appearance="hypertext"]) .control:hover {
        border-bottom-color: ${w.D9};
    }
    :host([appearance="hypertext"]) .control:active {
        border-bottom-color: ${w.VN};
    }
    :host([appearance="hypertext"]) .control:${a.b} {
        border-bottom: calc(${g.vx} * 1px) solid ${f.yG};
        margin-bottom: calc(calc(${g.H} - ${g.vx}) * 1px);
    }
`.withBehaviors((0,r.vF)(n.i`
            :host([appearance="hypertext"]) .control:${a.b} {
                color: ${s.H.LinkText};
                border-bottom-color: ${s.H.LinkText};
            }
        `)),_=n.i`
    :host([appearance="lightweight"]) {
        background: transparent;
        color: ${w.go};
    }

    :host([appearance="lightweight"]) .control {
        padding: 0;
        height: initial;
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    :host([appearance="lightweight"]:hover) {
        color: ${w.D9};
    }

    :host([appearance="lightweight"]:active) {
        color: ${w.VN};
    }

    :host([appearance="lightweight"]) .content {
        position: relative;
    }

    :host([appearance="lightweight"]) .content::before {
        content: "";
        display: block;
        height: calc(${g.H} * 1px);
        position: absolute;
        top: calc(1em + 3px);
        width: 100%;
    }

    :host([appearance="lightweight"]:hover) .content::before {
        background: ${w.D9};
    }

    :host([appearance="lightweight"]:active) .content::before {
        background: ${w.VN};
    }

    :host([appearance="lightweight"]) .control:${a.b} .content::before {
        background: ${h.C};
        height: calc(${g.vx} * 1px);
    }
`.withBehaviors((0,r.vF)(n.i`
            :host([appearance="lightweight"]) {
                color: ${s.H.ButtonText};
            }
            :host([appearance="lightweight"]) .control:hover,
        :host([appearance="lightweight"]) .control:${a.b} {
                forced-color-adjust: none;
                background: ${s.H.ButtonFace};
                color: ${s.H.Highlight};
            }
            :host([appearance="lightweight"]) .control:hover .content::before,
        :host([appearance="lightweight"]) .control:${a.b} .content::before {
                background: ${s.H.Highlight};
            }

            :host([appearance="lightweight"][href]) .control:hover,
        :host([appearance="lightweight"][href]) .control:${a.b} {
                background: ${s.H.ButtonFace};
                box-shadow: none;
                color: ${s.H.LinkText};
            }

            :host([appearance="lightweight"][href]) .control:hover .content::before,
        :host([appearance="lightweight"][href]) .control:${a.b} .content::before {
                background: ${s.H.LinkText};
            }
        `)),P=n.i`
    :host([appearance="outline"]) {
        background: transparent;
        border-color: ${k.ak};
    }

    :host([appearance="outline"]:hover) {
        border-color: ${k.QP};
    }

    :host([appearance="outline"]:active) {
        border-color: ${k.c1};
    }

    :host([appearance="outline"]) .control {
        border-color: inherit;
    }

    :host([appearance="outline"]) .control:${a.b} {
        box-shadow: 0 0 0 calc((${g.vx} - ${g.H}) * 1px)
            ${f.yG};
        border-color: ${f.yG};
    }
`.withBehaviors((0,r.vF)(n.i`
            :host([appearance="outline"]) {
                border-color: ${s.H.ButtonText};
            }
            :host([appearance="outline"][href]) {
                border-color: ${s.H.LinkText};
            }
        `)),A=n.i`
    :host([appearance="stealth"]) {
        background: ${S.jq};
    }

    :host([appearance="stealth"]:hover) {
        background: ${S.Qp};
    }

    :host([appearance="stealth"]:active) {
        background: ${S.sG};
    }
`.withBehaviors((0,r.vF)(n.i`
            :host([appearance="stealth"]),
            :host([appearance="stealth"]) .control {
                forced-color-adjust: none;
                background: ${s.H.ButtonFace};
                border-color: transparent;
                color: ${s.H.ButtonText};
                fill: currentcolor;
            }

            :host([appearance="stealth"]:hover) .control {
                background: ${s.H.Highlight};
                border-color: ${s.H.Highlight};
                color: ${s.H.HighlightText};
                fill: currentcolor;
            }

            :host([appearance="stealth"]:${a.b}) .control {
                background: ${s.H.Highlight};
                box-shadow: 0 0 0 1px ${s.H.Highlight};
                color: ${s.H.HighlightText};
                fill: currentcolor;
            }

            :host([appearance="stealth"][href]) .control {
                color: ${s.H.LinkText};
            }

            :host([appearance="stealth"]:hover[href]) .control,
        :host([appearance="stealth"]:${a.b}[href]) .control {
                background: ${s.H.LinkText};
                border-color: ${s.H.LinkText};
                color: ${s.H.HighlightText};
                fill: currentcolor;
            }

            :host([appearance="stealth"]:${a.b}[href]) .control {
                box-shadow: 0 0 0 1px ${s.H.LinkText};
            }
        `))},94352:function(e,t,i){"use strict";i.d(t,{D:function(){return H}});var n=i(33940),o=i(42590),a=i(99452),r=i(94537),s=i(28904),c=i(23526);class l extends s.H{}class d extends((0,c.V2)(l)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class u extends d{constructor(){super(),this.initialValue="on",this.keypressHandler=e=>{if(!this.readOnly)switch(e.key){case r.kL:case r.BI:this.checked=!this.checked}},this.clickHandler=e=>{this.disabled||this.readOnly||(this.checked=!this.checked)},this.proxy.setAttribute("type","checkbox")}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly),this.readOnly?this.classList.add("readonly"):this.classList.remove("readonly")}checkedChanged(e,t){super.checkedChanged(e,t),this.checked?this.classList.add("checked"):this.classList.remove("checked")}}(0,n.gn)([(0,o.Lj)({attribute:"readonly",mode:"boolean"}),(0,n.w6)("design:type",Boolean)],u.prototype,"readOnly",void 0),(0,n.gn)([a.LO,(0,n.w6)("design:type",Array)],u.prototype,"defaultSlottedNodes",void 0);var h=i(63070),p=i(78923),m=i(27186),g=i(24484),f=i(67739),v=i(29717),y=i(22798),b=i(2658),w=i(22674),k=i(53131),S=i(40009),C=i(10970),x=i(14478),T=i(26512),_=i(60184),P=i(30857),A=i(17993),I=i(42689),$=i(27782),M=i(23132),D=i(958);const N=p.i`
    :host([hidden]) {
        display: none;
    }

    ${(0,m.j)("inline-flex")} :host {
        align-items: center;
        outline: none;
        font-family: ${k.S};
        margin: calc(${S._5} * 1px) 0;
        ${""} user-select: none;
    }

    :host([disabled]) {
        opacity: ${C.V};
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .switch,
    :host([disabled]) .switch {
        cursor: ${g.H};
    }

    .switch {
        position: relative;
        outline: none;
        box-sizing: border-box;
        width: calc(((${b.i} / 2) + ${S._5}) * 2px);
        height: calc(((${b.i} / 2) + ${S._5}) * 1px);
        background: ${x._B};
        border-radius: calc(${b.i} * 1px);
        border: calc(${T.H} * 1px) solid ${_.rU};
    }

    :host(:enabled) .switch:hover {
        background: ${x.Tm};
        border-color: ${_.gK};
        cursor: pointer;
    }

    :host(:enabled) .switch:active {
        background: ${x.Iu};
        border-color: ${_.ek};
    }

    :host(:${f.b}) .switch {
        box-shadow: 0 0 0 2px ${P.I}, 0 0 0 4px ${A.yG};
        border-color: ${A.yG};
    }

    .checked-indicator {
        position: absolute;
        height: calc((${b.i} - (${S._5} * 5.5)) * 1px);
        width: calc((${b.i} - (${S._5} * 5.5)) * 1px);
        top: calc(${S._5} * 1px);
        background: ${I.C};
        border-radius: 50%;
        transition: all 0.2s ease-in-out;
    }

    .status-message {
        color: ${I.C};
        cursor: pointer;
        font-size: ${$.c};
        line-height: ${$.R};
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .label {
        color: ${I.C};
        font-size: ${$.c};
        line-height: ${$.R};
        margin-inline-end: calc(${S._5} * 2px + 2px);
        cursor: pointer;
    }

    ::slotted(*) {
        ${""} margin-inline-start: calc(${S._5} * 2px + 2px);
    }

    :host([aria-checked="true"]) .checked-indicator {
        background: ${M.w4};
    }

    :host([aria-checked="true"]) .switch {
        background: ${D.Av};
    }

    :host([aria-checked="true"]:enabled) .switch:hover {
        background: ${D.OC};
    }

    :host([aria-checked="true"]:enabled) .switch:hover .checked-indicator {
        background: ${M.lJ};
    }

    :host([aria-checked="true"]:enabled) .switch:active {
        background: ${D.UE};
    }

    :host([aria-checked="true"]:enabled) .switch:active .checked-indicator {
        background: ${M.Pp};
    }

    :host([aria-checked="true"]:${f.b}:enabled) .switch {
        box-shadow: 0 0 0 2px ${P.I}, 0 0 0 4px ${A.yG};
        border-color: transparent;
    }

    .unchecked-message {
        display: block;
    }

    .checked-message {
        display: none;
    }

    :host([aria-checked="true"]) .unchecked-message {
        display: none;
    }

    :host([aria-checked="true"]) .checked-message {
        display: block;
    }
`.withBehaviors(new w.O(p.i`
            .checked-indicator {
                left: calc(${S._5} * 1px);
            }

            :host([aria-checked="true"]) .checked-indicator {
                left: calc(
                    (((${b.i} / 2) + ${S._5}) + ${S._5}) * 1px
                );
            }
        `,p.i`
            .checked-indicator {
                right: calc(${S._5} * 1px);
            }

            :host([aria-checked="true"]) .checked-indicator {
                right: calc(
                    (((${b.i} / 2) + ${S._5}) + ${S._5}) * 1px
                );
            }
        `),(0,v.vF)(p.i`
            .checked-indicator,
            :host(:enabled) .switch:active .checked-indicator {
                forced-color-adjust: none;
                background: ${y.H.FieldText};
            }
            .switch {
                forced-color-adjust: none;
                background: ${y.H.Field};
                border-color: ${y.H.FieldText};
            }
            :host(:enabled) .switch:hover {
                background: ${y.H.HighlightText};
                border-color: ${y.H.Highlight};
            }
            :host([aria-checked="true"]) .switch {
                background: ${y.H.Highlight};
                border-color: ${y.H.Highlight};
            }
            :host([aria-checked="true"]:enabled) .switch:hover,
            :host(:enabled) .switch:active {
                background: ${y.H.HighlightText};
                border-color: ${y.H.Highlight};
            }
            :host([aria-checked="true"]) .checked-indicator {
                background: ${y.H.HighlightText};
            }
            :host([aria-checked="true"]:enabled) .switch:hover .checked-indicator {
                background: ${y.H.Highlight};
            }
            :host(:${f.b}) .switch {
                border-color: ${y.H.Highlight};
                box-shadow: 0 0 0 2px ${y.H.Field},
                    0 0 0 4px ${y.H.FieldText};
            }
            :host([aria-checked="true"]:${f.b}:enabled) .switch {
                box-shadow: 0 0 0 2px ${y.H.Field},
                    0 0 0 4px ${y.H.FieldText};
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .checked-indicator {
                background: ${y.H.GrayText};
            }
            :host([disabled]) .switch {
                background: ${y.H.Field};
                border-color: ${y.H.GrayText};
            }
            .status-message,
            .label {
                color: ${y.H.FieldText};
            }
        `));var E=i(49218),R=i(47548),O=i(17503);const L=function(e={}){return E.dy`
        <template
            role="switch"
            aria-checked="${e=>e.checked}"
            aria-disabled="${e=>e.disabled}"
            aria-readonly="${e=>e.readOnly}"
            tabindex="${e=>e.disabled?null:0}"
            @keypress="${(e,t)=>e.keypressHandler(t.event)}"
            @click="${(e,t)=>e.clickHandler(t.event)}"
        >
            <label
                part="label"
                class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"
            >
                <slot ${(0,R.Q)("defaultSlottedNodes")}></slot>
            </label>
            <div part="switch" class="switch">
                <slot name="switch">${(0,O.A)(e.switch)}</slot>
            </div>
            <span class="status-message" part="status-message">
                <span class="checked-message" part="checked-message">
                    <slot name="checked-message"></slot>
                </span>
                <span class="unchecked-message" part="unchecked-message">
                    <slot name="unchecked-message"></slot>
                </span>
            </span>
        </template>
    `}({switch:E.dy`
        <span class="checked-indicator" part="checked-indicator"></span>
    `});const H=class extends u{}.compose({name:`${h.H.prefix}-switch`,template:L,styles:N})},82636:function(e,t,i){"use strict";i.d(t,{H:function(){return o}});var n=i(81239);function o(e,t){return new n.w("appearance",e,t)}},53131:function(e,t,i){"use strict";i.d(t,{S:function(){return a}});var n=i(52704);const{create:o}=n.L,a=o("body-font","Segoe UI, Segoe UI Midlevel, sans-serif")},958:function(e,t,i){"use strict";i.d(t,{UE:function(){return m},D8:function(){return g},OC:function(){return p},Av:function(){return h}});var n=i(52704);var o=i(30857),a=i(20246),r=i(56837),s=i(47999),c=i(30363),l=i(94806);const{create:d}=n.L,u=d({name:"accent-fill-recipe"},{evaluate:(e,t)=>(l.v.normal,(e,t)=>function(e,t,i,n,o,a,r,s,c){const l=e.source,d=e.closestIndexOf(l),u=d+1*n,h=d+1*o,p=d+1*a;return{rest:e.get(d),hover:e.get(u),active:e.get(h),focus:e.get(p)}}(e(c.a),e(r.y),t||e(o.I),e(s.B2),e(s.Wo),e(s.v$),e(a.MY),e(a.jW),e(a.hD)))(e,t)}),h=d("accent-fill-rest",(e=>e(u).evaluate(e).rest)),p=d("accent-fill-hover",(e=>e(u).evaluate(e).hover)),m=d("accent-fill-active",(e=>e(u).evaluate(e).active)),g=d("accent-fill-focus",(e=>e(u).evaluate(e).focus))},26738:function(e,t,i){"use strict";i.d(t,{VN:function(){return m},D9:function(){return p},go:function(){return h}});var n=i(52704),o=i(64087);var a=i(30857),r=i(18681),s=i(30363),c=i(94806);const{create:l}=n.L,d=e=>(t,i)=>function(e,t,i,n,a,r,s){const c=e.source,l=e.closestIndexOf(c),d=(0,o.a)(t),u=l+(1===d?Math.min(n,a):Math.max(d*n,d*a)),h=e.colorContrast(t,i,u,d),p=e.closestIndexOf(h),m=p+d*Math.abs(n-a);let g,f;return(1===d?n<a:d*n>d*a)?(g=p,f=m):(g=m,f=p),{rest:e.get(g),hover:e.get(f),active:e.get(g+d*r),focus:e.get(g+d*s)}}(t(s.a),i||t(a.I),e,t(r.kp),t(r.L8),t(r.kb),t(r.nd)),u=l({name:"accent-foreground-recipe"},{evaluate:(e,t)=>d(c.v.normal)(e,t)}),h=l("accent-foreground-rest",(e=>e(u).evaluate(e).rest)),p=l("accent-foreground-hover",(e=>e(u).evaluate(e).hover)),m=l("accent-foreground-active",(e=>e(u).evaluate(e).active));l("accent-foreground-focus",(e=>e(u).evaluate(e).focus))},94806:function(e,t,i){"use strict";i.d(t,{v:function(){return n}});const n={normal:4.5,large:7}},23132:function(e,t,i){"use strict";i.d(t,{Pp:function(){return h},$u:function(){return p},lJ:function(){return u},w4:function(){return d}});var n=i(52704),o=i(958),a=i(94806),r=i(56185);const s=e=>(t,i)=>function(e,t){return e.contrast(r.ix)>=t?r.ix:r.Sn}(i||t(o.Av),e),{create:c}=n.L,l=c({name:"foreground-on-accent-recipe"},{evaluate:(e,t)=>s(a.v.normal)(e,t)}),d=c("foreground-on-accent-rest",(e=>e(l).evaluate(e,e(o.Av)))),u=c("foreground-on-accent-hover",(e=>e(l).evaluate(e,e(o.OC)))),h=c("foreground-on-accent-active",(e=>e(l).evaluate(e,e(o.UE)))),p=c("foreground-on-accent-focus",(e=>e(l).evaluate(e,e(o.D8))))},26741:function(e,t,i){"use strict";i.d(t,{a2:function(){return d}});var n=i(52704),o=i(27153),a=i(30857),r=i(30363),s=i(17993);const{create:c}=n.L,l=c({name:"focus-stroke-inner-recipe"},{evaluate:e=>(0,o.a)(e(r.a),e(a.I),e(s.yG))}),d=c("focus-stroke-inner",(e=>e(l).evaluate(e)))},17993:function(e,t,i){"use strict";i.d(t,{F7:function(){return d},yG:function(){return l}});var n=i(52704),o=i(27153),a=i(30857),r=i(56837);const{create:s}=n.L,c=s({name:"focus-stroke-outer-recipe"},{evaluate:e=>(0,o.y)(e(r.y),e(a.I))}),l=s("focus-stroke-outer",(e=>e(c).evaluate(e))),d=l},14478:function(e,t,i){"use strict";i.d(t,{Iu:function(){return h},Tm:function(){return u},_B:function(){return d}});var n=i(52704),o=i(64087);var a=i(30857),r=i(37939),s=i(56837);const{create:c}=n.L,l=c({name:"neutral-fill-input-recipe"},{evaluate:(e,t)=>function(e,t,i,n,a,r){const s=(0,o.a)(t),c=e.closestIndexOf(t);return{rest:e.get(c-s*i),hover:e.get(c-s*n),active:e.get(c-s*a),focus:e.get(c-s*r)}}(e(s.y),t||e(a.I),e(r.ef),e(r.EL),e(r.q_),e(r.Zb))}),d=c("neutral-fill-input-rest",(e=>e(l).evaluate(e).rest)),u=c("neutral-fill-input-hover",(e=>e(l).evaluate(e).hover)),h=c("neutral-fill-input-active",(e=>e(l).evaluate(e).active));c("neutral-fill-input-focus",(e=>e(l).evaluate(e).focus))},38665:function(e,t,i){"use strict";i.d(t,{sG:function(){return h},Qp:function(){return u},DF:function(){return l},jq:function(){return d}});var n=i(52704);var o=i(30857),a=i(20246),r=i(12600),s=i(56837);const{create:c}=n.L,l=c({name:"neutral-fill-stealth-recipe"},{evaluate:(e,t)=>function(e,t,i,n,o,a,r,s,c,l){const d=Math.max(i,n,o,a,r,s,c,l),u=e.closestIndexOf(t),h=u>=d?-1:1;return{rest:e.get(u+h*i),hover:e.get(u+h*n),active:e.get(u+h*o),focus:e.get(u+h*a)}}(e(s.y),t||e(o.I),e(r.qD),e(r.fq),e(r.gs),e(r.IU),e(a.MY),e(a.jW),e(a.hD),e(a.VQ))}),d=c("neutral-fill-stealth-rest",(e=>e(l).evaluate(e).rest)),u=c("neutral-fill-stealth-hover",(e=>e(l).evaluate(e).hover)),h=c("neutral-fill-stealth-active",(e=>e(l).evaluate(e).active));c("neutral-fill-stealth-focus",(e=>e(l).evaluate(e).focus))},35680:function(e,t,i){"use strict";i.d(t,{Gy:function(){return u},Xi:function(){return d},At:function(){return c},wF:function(){return l}});var n=i(52704);var o=i(30857),a=i(20246),r=i(56837);const{create:s}=n.L,c=s({name:"neutral-fill-recipe"},{evaluate:(e,t)=>function(e,t,i,n,o,a){const r=e.closestIndexOf(t),s=r>=Math.max(i,n,o,a)?-1:1;return{rest:e.get(r+s*i),hover:e.get(r+s*n),active:e.get(r+s*o),focus:e.get(r+s*a)}}(e(r.y),t||e(o.I),e(a.MY),e(a.jW),e(a.hD),e(a.VQ))}),l=s("neutral-fill-rest",(e=>e(c).evaluate(e).rest)),d=s("neutral-fill-hover",(e=>e(c).evaluate(e).hover)),u=s("neutral-fill-active",(e=>e(c).evaluate(e).active));s("neutral-fill-focus",(e=>e(c).evaluate(e).focus))},74449:function(e,t,i){"use strict";i.d(t,{Q:function(){return c}});var n=i(52704);var o=i(30857),a=i(56837);const{create:r}=n.L,s=r({name:"neutral-foreground-hint-recipe"},{evaluate:e=>{return t=e(a.y),i=e(o.I),t.colorContrast(i,4.5);var t,i}}),c=r("neutral-foreground-hint",(e=>e(s).evaluate(e)))},27460:function(e,t,i){"use strict";i.d(t,{s:function(){return d}});var n=i(52704),o=i(78125);var a=i(84659),r=i(72582),s=i(56837);const{create:c}=n.L,l=c({name:"neutral-layer-floating-recipe"},{evaluate:e=>function(e,t,i){const n=e.closestIndexOf((0,o.C)(t))-i;return e.get(n-i)}(e(s.y),e(r.q),e(a.Y))}),d=c("neutral-layer-floating",(e=>e(l).evaluate(e)))},71942:function(e,t,i){"use strict";i.d(t,{eN:function(){return u},dt:function(){return d}});var n=i(52704),o=i(64087);var a=i(30857),r=i(14744),s=i(56837);const{create:c}=n.L,l=c({name:"neutral-stroke-divider-recipe"},{evaluate:(e,t)=>function(e,t,i){return e.get(e.closestIndexOf(t)+(0,o.a)(t)*i)}(e(s.y),t||e(a.I),e(r.h))}),d=c("neutral-stroke-divider-rest",(e=>e(l).evaluate(e))),u=d},60184:function(e,t,i){"use strict";i.d(t,{ek:function(){return g},gK:function(){return m},rU:function(){return p}});var n=i(52704),o=i(64087);var a=i(30857);const{create:r}=n.L,s=r("neutral-stroke-strong-hover-delta",40),c=r("neutral-stroke-strong-active-delta",16),l=r("neutral-stroke-strong-focus-delta",25);var d=i(56837);const{create:u}=n.L,h=u({name:"neutral-stroke-strong-recipe"},{evaluate:e=>function(e,t,i,n,a,r){const s=(0,o.a)(t),c=e.colorContrast(t,i),l=e.closestIndexOf(c);return{rest:c,hover:e.get(l+s*n),active:e.get(l+s*a),focus:e.get(l+s*r)}}(e(d.y),e(a.I),3,e(s),e(c),e(l))}),p=u("neutral-stroke-strong-rest",(e=>e(h).evaluate(e).rest)),m=u("neutral-stroke-strong-hover",(e=>e(h).evaluate(e).hover)),g=u("neutral-stroke-strong-active",(e=>e(h).evaluate(e).active));u("neutral-stroke-strong-focus",(e=>e(h).evaluate(e).focus))},28632:function(e,t,i){"use strict";i.d(t,{c1:function(){return h},V0:function(){return p},QP:function(){return u},ak:function(){return d}});var n=i(52704),o=i(64087);var a=i(30857),r=i(59845),s=i(56837);const{create:c}=n.L,l=c({name:"neutral-stroke-recipe"},{evaluate:e=>function(e,t,i,n,a,r){const s=e.closestIndexOf(t),c=(0,o.a)(t),l=s+c*i,d=l+c*(n-i),u=l+c*(a-i),h=l+c*(r-i);return{rest:e.get(l),hover:e.get(d),active:e.get(u),focus:e.get(h)}}(e(s.y),e(a.I),e(r.fd),e(r.rn),e(r.IM),e(r.Bx))}),d=c("neutral-stroke-rest",(e=>e(l).evaluate(e).rest)),u=c("neutral-stroke-hover",(e=>e(l).evaluate(e).hover)),h=c("neutral-stroke-active",(e=>e(l).evaluate(e).active)),p=c("neutral-stroke-focus",(e=>e(l).evaluate(e).focus))},22674:function(e,t,i){"use strict";i.d(t,{O:function(){return a}});var n=i(58968),o=i(66779);class a{constructor(e,t){this.cache=new WeakMap,this.ltr=e,this.rtl=t}connectedCallback(e){n.H.enqueue((()=>{this.attach(e.source)}))}disconnectedCallback(e){const t=this.cache.get(e.source);t&&o.o.unsubscribe(t)}attach(e){const t=this.cache.get(e)||new r(this.ltr,this.rtl,e),i=o.o.getValueFor(e);o.o.subscribe(t),t.attach(i),this.cache.set(e,t)}}class r{constructor(e,t,i){this.ltr=e,this.rtl=t,this.source=i,this.attached=null}handleChange(e,t){this.attach("default"===t.target?e.default:e.getValueFor(t.target))}attach(e){this.attached!==this[e]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[e],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}},62734:function(e,t,i){"use strict";i.d(t,{XC:function(){return n}});const n="box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))));"},2658:function(e,t,i){"use strict";i.d(t,{i:function(){return a}});var n=i(78923),o=i(40009);const a=n.j`(${o.nf} + ${o.hV}) * ${o._5}`},23526:function(e,t,i){"use strict";i.d(t,{Um:function(){return h},V2:function(){return p}});var n=i(89522),o=i(58968),a=i(42590),r=i(99452),s=i(94537);const c="form-associated-proxy",l="ElementInternals",d=l in window&&"setFormValue"in window[l].prototype,u=new WeakMap;function h(e){const t=class extends e{constructor(...e){super(...e),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return d}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const e=this.proxy.labels,t=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=e?t.concat(Array.from(e)):t;return Object.freeze(i)}return n.ow}valueChanged(e,t){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),o.H.enqueue((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),o.H.enqueue((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!d)return null;let e=u.get(this);return e||(e=this.attachInternals(),u.set(this,e)),e}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach((e=>this.proxy.removeEventListener(e,this.stopPropagation))),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(e,t,i){this.elementInternals?this.elementInternals.setValidity(e,t,i):"string"==typeof t&&this.proxy.setCustomValidity(t)}formDisabledCallback(e){this.disabled=e}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((e=>this.proxy.addEventListener(e,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",c),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",c)),this.shadowRoot?.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){this.removeChild(this.proxy),this.shadowRoot?.removeChild(this.proxySlot)}validate(e){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,e)}setFormValue(e,t){this.elementInternals&&this.elementInternals.setFormValue(e,t||e)}_keypressHandler(e){if(e.key===s.kL)if(this.form instanceof HTMLFormElement){const e=this.form.querySelector("[type=submit]");e?.click()}}stopPropagation(e){e.stopPropagation()}};return(0,a.Lj)({mode:"boolean"})(t.prototype,"disabled"),(0,a.Lj)({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),(0,a.Lj)({attribute:"current-value"})(t.prototype,"currentValue"),(0,a.Lj)(t.prototype,"name"),(0,a.Lj)({mode:"boolean"})(t.prototype,"required"),(0,r.LO)(t.prototype,"value"),t}function p(e){class t extends(h(e)){}class i extends t{constructor(...e){super(e),this.dirtyChecked=!1,this.checkedAttribute=!1,this.checked=!1,this.dirtyChecked=!1}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(e,t){this.dirtyChecked||(this.dirtyChecked=!0),this.currentChecked=this.checked,this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),void 0!==e&&this.$emit("change"),this.validate()}currentCheckedChanged(e,t){this.checked=this.currentChecked}updateForm(){const e=this.checked?this.value:null;this.setFormValue(e,e)}connectedCallback(){super.connectedCallback(),this.updateForm()}formResetCallback(){super.formResetCallback(),this.checked=!!this.checkedAttribute,this.dirtyChecked=!1}}return(0,a.Lj)({attribute:"checked",mode:"boolean"})(i.prototype,"checkedAttribute"),(0,a.Lj)({attribute:"current-checked",converter:a.bw})(i.prototype,"currentChecked"),(0,r.LO)(i.prototype,"defaultChecked"),(0,r.LO)(i.prototype,"checked"),i}},41034:function(e,t,i){"use strict";i.d(t,{WN:function(){return m}});var n=i(33940),o=i(50123),a=i(50937),r=i(28904),s=i(58968),c=i(42590),l=i(99452),d=i(94537),u=i(33818),h=i(31289),p=i(12695);class m extends r.H{constructor(){super(...arguments),this.role=p.O.menuitem,this.focusSubmenuOnLoad=!1,this.handleMenuItemKeyDown=e=>{if(e.defaultPrevented)return!1;switch(e.key){case d.kL:case d.BI:return this.invoke(),!1;case d.mr:return this.expandAndFocus(),!1;case d.CX:case d.BE:if(this.expanded)return this.closeSubMenu(),!1}return!0},this.handleMenuItemClick=e=>(e.defaultPrevented||this.disabled||this.invoke(),!1),this.submenuLoaded=()=>{this.focusSubmenuOnLoad&&(this.focusSubmenuOnLoad=!1,this.submenu&&(this.submenu.focus(),this.setAttribute("tabindex","-1")))},this.handleMouseOver=e=>(this.disabled||!this.hasSubmenu||this.expanded||(this.expanded=!0),!1),this.handleMouseOut=e=>(!this.expanded||this.contains(document.activeElement)||(this.expanded=!1),!1),this.closeSubMenu=()=>{this.expanded=!1,this.focus()},this.expandAndFocus=()=>{this.hasSubmenu&&(this.focusSubmenuOnLoad=!0,this.expanded=!0)},this.invoke=()=>{if(!this.disabled)switch(this.role){case p.O.menuitemcheckbox:this.checked=!this.checked;break;case p.O.menuitem:if(this.hasSubmenu){this.expandAndFocus();break}this.$emit("change");break;case p.O.menuitemradio:this.checked||(this.checked=!0)}}}expandedChanged(e,t){this.$fastController.isConnected&&(t&&this.submenu&&this.updateSubmenu(),this.$emit("expanded-change",this,{bubbles:!1}))}checkedChanged(e,t){this.$fastController.isConnected&&this.$emit("change")}get hasSubmenu(){return!!this.submenu}slottedSubmenuChanged(e,t){t.length&&(this.submenu=t[0],this.updateSubmenu())}disconnectedCallback(){this.cleanup?.(),super.disconnectedCallback()}updateSubmenu(){this.cleanup?.(),this.submenu&&this.expanded&&s.H.enqueue((()=>{this.cleanup=(0,o.Me)(this,this.submenuContainer,(async()=>{const e=["left-start","right-start"],{x:t,y:i}=await(0,o.oo)(this,this.submenuContainer,{middleware:[(0,a.uY)(),(0,a.dp)({apply:({availableWidth:t,rects:i})=>{t<i.floating.width&&e.push("bottom-end","top-end")}}),(0,a.RR)({fallbackPlacements:e})],placement:"right-start",strategy:"fixed"});Object.assign(this.submenuContainer.style,{left:`${t}px`,position:"fixed",top:`${i}px`}),this.submenuLoaded()}))}))}}(0,n.gn)([(0,c.Lj)({mode:"boolean"}),(0,n.w6)("design:type",Boolean)],m.prototype,"disabled",void 0),(0,n.gn)([(0,c.Lj)({mode:"boolean"}),(0,n.w6)("design:type",Boolean)],m.prototype,"expanded",void 0),(0,n.gn)([c.Lj,(0,n.w6)("design:type",String)],m.prototype,"role",void 0),(0,n.gn)([(0,c.Lj)({mode:"boolean"}),(0,n.w6)("design:type",Boolean)],m.prototype,"checked",void 0),(0,n.gn)([(0,c.Lj)({mode:"boolean"}),(0,n.w6)("design:type",Boolean)],m.prototype,"hidden",void 0),(0,n.gn)([l.LO,(0,n.w6)("design:type",Array)],m.prototype,"slottedSubmenu",void 0),(0,n.gn)([l.LO,(0,n.w6)("design:type",Object)],m.prototype,"submenu",void 0),(0,h.e)(m,u.hW)},12695:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});const n={menuitem:"menuitem",menuitemcheckbox:"menuitemcheckbox",menuitemradio:"menuitemradio"};n.menuitem,n.menuitemcheckbox,n.menuitemradio},33714:function(e,t,i){"use strict";i.d(t,{v:function(){return a}});var n=i(33940),o=i(42590);class a{}(0,n.gn)([(0,o.Lj)({attribute:"aria-atomic"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaAtomic",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-busy"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaBusy",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-controls"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaControls",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-current"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaCurrent",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-describedby"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaDescribedby",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-details"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaDetails",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-disabled"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaDisabled",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-errormessage"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaErrormessage",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-flowto"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaFlowto",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-haspopup"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaHaspopup",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-hidden"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaHidden",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-invalid"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaInvalid",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-keyshortcuts"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaKeyshortcuts",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-label"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaLabel",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-labelledby"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaLabelledby",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-live"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaLive",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-owns"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaOwns",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-relevant"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaRelevant",void 0),(0,n.gn)([(0,o.Lj)({attribute:"aria-roledescription"}),(0,n.w6)("design:type",Object)],a.prototype,"ariaRoledescription",void 0)},33818:function(e,t,i){"use strict";i.d(t,{LC:function(){return s},hW:function(){return r},m9:function(){return c}});var n=i(49218),o=i(41472),a=i(17503);class r{}function s(e){return n.dy`
        <slot name="end" ${(0,o.i)("end")}>${(0,a.A)(e.end)}</slot>
    `.inline()}function c(e){return n.dy`
        <slot name="start" ${(0,o.i)("start")}>${(0,a.A)(e.start)}</slot>
    `.inline()}},31289:function(e,t,i){"use strict";i.d(t,{e:function(){return o}});var n=i(42590);function o(e,...t){const i=n.Ax.locate(e);t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((i=>{"constructor"!==i&&Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i))}));n.Ax.locate(t).forEach((e=>i.push(e)))}))}},81239:function(e,t,i){"use strict";i.d(t,{w:function(){return o}});var n=i(99452);class o{constructor(e,t,i){this.propertyName=e,this.value=t,this.styles=i}addedCallback(e){n.y$.getNotifier(e.source).subscribe(this,this.propertyName),this.handleChange(e.source,this.propertyName)}removedCallback(e){n.y$.getNotifier(e.source).unsubscribe(this,this.propertyName),e.removeStyles(this.styles)}handleChange(e,t){const i=e.$fastController;e[t]===this.value?i.addStyles(this.styles):i.removeStyles(this.styles)}}},24484:function(e,t,i){"use strict";i.d(t,{H:function(){return n}});const n="not-allowed"},67739:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});const n="focus-visible"},17503:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var n=i(49218);function o(e){return e?"string"==typeof e?new n.Sy(e):"inline"in e?e.inline():e:n.Sy.empty}},50937:function(e,t,i){"use strict";function n(e){return e.split("-")[0]}function o(e){return e.split("-")[1]}function a(e){return["top","bottom"].includes(n(e))?"x":"y"}function r(e){return"y"===e?"height":"width"}function s(e,t,i){let{reference:s,floating:c}=e;const l=s.x+s.width/2-c.width/2,d=s.y+s.height/2-c.height/2,u=a(t),h=r(u),p=s[h]/2-c[h]/2,m="x"===u;let g;switch(n(t)){case"top":g={x:l,y:s.y-c.height};break;case"bottom":g={x:l,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:d};break;case"left":g={x:s.x-c.width,y:d};break;default:g={x:s.x,y:s.y}}switch(o(t)){case"start":g[u]-=p*(i&&m?-1:1);break;case"end":g[u]+=p*(i&&m?-1:1)}return g}i.d(t,{Cp:function(){return x},JB:function(){return d},RR:function(){return k},dp:function(){return P},oo:function(){return c},uY:function(){return _}});const c=async(e,t,i)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:r}=i,c=a.filter(Boolean),l=await(null==r.isRTL?void 0:r.isRTL(t));let d=await r.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:h}=s(d,n,l),p=n,m={},g=0;for(let i=0;i<c.length;i++){const{name:a,fn:f}=c[i],{x:v,y,data:b,reset:w}=await f({x:u,y:h,initialPlacement:n,placement:p,strategy:o,middlewareData:m,rects:d,platform:r,elements:{reference:e,floating:t}});u=null!=v?v:u,h=null!=y?y:h,m={...m,[a]:{...m[a],...b}},w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(p=w.placement),w.rects&&(d=!0===w.rects?await r.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:u,y:h}=s(d,p,l))),i=-1)}return{x:u,y:h,placement:p,strategy:o,middlewareData:m}};function l(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function d(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function u(e,t){var i;void 0===t&&(t={});const{x:n,y:o,platform:a,rects:r,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=t,f=l(g),v=s[m?"floating"===p?"reference":"floating":p],y=d(await a.getClippingRect({element:null==(i=await(null==a.isElement?void 0:a.isElement(v)))||i?v:v.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:h,strategy:c})),b=d(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===p?{...r.floating,x:n,y:o}:r.reference,offsetParent:await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),strategy:c}):r[p]);return{top:y.top-b.top+f.top,bottom:b.bottom-y.bottom+f.bottom,left:y.left-b.left+f.left,right:b.right-y.right+f.right}}const h=Math.min,p=Math.max;function m(e,t,i){return p(e,h(t,i))}const g={left:"right",right:"left",bottom:"top",top:"bottom"};function f(e){return e.replace(/left|right|bottom|top/g,(e=>g[e]))}function v(e,t,i){void 0===i&&(i=!1);const n=o(e),s=a(e),c=r(s);let l="x"===s?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[c]>t.floating[c]&&(l=f(l)),{main:l,cross:f(l)}}const y={start:"end",end:"start"};function b(e){return e.replace(/start|end/g,(e=>y[e]))}const w=["top","right","bottom","left"],k=(w.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i;const{placement:o,middlewareData:a,rects:r,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",flipAlignment:g=!0,...y}=e,w=n(o),k=p||(w!==s&&g?function(e){const t=f(e);return[b(e),t,b(t)]}(s):[f(s)]),S=[s,...k],C=await u(t,y),x=[];let T=(null==(i=a.flip)?void 0:i.overflows)||[];if(d&&x.push(C[w]),h){const{main:e,cross:t}=v(o,r,await(null==c.isRTL?void 0:c.isRTL(l.floating)));x.push(C[e],C[t])}if(T=[...T,{placement:o,overflows:x}],!x.every((e=>e<=0))){var _,P;const e=(null!=(_=null==(P=a.flip)?void 0:P.index)?_:0)+1,t=S[e];if(t)return{data:{index:e,overflows:T},reset:{placement:t}};let i="bottom";switch(m){case"bestFit":{var A;const e=null==(A=T.map((e=>[e,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0].placement;e&&(i=e);break}case"initialPlacement":i=s}if(o!==i)return{reset:{placement:i}}}return{}}}});function S(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function C(e){return w.some((t=>e[t]>=0))}const x=function(e){let{strategy:t="referenceHidden",...i}=void 0===e?{}:e;return{name:"hide",async fn(e){const{rects:n}=e;switch(t){case"referenceHidden":{const t=S(await u(e,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:C(t)}}}case"escaped":{const t=S(await u(e,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:t,escaped:C(t)}}}default:return{}}}}};function T(e){return"x"===e?"y":"x"}const _=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:l={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...d}=e,h={x:i,y:o},p=await u(t,d),g=a(n(r)),f=T(g);let v=h[g],y=h[f];if(s){const e="y"===g?"bottom":"right";v=m(v+p["y"===g?"top":"left"],v,v-p[e])}if(c){const e="y"===f?"bottom":"right";y=m(y+p["y"===f?"top":"left"],y,y-p[e])}const b=l.fn({...t,[g]:v,[f]:y});return{...b,data:{x:b.x-i,y:b.y-o}}}}},P=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:i,rects:a,platform:r,elements:s}=t,{apply:c=(()=>{}),...l}=e,d=await u(t,l),h=n(i),m=o(i);let g,f;"top"===h||"bottom"===h?(g=h,f=m===(await(null==r.isRTL?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(f=h,g="end"===m?"top":"bottom");const v=p(d.left,0),y=p(d.right,0),b=p(d.top,0),w=p(d.bottom,0),k={availableHeight:a.floating.height-(["left","right"].includes(i)?2*(0!==b||0!==w?b+w:p(d.top,d.bottom)):d[g]),availableWidth:a.floating.width-(["top","bottom"].includes(i)?2*(0!==v||0!==y?v+y:p(d.left,d.right)):d[f])};await c({...t,...k});const S=await r.getDimensions(s.floating);return a.floating.width!==S.width||a.floating.height!==S.height?{reset:{rects:!0}}:{}}}}},50123:function(e,t,i){"use strict";i.d(t,{Me:function(){return N},oo:function(){return E}});var n=i(50937);function o(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function a(e){if(null==e)return window;if(!o(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function r(e){return a(e).getComputedStyle(e)}function s(e){return o(e)?"":e?(e.nodeName||"").toLowerCase():""}function c(){const e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function l(e){return e instanceof a(e).HTMLElement}function d(e){return e instanceof a(e).Element}function u(e){return"undefined"!=typeof ShadowRoot&&(e instanceof a(e).ShadowRoot||e instanceof ShadowRoot)}function h(e){const{overflow:t,overflowX:i,overflowY:n,display:o}=r(e);return/auto|scroll|overlay|hidden/.test(t+n+i)&&!["inline","contents"].includes(o)}function p(e){return["table","td","th"].includes(s(e))}function m(e){const t=/firefox/i.test(c()),i=r(e),n=i.backdropFilter||i.WebkitBackdropFilter;return"none"!==i.transform||"none"!==i.perspective||!!n&&"none"!==n||t&&"filter"===i.willChange||t&&!!i.filter&&"none"!==i.filter||["transform","perspective"].some((e=>i.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=i.contain;return null!=t&&t.includes(e)}))}function g(){return!/^((?!chrome|android).)*safari/i.test(c())}function f(e){return["html","body","#document"].includes(s(e))}const v=Math.min,y=Math.max,b=Math.round;function w(e,t,i){var n,o,r,s;void 0===t&&(t=!1),void 0===i&&(i=!1);const c=e.getBoundingClientRect();let u=1,h=1;t&&l(e)&&(u=e.offsetWidth>0&&b(c.width)/e.offsetWidth||1,h=e.offsetHeight>0&&b(c.height)/e.offsetHeight||1);const p=d(e)?a(e):window,m=!g()&&i,f=(c.left+(m&&null!=(n=null==(o=p.visualViewport)?void 0:o.offsetLeft)?n:0))/u,v=(c.top+(m&&null!=(r=null==(s=p.visualViewport)?void 0:s.offsetTop)?r:0))/h,y=c.width/u,w=c.height/h;return{width:y,height:w,top:v,right:f+y,bottom:v+w,left:f,x:f,y:v}}function k(e){return(t=e,(t instanceof a(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function S(e){return d(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function C(e){return w(k(e)).left+S(e).scrollLeft}function x(e,t,i){const n=l(t),o=k(t),a=w(e,n&&function(e){const t=w(e);return b(t.width)!==e.offsetWidth||b(t.height)!==e.offsetHeight}(t),"fixed"===i);let r={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(n||!n&&"fixed"!==i)if(("body"!==s(t)||h(o))&&(r=S(t)),l(t)){const e=w(t,!0);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=C(o));return{x:a.left+r.scrollLeft-c.x,y:a.top+r.scrollTop-c.y,width:a.width,height:a.height}}function T(e){if("html"===s(e))return e;const t=e.assignedSlot||e.parentNode||(u(e)?e.host:null)||k(e);return u(t)?t.host:t}function _(e){return l(e)&&"fixed"!==r(e).position?e.offsetParent:null}function P(e){const t=a(e);let i=_(e);for(;i&&p(i)&&"static"===r(i).position;)i=_(i);return i&&("html"===s(i)||"body"===s(i)&&"static"===r(i).position&&!m(i))?t:i||function(e){let t=T(e);for(;l(t)&&!f(t);){if(m(t))return t;t=T(t)}return null}(e)||t}function A(e){if(l(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=w(e);return{width:t.width,height:t.height}}function I(e){const t=T(e);return f(t)?e.ownerDocument.body:l(t)&&h(t)?t:I(t)}function $(e,t){var i;void 0===t&&(t=[]);const n=I(e),o=n===(null==(i=e.ownerDocument)?void 0:i.body),r=a(n),s=o?[r].concat(r.visualViewport||[],h(n)?n:[]):n,c=t.concat(s);return o?c:c.concat($(s))}function M(e,t,i){return"viewport"===t?(0,n.JB)(function(e,t){const i=a(e),n=k(e),o=i.visualViewport;let r=n.clientWidth,s=n.clientHeight,c=0,l=0;if(o){r=o.width,s=o.height;const e=g();(e||!e&&"fixed"===t)&&(c=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:c,y:l}}(e,i)):d(t)?function(e,t){const i=w(e,!1,"fixed"===t),n=i.top+e.clientTop,o=i.left+e.clientLeft;return{top:n,left:o,x:o,y:n,right:o+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,i):(0,n.JB)(function(e){var t;const i=k(e),n=S(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=y(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=y(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-n.scrollLeft+C(e);const l=-n.scrollTop;return"rtl"===r(o||i).direction&&(c+=y(i.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:c,y:l}}(k(e)))}const D={getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:n,strategy:o}=e;const a="clippingAncestors"===i?function(e){let t=$(e).filter((e=>d(e)&&"body"!==s(e))),i=e,n=null;for(;d(i)&&!f(i);){const e=r(i);"static"===e.position&&n&&["absolute","fixed"].includes(n.position)&&!m(i)?t=t.filter((e=>e!==i)):n=e,i=T(i)}return t}(t):[].concat(i),c=[...a,n],l=c[0],u=c.reduce(((e,i)=>{const n=M(t,i,o);return e.top=y(n.top,e.top),e.right=v(n.right,e.right),e.bottom=v(n.bottom,e.bottom),e.left=y(n.left,e.left),e}),M(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:i,strategy:n}=e;const o=l(i),a=k(i);if(i===a)return t;let r={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&"fixed"!==n)&&(("body"!==s(i)||h(a))&&(r=S(i)),l(i))){const e=w(i,!0);c.x=e.x+i.clientLeft,c.y=e.y+i.clientTop}return{...t,x:t.x-r.scrollLeft+c.x,y:t.y-r.scrollTop+c.y}},isElement:d,getDimensions:A,getOffsetParent:P,getDocumentElement:k,getElementRects:e=>{let{reference:t,floating:i,strategy:n}=e;return{reference:x(t,P(i),n),floating:{...A(i),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===r(e).direction};function N(e,t,i,n){void 0===n&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:r=!0,animationFrame:s=!1}=n,c=o&&!s,l=c||a?[...d(e)?$(e):e.contextElement?$(e.contextElement):[],...$(t)]:[];l.forEach((e=>{c&&e.addEventListener("scroll",i,{passive:!0}),a&&e.addEventListener("resize",i)}));let u,h=null;if(r){let n=!0;h=new ResizeObserver((()=>{n||i(),n=!1})),d(e)&&!s&&h.observe(e),d(e)||!e.contextElement||s||h.observe(e.contextElement),h.observe(t)}let p=s?w(e):null;return s&&function t(){const n=w(e);!p||n.x===p.x&&n.y===p.y&&n.width===p.width&&n.height===p.height||i(),p=n,u=requestAnimationFrame(t)}(),i(),()=>{var e;l.forEach((e=>{c&&e.removeEventListener("scroll",i),a&&e.removeEventListener("resize",i)})),null==(e=h)||e.disconnect(),h=null,s&&cancelAnimationFrame(u)}}const E=(e,t,i)=>(0,n.oo)(e,t,{platform:D,...i})},7986:function(e,t,i){"use strict";function n(...e){return e.every((e=>e instanceof HTMLElement))}function o(e,t){if(!e||!t||!n(e))return;return Array.from(e.querySelectorAll(t)).filter((e=>null!==e.offsetParent))}i.d(t,{Re:function(){return n},UM:function(){return o}})},94537:function(e,t,i){"use strict";i.d(t,{BE:function(){return o},BI:function(){return u},CX:function(){return l},Kh:function(){return s},SB:function(){return r},iF:function(){return n},kL:function(){return c},mr:function(){return a},oM:function(){return h},tU:function(){return d},uf:function(){return p}});const n="ArrowDown",o="ArrowLeft",a="ArrowRight",r="ArrowUp",s="End",c="Enter",l="Escape",d="Home",u=" ",h="Tab",p={ArrowDown:n,ArrowLeft:o,ArrowRight:a,ArrowUp:r}},62512:function(e,t,i){"use strict";i.d(t,{EL:function(){return o},TF:function(){return r},WU:function(){return a}});let n=0;function o(e=""){return`${e}${n++}`}function a(e,...t){return e.replace(/{(\d+)}/g,(function(e,i){if(i>=t.length)return e;const n=t[i];return"number"==typeof n||n?n:""}))}function r(e){return!e||!e.trim()}},52058:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(17593),o=i(5669),a=i(56423),r=Array.prototype.splice;var s=function(e,t){for(var i=e?t.length:0,n=i-1;i--;){var s=t[i];if(i==n||s!==c){var c=s;(0,a.Z)(s)?r.call(e,s,1):(0,o.Z)(e,s)}}return e};var c=function(e,t){var i=[];if(!e||!e.length)return i;var o=-1,a=[],r=e.length;for(t=(0,n.Z)(t,3);++o<r;){var c=e[o];t(c,o,e)&&(i.push(c),a.push(o))}return s(e,a),i}},61303:function(e,t,i){"use strict";i.d(t,{EQ:function(){return O},P:function(){return E}});const n=Symbol.for("@ts-pattern/matcher"),o=Symbol.for("@ts-pattern/isVariadic"),a="@ts-pattern/anonymous-select-key",r=e=>Boolean(e&&"object"==typeof e),s=e=>e&&!!e[n],c=(e,t,i)=>{if(s(e)){const o=e[n](),{matched:a,selections:r}=o.match(t);return a&&r&&Object.keys(r).forEach((e=>i(e,r[e]))),a}if(r(e)){if(!r(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],a=[],r=[];for(const t of e.keys()){const i=e[t];s(i)&&i[o]?r.push(i):r.length?a.push(i):n.push(i)}if(r.length){if(r.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+a.length)return!1;const e=t.slice(0,n.length),o=0===a.length?[]:t.slice(-a.length),s=t.slice(n.length,0===a.length?1/0:-a.length);return n.every(((t,n)=>c(t,e[n],i)))&&a.every(((e,t)=>c(e,o[t],i)))&&(0===r.length||c(r[0],s,i))}return e.length===t.length&&e.every(((e,n)=>c(e,t[n],i)))}return Object.keys(e).every((o=>{const a=e[o];return(o in t||s(r=a)&&"optional"===r[n]().matcherType)&&c(a,t[o],i);var r}))}return Object.is(t,e)},l=e=>{var t,i,o;return r(e)?s(e)?null!=(t=null==(i=(o=e[n]()).getSelectionKeys)?void 0:i.call(o))?t:[]:Array.isArray(e)?d(e,l):d(Object.values(e),l):[]},d=(e,t)=>e.reduce(((e,i)=>e.concat(t(i))),[]);function u(e){return Object.assign(e,{optional:()=>p(e),and:t=>f(e,t),or:t=>v(e,t),select:t=>void 0===t?b(e):b(t,e)})}function h(e){return Object.assign((e=>Object.assign(e,{*[Symbol.iterator](){yield Object.assign(e,{[o]:!0})}}))(e),{optional:()=>h(p(e)),select:t=>h(void 0===t?b(e):b(t,e))})}function p(e){return u({[n]:()=>({match:t=>{let i={};const n=(e,t)=>{i[e]=t};return void 0===t?(l(e).forEach((e=>n(e,void 0))),{matched:!0,selections:i}):{matched:c(e,t,n),selections:i}},getSelectionKeys:()=>l(e),matcherType:"optional"})})}const m=(e,t)=>{for(const i of e)if(!t(i))return!1;return!0},g=(e,t)=>{for(const[i,n]of e.entries())if(!t(n,i))return!1;return!0};function f(...e){return u({[n]:()=>({match:t=>{let i={};const n=(e,t)=>{i[e]=t};return{matched:e.every((e=>c(e,t,n))),selections:i}},getSelectionKeys:()=>d(e,l),matcherType:"and"})})}function v(...e){return u({[n]:()=>({match:t=>{let i={};const n=(e,t)=>{i[e]=t};return d(e,l).forEach((e=>n(e,void 0))),{matched:e.some((e=>c(e,t,n))),selections:i}},getSelectionKeys:()=>d(e,l),matcherType:"or"})})}function y(e){return{[n]:()=>({match:t=>({matched:Boolean(e(t))})})}}function b(...e){const t="string"==typeof e[0]?e[0]:void 0,i=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return u({[n]:()=>({match:e=>{let n={[null!=t?t:a]:e};return{matched:void 0===i||c(i,e,((e,t)=>{n[e]=t})),selections:n}},getSelectionKeys:()=>[null!=t?t:a].concat(void 0===i?[]:l(i))})})}function w(e){return"number"==typeof e}function k(e){return"string"==typeof e}function S(e){return"bigint"==typeof e}const C=u(y((function(e){return!0}))),x=C,T=e=>Object.assign(u(e),{startsWith:t=>{return T(f(e,(i=t,y((e=>k(e)&&e.startsWith(i))))));var i},endsWith:t=>{return T(f(e,(i=t,y((e=>k(e)&&e.endsWith(i))))));var i},minLength:t=>T(f(e,(e=>y((t=>k(t)&&t.length>=e)))(t))),maxLength:t=>T(f(e,(e=>y((t=>k(t)&&t.length<=e)))(t))),includes:t=>{return T(f(e,(i=t,y((e=>k(e)&&e.includes(i))))));var i},regex:t=>{return T(f(e,(i=t,y((e=>k(e)&&Boolean(e.match(i)))))));var i}}),_=T(y(k)),P=e=>Object.assign(u(e),{between:(t,i)=>P(f(e,((e,t)=>y((i=>w(i)&&e<=i&&t>=i)))(t,i))),lt:t=>P(f(e,(e=>y((t=>w(t)&&t<e)))(t))),gt:t=>P(f(e,(e=>y((t=>w(t)&&t>e)))(t))),lte:t=>P(f(e,(e=>y((t=>w(t)&&t<=e)))(t))),gte:t=>P(f(e,(e=>y((t=>w(t)&&t>=e)))(t))),int:()=>P(f(e,y((e=>w(e)&&Number.isInteger(e))))),finite:()=>P(f(e,y((e=>w(e)&&Number.isFinite(e))))),positive:()=>P(f(e,y((e=>w(e)&&e>0)))),negative:()=>P(f(e,y((e=>w(e)&&e<0))))}),A=P(y(w)),I=e=>Object.assign(u(e),{between:(t,i)=>I(f(e,((e,t)=>y((i=>S(i)&&e<=i&&t>=i)))(t,i))),lt:t=>I(f(e,(e=>y((t=>S(t)&&t<e)))(t))),gt:t=>I(f(e,(e=>y((t=>S(t)&&t>e)))(t))),lte:t=>I(f(e,(e=>y((t=>S(t)&&t<=e)))(t))),gte:t=>I(f(e,(e=>y((t=>S(t)&&t>=e)))(t))),positive:()=>I(f(e,y((e=>S(e)&&e>0)))),negative:()=>I(f(e,y((e=>S(e)&&e<0))))}),$=I(y(S)),M=u(y((function(e){return"boolean"==typeof e}))),D=u(y((function(e){return"symbol"==typeof e}))),N=u(y((function(e){return null==e})));var E={__proto__:null,matcher:n,optional:p,array:function(...e){return h({[n]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(0===e.length)return{matched:!0};const i=e[0];let n={};if(0===t.length)return l(i).forEach((e=>{n[e]=[]})),{matched:!0,selections:n};const o=(e,t)=>{n[e]=(n[e]||[]).concat([t])};return{matched:t.every((e=>c(i,e,o))),selections:n}},getSelectionKeys:()=>0===e.length?[]:l(e[0])})})},set:function(...e){return u({[n]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let i={};if(0===t.size)return{matched:!0,selections:i};if(0===e.length)return{matched:!0};const n=(e,t)=>{i[e]=(i[e]||[]).concat([t])},o=e[0];return{matched:m(t,(e=>c(o,e,n))),selections:i}},getSelectionKeys:()=>0===e.length?[]:l(e[0])})})},map:function(...e){return u({[n]:()=>({match:t=>{if(!(t instanceof Map))return{matched:!1};let i={};if(0===t.size)return{matched:!0,selections:i};const n=(e,t)=>{i[e]=(i[e]||[]).concat([t])};if(0===e.length)return{matched:!0};var o;if(1===e.length)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${null==(o=e[0])?void 0:o.toString()}`);const[a,r]=e;return{matched:g(t,((e,t)=>{const i=c(a,t,n),o=c(r,e,n);return i&&o})),selections:i}},getSelectionKeys:()=>0===e.length?[]:[...l(e[0]),...l(e[1])]})})},intersection:f,union:v,not:function(e){return u({[n]:()=>({match:t=>({matched:!c(e,t,(()=>{}))}),getSelectionKeys:()=>[],matcherType:"not"})})},when:y,select:b,any:C,_:x,string:_,number:A,bigint:$,boolean:M,symbol:D,nullish:N,instanceOf:function(e){return u(y(function(e){return t=>t instanceof e}(e)))},shape:function(e){return u(y(function(...e){if(1===e.length){const[t]=e;return e=>c(t,e,(()=>{}))}if(2===e.length){const[t,i]=e;return c(t,i,(()=>{}))}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}(e)))}};const R={matched:!1,value:void 0};function O(e){return new L(e,R)}class L{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...e){if(this.state.matched)return this;const t=e[e.length-1],i=[e[0]];let n;3===e.length&&"function"==typeof e[1]?n=e[1]:e.length>2&&i.push(...e.slice(1,e.length-1));let o=!1,r={};const s=(e,t)=>{o=!0,r[e]=t},l=!i.some((e=>c(e,this.input,s)))||n&&!Boolean(n(this.input))?R:{matched:!0,value:t(o?a in r?r[a]:r:this.input,this.input)};return new L(this.input,l)}when(e,t){if(this.state.matched)return this;const i=Boolean(e(this.input));return new L(this.input,i?{matched:!0,value:t(this.input,this.input)}:R)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let e;try{e=JSON.stringify(this.input)}catch(t){e=this.input}throw new Error(`Pattern matching error: no pattern matches value ${e}`)}run(){return this.exhaustive()}returnType(){return this}}}}]);